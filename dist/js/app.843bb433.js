(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"026f":function(t,e,a){t.exports=a.p+"img/feedback1.20ef4303.png"},"034f":function(t,e,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"056b":function(t,e,a){},"072a":function(t,e,a){"use strict";var s=a("7ba6"),n=a.n(s);n.a},"0f0e":function(t,e,a){},1:function(t,e){},"113c":function(t,e,a){t.exports=a.p+"img/default.03fa7026.png"},"12ba":function(t,e,a){t.exports=a.p+"img/esthetic.ea19c0c7.jpg"},"13c3":function(t,e,a){t.exports=a.p+"img/rx.d1f1c0f7.png"},1490:function(t,e,a){"use strict";var s=a("b49c"),n=a.n(s);n.a},"1ddb":function(t,e,a){t.exports=a.p+"img/insta.0c87c7db.png"},"1e2f":function(t,e,a){"use strict";var s=a("7449"),n=a.n(s);n.a},"1f4b":function(t,e,a){},"1f90":function(t,e,a){"use strict";var s=a("2f5f"),n=a.n(s);n.a},"258b":function(t,e,a){t.exports=a.p+"img/feedback0.812338f1.png"},"2f5f":function(t,e,a){},"300a":function(t,e,a){"use strict";var s=a("d952"),n=a.n(s);n.a},"32ca":function(t,e,a){"use strict";var s=a("56b6"),n=a.n(s);n.a},3537:function(t,e,a){"use strict";var s=a("4038"),n=a.n(s);n.a},3721:function(t,e,a){},3990:function(t,e,a){},4038:function(t,e,a){},4092:function(t,e,a){"use strict";var s=a("8472"),n=a.n(s);n.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="4678"},"47e4":function(t,e,a){t.exports=a.p+"img/login.5911f723.svg"},"4d0d":function(t,e,a){},"4de0":function(t,e,a){"use strict";var s=a("bf0f"),n=a.n(s);n.a},"4ef2":function(t,e,a){},"56b6":function(t,e,a){},"56be":function(t,e,a){"use strict";var s=a("4d0d"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4989"),a("7e7d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.showSetPassModal?a("resetPasswordModal"):t._e(),t.islogin?a("div",[t.isadmin||t.isstaff||t.issuperadmin?a("div",{attrs:{id:"wrapper"}},[a("sideNav",{staticClass:"noprint"}),a("div",{staticClass:"d-flex flex-column",staticStyle:{background:"#FFFFFF !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("topNav",{staticClass:"noprint"}),a("div",{attrs:{id:"mainBody"}},[t.islogin?a("router-view"):t._e()],1)],1)])],1):a("div",{attrs:{id:"wrapper"}},[a("patientsideNav",{staticClass:"noprint"}),a("div",{staticClass:"d-flex flex-column",staticStyle:{background:"#FFFFFF !important"},attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("patienttopNav",{staticClass:"noprint"}),a("div",{attrs:{id:"mainBody"}},[t.islogin?a("router-view"):t._e()],1)],1)])],1)]):t._e(),t.islogin?t._e():a("div",{attrs:{id:"login"}},[a("login")],1)],1)},i=[],r=(a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("5530")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",attrs:{id:"accordionSidebar"}},[s("router-link",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",staticStyle:{background:"#083D55"},attrs:{to:{name:"dashboard"}}},[s("div",{staticClass:"sidebar-brand-icon rotate-n-0"},[s("img",{staticStyle:{height:"40px",width:"50px","border-radius":"10px"},attrs:{src:a("8e97")}})]),s("div",{staticClass:"sidebar-brand-text mx-3"},[t._v("Dental Clinic")])]),s("hr",{staticClass:"sidebar-divider my-0"}),s("li",{staticClass:"nav-item",attrs:{id:"dashboardnav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[s("i",{staticClass:"fas fa-fw fa-tachometer-alt"}),s("span",[t._v("Dashboard")])])],1),s("li",{staticClass:"dropdown nav-item",attrs:{id:"patientnav"}},[t._m(0),s("div",{staticClass:"dropdown-content"},[s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"newPatient"}}},[s("span",{staticClass:"fa fa-plus-circle"}),t._v(" New")]),s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"listPatient"}}},[s("span",{staticClass:"fa fa-search"}),t._v(" Search")])],1)]),s("li",{staticClass:"dropdown nav-item",attrs:{id:"reservenav"}},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"}},[s("i",{staticClass:"fas fa-fw fa-file-alt"}),s("span",[t._v(" Appointment(s)")]),t.pendingReservation.length>0?s("span",{staticClass:"badgenum"},[t._v(t._s(t.pendingReservation.length))]):t._e()]),s("div",{staticClass:"dropdown-content"},[s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"appointment"}}},[s("span",{staticClass:"fa fa-file-alt"}),t._v(" Appointment(s)")]),s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"pendingReservation"}}},[s("span",{staticClass:"fa fa-times-circle"}),t._v(" Pending")]),s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"dataReservationList"}}},[s("span",{staticClass:"fa fa-check-circle"}),t._v(" List")])],1)]),s("li",{staticClass:"nav-item",attrs:{id:"pharmacynav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"pharmacySale"}}},[s("i",{staticClass:"fas fa-fw fas fa-file-prescription"}),s("span",[t._v(" Pharmacy")])])],1),s("hr",{staticClass:"sidebar-divider"}),s("li",{staticClass:"nav-item",attrs:{id:"settingnav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"settings"}}},[s("i",{staticClass:"fas fa-fw fa-cogs"}),s("span",[t._v(" Other Settings")])])],1),3==t.userinfo.usertype||0==t.userinfo.usertype?s("li",{staticClass:"dropdown nav-item",attrs:{id:"reportnav"}},[t._m(1),s("div",{staticClass:"dropdown-content"},[s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"report_records"}}},[s("span",{staticClass:"fa fa-file-alt"}),t._v(" Records")]),s("router-link",{staticClass:"dropdownItem",attrs:{to:{name:"report_sales"}}},[s("span",{staticClass:"fa fa-dollar-sign"}),t._v(" Graphs")])],1)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?s("li",{staticClass:"nav-item",attrs:{id:"backendfeedbacknav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"backendfeedback"}}},[s("i",{staticClass:"fas fa-fw fa-star"}),s("span",[t._v(" Feedbacks/Comments")])])],1):t._e(),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[s("i",{staticClass:"fas fa-power-off"}),s("span",[t._v(" Logout")])])]),s("hr",{staticClass:"sidebar-divider d-none d-md-block"}),t._m(2)],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-fw fa fa-user-md"}),a("span",[t._v(" Manage Patient(s)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-fw fa-book"}),a("span",[t._v(" Reports")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"rounded-circle border-0",attrs:{id:"sidebarToggle"}})])}],l=a("2f62"),d={name:"sidenav",methods:{logout:function(){var t=this;this.$swal({title:"Leave this Application?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Logout!"}).then((function(e){e.value&&(t.$store.dispatch("logout"),t.$router.replace("/"))}))}},computed:Object(r["a"])({userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},Object(l["d"])({pendingReservation:function(t){return t.reservation.pendings}})),mounted:function(){var t=this;this.$store.dispatch("reservation/getPending"),this.$mysocket.on("updateReservation",(function(){t.$store.dispatch("reservation/getPending")}))}},u=d,m=(a("3537"),a("2877")),p=Object(m["a"])(u,o,c,!1,null,"01d12ed7",null),h=p.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",attrs:{id:"accordionSidebar"}},[s("router-link",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",staticStyle:{background:"#083D55"},attrs:{to:{name:"dashboard"}}},[s("div",{staticClass:"sidebar-brand-icon rotate-n-0"},[s("img",{staticStyle:{height:"40px",width:"50px","border-radius":"10px"},attrs:{src:a("8e97")}})]),s("div",{staticClass:"sidebar-brand-text mx-3"},[t._v("Dental Clinic")])]),s("hr",{staticClass:"sidebar-divider my-0"}),s("li",{staticClass:"nav-item",attrs:{id:"dashboardnav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"patientdashboard"}}},[s("i",{staticClass:"fas fa-fw fa-user"}),s("span",[t._v(" Profile")])])],1),s("li",{staticClass:"nav-item",attrs:{id:"reservationnav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"patientReservation"}}},[s("i",{staticClass:"fas fa-fw fa-calendar"}),s("span",[t._v(" Appointment(s)")])])],1),s("li",{staticClass:"nav-item",attrs:{id:"recordnav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"patienttransaction"}}},[s("i",{staticClass:"fas fa-fw fa-edit"}),s("span",[t._v(" Records")])])],1),s("li",{staticClass:"nav-item",attrs:{id:"feedbacknav"}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"patientfeedback"}}},[s("i",{staticClass:"fas fa-fw fa-star"}),s("span",[t._v(" Feedbacks/Comments")])])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[s("i",{staticClass:"fas fa-power-off"}),s("span",[t._v(" Logout")])])]),s("hr",{staticClass:"sidebar-divider d-none d-md-block"}),t._m(0)],1)},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"rounded-circle border-0",attrs:{id:"sidebarToggle"}})])}],g={methods:{logout:function(){var t=this;this.$swal({title:"Leave this Application?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Logout!"}).then((function(e){e.value&&(t.$store.dispatch("logout"),t.$router.replace("/"))}))}},computed:{userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},mounted:function(){}},b=g,_=(a("a940"),Object(m["a"])(b,f,v,!1,null,"694752ba",null)),C=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},[t._m(0),s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"javascript:void(0)",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.openAlert()}}},[s("i",{staticClass:"fas fa-bell fa-fw"}),t.notifs.length>0?s("span",{staticClass:"badge badge-danger badge-counter"},[t._v(t._s(t.notifs.length))]):t._e()]),s("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",style:t.showalert,attrs:{"aria-labelledby":"alertsDropdown"}},[s("h6",{staticClass:"dropdown-header"},[t._v(" Request Alert ")]),t._l(t.notifs,(function(e,a){return s("a",{key:a,staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.viewNotif(e)}}},[s("div",{staticClass:"mr-3"},["denied"==e.targetLink||"cancelled"==e.targetLink?s("div",{staticClass:"icon-circle bg-warning"},[s("i",{staticClass:"fas fa-exclamation-triangle text-white"})]):"approved"==e.targetLink?s("div",{staticClass:"icon-circle bg-success"},[s("i",{staticClass:"fas fa-check text-white"})]):t._e()]),s("div",[s("div",{staticClass:"small text-gray-500"},[t._v(t._s(t.dDate(e.createdAt)))]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.message))])])])})),s("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"javascript:void(0)"}},[t._v("Show All Alerts")])],2)]),s("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.openMessage()}}},[s("i",{staticClass:"fas fa-envelope fa-fw"}),t.messages.length>0?s("span",{staticClass:"badge badge-danger badge-counter"},[t._v(t._s(t.messages.length))]):t._e()]),s("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",style:t.showmessage,attrs:{"aria-labelledby":"messagesDropdown"}},[s("h6",{staticClass:"dropdown-header"},[t._v(" Message Center ")]),t._l(t.messages,(function(e,a){return s("a",{key:a,staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.viewNotif(e)}}},[t._m(1,!0),s("div",[s("div",{staticClass:"small text-gray-500"},[t._v(t._s(t.dDate(e.createdAt)))]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.limitMask(e.message)))])])])})),s("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"javascript:void(0)"}},[t._v("Read More Messages")])],2)]),s("div",{staticClass:"topbar-divider d-none d-sm-block"}),s("li",{staticClass:"nav-item dropdown no-arrow"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"javascript:void(0)",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"mr-2 d-none d-lg-inline text-gray-600 small"},[t._v(t._s(t.userinfo.fullname))]),null==t.userinfo.img||""==t.userinfo.img?s("img",{staticClass:"img-profile rounded-circle",attrs:{src:a("113c")}}):s("img",{staticClass:"img-profile rounded-circle",attrs:{src:t.imgUrl+"/"+t.userinfo.img}})])])]),t.shownotifmessage?s("notifMessageModal",{attrs:{notifdata:t.notifdata},on:{closemodal:t.closemodal}}):t._e()],1)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop"}},[a("i",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr-3"},[a("div",{staticClass:"icon-circle bg-primary"},[a("i",{staticClass:"fas fa-info text-white"})])])}],x=a("646b"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h3",[t._v(t._s(t.notifdata.message))]),a("hr"),a("small",[t._v(t._s(t.dateandTime))])]),a("div",{staticClass:"modal-footer"})])])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-envelope"}),t._v(" Notification Message")])}],$=(a("99af"),{props:{notifdata:{type:Object,required:!0}},data:function(){return{errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")}},computed:{dateandTime:{get:function(){return"".concat(Object(x["formatBdayDate"])(this.notifdata.createdAt)," ").concat(Object(x["format12Hour"])(this.notifdata.createdAt))}}},mounted:function(){this.$store.dispatch("notification/messageMarkasRead",this.notifdata.id)}}),E=$,D=Object(m["a"])(E,k,S,!1,null,null,null),I=D.exports,T={name:"topNavComponent",data:function(){return{showalert:{display:"none"},showmessage:{display:"none"},shownotifmessage:!1,notifdata:{},imgUrl:this.$store.state.imgUrl}},methods:{openAlert:function(){"none"==this.showalert.display?(this.showalert.display="block",this.showmessage.display="none"):this.showalert.display="none"},openMessage:function(){"none"==this.showmessage.display?(this.showmessage.display="block",this.showalert.display="none"):this.showmessage.display="none"},closemodal:function(){this.shownotifmessage=!1},limitMask:function(t){return Object(x["limitText"])(t)},dDate:function(t){return Object(x["formatBdayDate"])(t)},viewNotif:function(t){"approved"==t.targetLink||"denied"==t.targetLink||"cancelled"==t.targetLink||"resched"==t.targetLink?(this.$router.push({name:"patientViewReservation",params:{idno:t.reservationId}}),this.showalert.display="none",window.location.reload()):(this.notifdata=t,this.shownotifmessage=!0)}},computed:Object(r["a"])({userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},Object(l["d"])({notifications:function(t){return t.notification.notifications}}),{},Object(l["c"])("notification",["notifs","messages"])),mounted:function(){var t=this;this.$store.dispatch("notification/getPendingNotification",{admin:0}),this.$mysocket.emit("listenPrivate","patient_".concat(this.userinfo.id)),this.$mysocket.on("updatePatientNotification",(function(){t.$store.dispatch("notification/getPendingNotification",{admin:0})}))},components:{notifMessageModal:I}},N=T,A=Object(m["a"])(N,y,w,!1,null,null,null),O=A.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},[t._m(0),s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"javascript:void(0)",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){"none"==t.showalert.display?t.showalert.display="block":t.showalert.display="none"}}},[s("i",{staticClass:"fas fa-bell fa-fw"}),t.notifications.length>0?s("span",{staticClass:"badge badge-danger badge-counter"},[t._v(t._s(t.notifications.length))]):t._e()]),s("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",style:t.showalert,attrs:{"aria-labelledby":"alertsDropdown"}},[s("h6",{staticClass:"dropdown-header"},[t._v(" Pending Reservation Request ")]),t._l(t.notifications,(function(e,a){return s("a",{key:a,staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.viewNotif(e)}}},[t._m(1,!0),s("div",[s("div",{staticClass:"small text-gray-500"},[t._v(t._s(t.dDate(e.createdAt)))]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.message))])])])})),s("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v("Show All Alerts")])],2)]),s("div",{staticClass:"topbar-divider d-none d-sm-block"}),s("li",{staticClass:"nav-item dropdown no-arrow"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"javascript:void(0)",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"mr-2 d-none d-lg-inline text-gray-600 small"},[t._v(t._s(t.userinfo.fullname))]),s("img",{staticClass:"img-profile rounded-circle",attrs:{src:a("113c")}})]),t._m(2)])])])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop"}},[a("i",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr-3"},[a("div",{staticClass:"icon-circle bg-primary"},[a("i",{staticClass:"fas fa-file-alt text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"userDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),t._v(" Profile ")]),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),t._v(" Settings ")]),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),t._v(" Activity Log ")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)","data-toggle":"modal","data-target":"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),t._v(" Logout ")])])}],j=(a("96cf"),a("1da1")),R={name:"topNavComponent",data:function(){return{showalert:{display:"none"}}},methods:{dDate:function(t){return Object(x["formatBdayDate"])(t)},viewNotif:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("notification/markasRead",e.reservationId);case 2:"reservation"==e.targetLink&&(this.$router.push({name:"viewReservation",params:{idno:e.reservationId}}),this.showalert.display="none",window.location.reload());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},Object(l["d"])({notifications:function(t){return t.notification.notifications}})),mounted:function(){var t=this;this.$store.dispatch("notification/getPendingNotification",{admin:1}),this.$mysocket.on("updateNotification",(function(){t.$store.dispatch("notification/getPendingNotification",{admin:1})}))}},U=R,F=Object(m["a"])(U,P,M,!1,null,null,null),L=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.successlogin?s("div",{staticStyle:{"text-align":"center"}},[s("img",{staticStyle:{width:"100px",height:"100px","margin-bottom":"20px"},attrs:{src:a("fa5e")}}),s("br"),s("span",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("Loading ... Please Wait !")])]):s("div",{attrs:{id:"maindisplay"}},[s("div",{staticStyle:{padding:"0",margin:"0"},attrs:{id:"header"}},[s("div",{staticClass:"row",staticStyle:{height:"100%"}},[t._m(0),s("div",{staticClass:"col-md-9",staticStyle:{background:"white"}},[s("div",{staticClass:"float-right"},[s("button",{staticClass:"btnindex btn btn-default",on:{click:function(e){t.showloginModal=!0}}},[s("span",{staticClass:"fa fa-lock"}),t._v(" Login")]),s("button",{staticClass:"btnindex btn btn-default",on:{click:function(e){t.showregisterModal=!0}}},[s("span",{staticClass:"fa fa-user-circle"}),t._v(" Signup")])])])])]),s("div",{attrs:{id:"othercontent"}},[s("div",{attrs:{id:"slider"}},[s("carousel",{attrs:{"per-page":1,"mouse-drag":!0,centerMode:!0,autoplay:!0,adjustableHeight:!0,paginationEnabled:!1,loop:!0,speed:500,autoplayTimeout:1e4}},[s("slide",[s("div",{staticClass:"slideitem",attrs:{id:"firstslide"}},[s("div",[s("div",[s("div",{staticStyle:{position:"relative"}},[s("span",{staticStyle:{color:"#F6C23E",position:"absolute",bottom:"10px"}},[t._v("ANZA-"),s("span",{staticStyle:{color:"#355CCC"}},[t._v("YAP")]),s("small",{staticStyle:{"font-size":"20pt",color:"white"}},[t._v(" DENTAL CLINIC")])])]),s("span",[t._v("Giving The Best Solutions...")]),s("br"),s("small",{staticStyle:{"font-size":"12pt"}},[t._v(" For compliance of DOH requirement for dental clinic"),s("br"),s("hr",{staticStyle:{background:"white"}}),t._v(" *Hyphochlorus Machine *UV Light *Hepa Filter *HI VAC *Temperature Scanner *PPE *Autoclave Sterilizer ")])])])])]),s("slide",[s("div",{staticClass:"slideitem",attrs:{id:"secondslide"}},[s("div",[s("div",[s("span",[t._v("Making Our Customers Satisfied "),s("span",{staticClass:"fa fa-thumbs-up",staticStyle:{color:"#87CEEB"}})]),s("br"),s("small",{staticStyle:{"font-size":"12pt"}},[t._v(" For compliance of DOH requirement for dental clinic"),s("br"),s("hr",{staticStyle:{background:"white"}}),t._v(" *Hyphochlorus Machine *UV Light *Hepa Filter *HI VAC *Temperature Scanner *PPE *Autoclave Sterilizer ")])])])])]),s("slide",[s("div",{staticClass:"slideitem",attrs:{id:"thirdslide"}},[s("div",[s("div",[s("span",[t._v("Always Delivering Best Of Our Services "),s("span",{staticClass:"fa fa-smile",staticStyle:{color:"#F6C23E"}})]),s("br"),s("small",{staticStyle:{"font-size":"12pt"}},[t._v(" For compliance of DOH requirement for dental clinic"),s("br"),s("hr",{staticStyle:{background:"white"}}),t._v(" *Hyphochlorus Machine *UV Light *Hepa Filter *HI VAC *Temperature Scanner *PPE *Autoclave Sterilizer ")])])])])])],1)],1),t._m(1),t._m(2),s("div",{staticClass:"othercontent"},[s("span",{staticClass:"contenttitle"},[t._v("Our Specialties")]),s("p",{staticClass:"text-center",staticStyle:{"font-size":"14pt","margin-top":"20px"}},[t._v("To meet the specific services required for by the various procedures and treatments, the ANZA-YAP DENTAL CLINIC are equipped with the best dental facilities and equipment. Dental-chairs and accessories are of premium quality sourced mainly from Japan, Germany and the United States. Likewise, the clinic can accommodate the different market segments at very competitive prices due to its linkage with many dental laboratories and suppliers for a particular prosthetics within an affordable budget range. ")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(0)}}},[s("img",{attrs:{src:a("12ba")}}),s("p",[t._v("Esthetic Dentistry ")]),s("span",[t._v("Services such as restoration of badly broken down teeth, whitening of stained dentition and replacement of missing and lost teeth will ensure you a winning smile.")])]),s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(1)}}},[s("img",{attrs:{src:a("cdc8")}}),s("p",[t._v("Preventive Dentistry ")]),s("span",[t._v("ANZA-YAP Dental Clinic offers pediatric services such as fluoride applications, placement of pit and fissure sealants and stainless steel crowns among others.")])]),s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(2)}}},[s("img",{attrs:{src:a("718b")}}),s("p",[t._v("Periodontics & Endodontics")]),s("span",[t._v("ANZA-YAP Dental Clinic offers advanced approaches to treatment of gum diseases and pulp diseases.")])]),s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(3)}}},[s("img",{attrs:{src:a("faf8")}}),s("p",[t._v("Oral Surgery ")]),s("span",[t._v("provides safe surgical procedures from simple to complicated cases such as gingivectomy (removal of excess gums), odontectomy (removal of impacted teeth) among others. ")])]),s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(4)}}},[s("img",{attrs:{src:a("707a")}}),s("p",[t._v("Orthodontics")]),s("span",[t._v("Clinic offers preventive, interceptive and corrective treatment to malocclusion that will improve esthetic and functional needs and that will address TMJ problems.")])]),s("div",{staticClass:"col-md-2 servicelist",on:{mouseover:function(e){return t.setAnimation(5)}}},[s("img",{attrs:{src:a("90e4")}}),s("p",[t._v("Dental Roentology ")]),s("span",[t._v("ANZA-YAP Dental Clinic provides peri-apical x-ray.")])])])]),t._m(3),s("div",{staticClass:"othercontent"},[s("span",{staticClass:"contenttitle"},[t._v("Branches")]),t._m(4),s("div",{staticClass:"branches"},[t._l(t.branches,(function(e,a){return s("div",{key:a,staticClass:"branchdiv"},[s("div",{staticClass:"row"},a+1&1?[s("div",{staticClass:"col-md-4"},[s("span",{staticClass:"fa fa-map-marker-alt",staticStyle:{"font-size":"50pt",color:"#6C63FF"}}),s("br"),s("span",{staticStyle:{"font-size":"20pt","font-weight":"bold",color:"dimgray"}},[t._v(t._s(e.branch))]),s("br"),s("span",[t._v(t._s(e.address))]),s("br"),s("small",[t._v("Email Address: "+t._s(e.email)+" Contact No: "+t._s(e.contact))])]),s("div",{staticClass:"col-md-4"},[s("table",{staticClass:"table table-condensed table-striped"},[t._m(5,!0),s("tbody",t._l(e.Dentists,(function(e,a){return s("tr",{key:a},[s("td",{staticStyle:{width:"10%"}},[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.fullname))])])})),0)])]),s("div",{staticClass:"col-md-4"},[t._m(6,!0),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left !important"}},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Mon:")]),1==e.Schedules[1].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[1].start))+" - "+t._s(t.dhour(e.Schedules[1].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Tue:")]),1==e.Schedules[2].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[2].start))+" - "+t._s(t.dhour(e.Schedules[2].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Wed:")]),1==e.Schedules[3].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[3].start))+" - "+t._s(t.dhour(e.Schedules[3].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Thu:")]),1==e.Schedules[4].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[4].start))+" - "+t._s(t.dhour(e.Schedules[4].end)))]):s("span",[t._v(" Close")])]),s("br")]),s("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left !important"}},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Fri:")]),1==e.Schedules[5].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[5].start))+" - "+t._s(t.dhour(e.Schedules[5].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Sat:")]),1==e.Schedules[6].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[6].start))+" - "+t._s(t.dhour(e.Schedules[6].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Sun:")]),1==e.Schedules[0].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[0].start))+" - "+t._s(t.dhour(e.Schedules[0].end)))]):s("span",[t._v(" Close")])]),s("br")])])])]:[s("div",{staticClass:"col-md-4"},[t._m(7,!0),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left !important"}},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Mon:")]),1==e.Schedules[1].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[1].start))+" - "+t._s(t.dhour(e.Schedules[1].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Tue:")]),1==e.Schedules[2].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[2].start))+" - "+t._s(t.dhour(e.Schedules[2].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Wed:")]),1==e.Schedules[3].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[3].start))+" - "+t._s(t.dhour(e.Schedules[3].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Thu:")]),1==e.Schedules[4].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[4].start))+" - "+t._s(t.dhour(e.Schedules[4].end)))]):s("span",[t._v(" Close")])]),s("br")]),s("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left !important"}},[s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Fri:")]),1==e.Schedules[5].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[5].start))+" - "+t._s(t.dhour(e.Schedules[5].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Sat:")]),1==e.Schedules[6].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[6].start))+" - "+t._s(t.dhour(e.Schedules[6].end)))]):s("span",[t._v(" Close")])]),s("br"),s("span",[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("Sun:")]),1==e.Schedules[0].active?s("span",[t._v(" "+t._s(t.dhour(e.Schedules[0].start))+" - "+t._s(t.dhour(e.Schedules[0].end)))]):s("span",[t._v(" Close")])]),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("table",{staticClass:"table table-condensed table-striped"},[t._m(8,!0),s("tbody",t._l(e.Dentists,(function(e,a){return s("tr",{key:a},[s("td",{staticStyle:{width:"10%"}},[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.fullname))])])})),0)])]),s("div",{staticClass:"col-md-4"},[s("span",{staticClass:"fa fa-map-marker-alt",staticStyle:{"font-size":"50pt",color:"#6C63FF"}}),s("br"),s("span",{staticStyle:{"font-size":"20pt","font-weight":"bold",color:"dimgray"}},[t._v(t._s(e.branch))]),s("br"),s("span",[t._v(t._s(e.address))]),s("br"),s("small",[t._v("Email Address: "+t._s(e.email)+" Contact No: "+t._s(e.contact))])])])])})),s("div",{staticClass:"branchdiv"})],2)])]),t.showloginModal?s("loginModal",{on:{closemodal:t.closemodal,logincomplete:t.logincomplete}}):t._e(),t.showregisterModal?s("registerModal",{on:{closemodal:t.closemodal,logincomplete:t.logincomplete}}):t._e(),s("footer",{staticClass:"noprint"},[s("span",[t._v("Created By: TUP-Taguig © "),s("span",{ref:"yearnow"})])])],1)},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-3"},[s("img",{staticStyle:{position:"absolute",top:"-50px",left:"0",height:"100%",width:"100%"},attrs:{src:a("b640")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contactHome"}},[s("ul",[s("li",[s("a",{attrs:{href:"https://www.facebook.com/Anza-Yap-Dental-Clinic-112558770549555/",target:"_blank"}},[s("img",{attrs:{src:a("e219")}})])]),s("li",[s("a",{attrs:{href:"javascript:void(0)",target:"_blank"}},[s("img",{attrs:{src:a("1ddb")}})])]),s("li",[s("a",{attrs:{href:"javascript:void(0)",target:"_blank"}},[s("img",{attrs:{src:a("e4d7")}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"othercontent"},[a("span",{staticClass:"contenttitle"},[t._v("About Us")]),a("br"),a("p",{staticClass:"text-center"},[t._v(" DR. LUNINGNING ANZA-YAP owns and manage the ANZA-YAP DENTAL CLINIC DR. L. ANZA-YAP earned her degree of Doctor of Dental Medicine from the Manila Central University in 08 March 1986 and passed the Professional Regulation Commission’s Licensure Examination in 16 June 1987 (PRC ID No. 23169). At the onset of her professional practice, Dr. L. ANZA-YAP has been and continues to be an active member of the Philippine Dental Association (PDA) since 1987. Her specialization in Orthodontics lead to a sustaining membership with the International Association for Orthodontics, East Asia Regional Section, since 1990, and with its Honor Society as of 06 May 1993 as a Board-Candidate. Her first clinic opened in 1988 within the Km. 13 East Service Road, thereby maximizing her practice with its general clientele. With growing awareness on the benefits of orthodental treatment, braces in particular, the second one was established at the FTI Sunshine Mall to cater for upscale market, as well as to serve the corporate accounts in the FTI Complex and the neighboring Veteran’s Center in 1996. To provide dental services for the growing population in the heart of Paranaque. the third clinic opened at SM City Bicutan in March 2003 and started rendering dental health services until March 2008. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"othercontent"},[s("span",{staticClass:"contenttitle"},[t._v("Appointment Process")]),s("p",{staticClass:"text-center"},[t._v("Save time with online reservation and get notified for the next visit.")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12",staticStyle:{position:"relative"}},[s("span",{staticClass:"appointnum"},[t._v("1")]),s("img",{staticClass:"appointsvg",attrs:{src:a("47e4")}}),s("p",{staticClass:"appointdes"},[t._v("Login to our portal. "),s("br"),t._v(" You can register by clicking signup.")])]),s("div",{staticClass:"col-md-12",staticStyle:{position:"relative"}},[s("span",{staticClass:"appointnum"},[t._v("2")]),s("img",{staticClass:"appointsvg",attrs:{src:a("ee42")}}),s("p",{staticClass:"appointdes"},[t._v("Choose available dates from calendar."),s("br"),t._v(" Check schedules on different branch.")])]),s("div",{staticClass:"col-md-12",staticStyle:{position:"relative"}},[s("span",{staticClass:"appointnum"},[t._v("3")]),s("img",{staticClass:"appointsvg",attrs:{src:a("9285")}}),s("p",{staticClass:"appointdes"},[t._v("Wait for confirmation of your reservation.")])]),s("div",{staticClass:"col-md-12",staticStyle:{position:"relative"}},[s("span",{staticClass:"appointnum"},[t._v("4")]),s("img",{staticClass:"appointsvg",attrs:{src:a("60fd")}}),s("p",{staticClass:"appointdes"},[t._v("Proceed in your scheduled appointment.")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center"},[t._v("Due to the continuing clamor for the quality dental health services at affordable prices at the nearest "),a("br"),t._v(" location of ANZA-YAP DENTAL CLINIC, Dr. ANZA-YAP would like to implement further expansion in other strategic location. "),a("br"),t._v("To this, DR. ANZA-YAP would continue to manage and be the lead-person in providing outstanding dental health services.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{background:"#6C63FF",color:"white"},attrs:{colspan:"2"}},[t._v("Dentist(s)")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"20pt",color:"dimgray"}},[a("span",{staticClass:"fa fa-clock"}),t._v(" Schedules")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"20pt",color:"dimgray"}},[a("span",{staticClass:"fa fa-clock"}),t._v(" Schedules")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{background:"#6C63FF",color:"white"},attrs:{colspan:"2"}},[t._v("Dentist(s)")])])])}],H=(a("d3b7"),a("0a63")),Y=a.n(H),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("button",{staticClass:"close",staticStyle:{position:"absolute",right:"0","font-size":"24pt",cursor:"pointer",color:"black !important"},attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("div",{staticClass:"card",attrs:{id:"logindiv"}},[a("div",{staticClass:"card-body",staticStyle:{position:"relative"}},[a("span",{staticClass:"fa fa-user-circle",attrs:{id:"truckIcon"}}),t._m(0),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email address"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary form-control",on:{click:t.login}},[t._v("Login")]),a("hr"),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){1==t.showforgot?t.showforgot=!1:t.showforgot=!0}}},[t._v("Forgot Your password?")]),t.showforgot?a("div",[a("hr"),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.resetemail,expression:"resetemail"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email address"},domProps:{value:t.resetemail},on:{input:function(e){e.target.composing||(t.resetemail=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.sendResetRequest()}}},[t._v("Send Reset Password Request")])]):t._e()])])])])])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"}},[a("span",{attrs:{id:"systemTitle"}},[t._v(" Anza-Yap Dental Clinic ")])])}],G=(a("b0c0"),{data:function(){return{user:{email:"",password:"",loginsource:"web"},errormsg:[],showforgot:!1,resetemail:""}},methods:{closethis:function(){this.$emit("closemodal")},login:function(){var t=this;this.$store.dispatch("login",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.$emit("logincomplete",e)})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage.classList.add("show")),500==e.response.status&&t.$swal("".concat(e.response.data.name),"Please check your database connection","error")}))},sendResetRequest:function(){var t=this;this.$store.dispatch("sendreset",{email:this.resetemail}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("".concat(e.data.msg),"",e.data.type),"Check Reset link in your email"==e.data.msg&&t.closethis())})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage.classList.add("show"))}))}}}),J=G,W=(a("56be"),Object(m["a"])(J,q,V,!1,null,"a6db7dca",null)),Z=W.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Medical History")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.staff.history,expression:"staff.history"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.history},on:{input:function(e){e.target.composing||t.$set(t.staff,"history",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.password,expression:"staff.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.staff.password},on:{input:function(e){e.target.composing||t.$set(t.staff,"password",e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.password_confirmation,expression:"staff.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.staff.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.staff,"password_confirmation",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user"}),t._v(" Register as new Patient")])}],X={data:function(){return{staff:{fullname:"",firstname:"",middlename:"",lastname:"",employeeNo:"",bday:"",contact:"",email:"",address:"",usertype:2,password:"",password_confirmation:"",gender:"Male",history:"",token:""},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("user/registeruser",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.$store.dispatch("login",{email:t.staff.email,password:t.staff.password}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.$emit("logincomplete",e)})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage.classList.add("show"))}))})).catch((function(t){return console.log(t)}))}}},tt=X,et=Object(m["a"])(tt,Q,K,!1,null,null,null),at=et.exports,st={name:"login",data:function(){return{user:{email:"superadmin@gmail.com",password:"Lxgiwyl1234"},successlogin:!1,errormsg:[],showlogin:!1,showloginModal:!1,showregisterModal:!1}},methods:{setAnimation:function(t){var e=document.getElementsByClassName("servicelist")[t];e.classList.add("animate__animated","animate__flip"),e.addEventListener("animationend",(function(){e.classList.remove("animate__animated","animate__fadeIn")}))},dhour:function(t){return this.$helper.formatraw12Hour(t)},closemodal:function(){this.showloginModal=!1,this.showregisterModal=!1},logincomplete:function(t){var e=this;this.showloadingScreen(t).then((function(t){e.$store.dispatch("authenticated",t),window.location.href="/"}))},showloadingScreen:function(t){var e=this;return new Promise((function(a,s){try{e.successlogin=!0,setTimeout((function(){a(t)}),1e3)}catch(n){s(n)}}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getPublicList")},components:{Carousel:H["Carousel"],Slide:H["Slide"],loginModal:Z,registerModal:at}},nt=st,it=(a("1f90"),Object(m["a"])(nt,B,z,!1,null,"3d64b1cd",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.changepass}},[a("span",{staticClass:"fa fa-check"}),t._v(" Change")])])])])])},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-lock"}),t._v(" Set New Password")])])}],lt={data:function(){return{user:{password:"",password_confirmation:"",token:""},errormsg:[]}},methods:{changepass:function(){var t=this;this.$store.dispatch("changepass",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(alert("password has been changed!"),window.location.href="/")})).catch((function(t){return console.log(t)}))}},mounted:function(){this.user.token=this.$route.params.token}},dt=lt,ut=Object(m["a"])(dt,ot,ct,!1,null,null,null),mt=ut.exports,pt={name:"App",data:function(){return{isadmin:localStorage.getItem("isadmin")||!1,isstaff:localStorage.getItem("isstaff")||!1,issuperadmin:localStorage.getItem("issuperadmin")||!1,showSetPassModal:!1}},watch:{islogin:function(){var t=JSON.parse(localStorage.getItem("userinfo"))||null;if(null!=t)switch(t.usertype){case 0:this.isadmin=!0,this.$router.push("/backend");break;case 1:this.isstaff=!0,this.$router.push("/backend");break;case 2:this.isadmin=!1,this.isstaff=!1,this.issuperadmin=!1,this.$router.push("/patient");break;case 3:this.issuperadmin=!0,this.$router.push("/backend");break;default:break}}},mounted:function(){var t=this,e=this.$router.app._route.path,a=new RegExp("/setpassword/\\.*"),s=a.test(e);s?this.showSetPassModal=!0:(t.islogin?this.isadmin||this.isstaff?"/"==this.$router.app._route.path&&t.$router.replace("/backend"):"/"==this.$router.app._route.path&&t.$router.replace("/patient"):t.$router.replace("/"),this.showSetPassModal=!1),window.addEventListener("storage",(function(t){"islogin"==t.key&&(window.location.href="/")}))},computed:Object(r["a"])({},Object(l["d"])(["islogin"])),methods:{},components:{sideNav:h,login:rt,topNav:L,patientsideNav:C,patienttopNav:O,resetPasswordModal:mt}},ht=pt,ft=(a("034f"),Object(m["a"])(ht,n,i,!1,null,null,null)),vt=ft.exports,gt=(a("4160"),a("159b"),a("8c4f")),bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-xs font-weight-bold text-success text-uppercase mb-1"},[t._v("Earnings (Annual)")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Pharmacy: "+t._s(t.data.pyearsales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Treatment: "+t._s(t.data.yearsales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Total: "+t._s(t.data.yearsales+t.data.pyearsales))])])]),t._m(1)])])])]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-xs font-weight-bold text-primary text-uppercase mb-1"},[t._v("Earnings (Monthly)")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Pharmacy: "+t._s(t.data.pmonthsales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Treatment: "+t._s(t.data.monthsales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Total: "+t._s(t.data.monthsales+t.data.pmonthsales))])])]),t._m(2)])])])]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[a("div",{staticClass:"card border-left-warning shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-xs font-weight-bold text-warning text-uppercase mb-1"},[t._v("Earnings (Today)")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Pharmacy: "+t._s(t.data.ptodaysales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Treatment: "+t._s(t.data.todaysales))]),a("br"),a("small",{staticStyle:{"font-weight":"bold"}},[t._v("Total: "+t._s(t.data.todaysales+t.data.ptodaysales))])])]),t._m(3)])])])]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-xs font-weight-bold text-info text-uppercase mb-1"},[t._v("Appointments Today")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v(t._s(t.data.appointmenttoday))])]),t._m(4)])])])])])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[t._m(5),a("div",{staticClass:"card-body"},[a("line-chart",{attrs:{download:!0,curve:!1,data:t.weekSalesData}})],1)])]),a("div",{staticClass:"col-md-4",staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"card"},[t._m(6),a("div",{staticClass:"card-body"},[a("span",[t._v("Dental Clinic Items")]),a("table",{staticClass:"table table-condensed table-striped"},[a("tbody",t._l(t.medicinesLow,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"font-size":"12pt","font-weight":"normal"}},[t._v(t._s(e.medicine))])])})),0)]),a("hr"),a("span",[t._v("Pharmacy Medicines")]),a("table",{staticClass:"table table-condensed table-striped"},[a("tbody",t._l(t.pharmacyLow,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"font-size":"12pt","font-weight":"normal"}},[t._v(t._s(e.medicine))])])})),0)])])])]),a("div",{staticClass:"col-md-4",staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"card"},[t._m(7),a("div",{staticClass:"card-body"},[a("span",[t._v("Dental Clinic Items")]),a("table",{staticClass:"table table-condensed table-striped"},[a("tbody",t._l(t.medicinesZero,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"font-size":"12pt","font-weight":"normal"}},[t._v(t._s(e.medicine))])])})),0)]),a("hr"),a("span",[t._v("Pharmacy Medicines")]),a("table",{staticClass:"table table-condensed table-striped"},[a("tbody",t._l(t.pharmacyZero,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"font-size":"12pt","font-weight":"normal"}},[t._v(t._s(e.medicine))])])})),0)])])])])])},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-chart-pie"}),t._v(" Dashboard")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-dollar-sign fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-calendar fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-check fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-clipboard-list fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"text-align":"center"}},[a("span",{staticClass:"card-title",staticStyle:{"font-size":"20pt"}},[t._v("EARNINGS LAST 7 DAYS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"text-align":"center",background:"orange"}},[a("span",{staticClass:"card-title",staticStyle:{"font-size":"20pt",color:"white !important"}},[t._v("ITEM LOW STOCKS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"text-align":"center",background:"maroon"}},[a("span",{staticClass:"card-title",staticStyle:{"font-size":"20pt",color:"white !important"}},[t._v("ITEM OUT OF STOCKS")])])}],Ct=(a("4de4"),{name:"dashboard",data:function(){return{activebranchIndex:0,stacked:!1,chartData:[["Tue (July 14, 2020)",4],["Wed (July 15, 2020)",4],["Thu (July 16, 2020)",4],["Fri (July 17, 2020)",2],["Sat (July 18, 2020)",10],["Sun (July 19, 2020)",5],["Mon (July 20, 2020)",3]],seriesData:[{name:"Workout",data:{"2017-01-01":3,"2017-01-02":4}}],weekSalesData:[],options:{type:"verticalBar"},medicinesLow:[],medicinesZero:[],pharmacyLow:[],pharmacyZero:[]}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},data:function(t){return t.dashboard.data}})),methods:{initializeStockItems:function(){this.medicinesLow=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>0&&t.stocks<=t.limitMin&&0==t.type)return t})),this.medicinesZero=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(0==t.stocks&&0==t.type)return t})),this.pharmacyLow=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>0&&t.stocks<=t.limitMin&&1==t.type)return t})),this.pharmacyZero=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(0==t.stocks&&1==t.type)return t}))},changeFilterbranch:function(t){for(var e=this,a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[t].classList.add("active"),this.activebranchIndex=t,this.$store.dispatch("dashboard/getData",this.branches[this.activebranchIndex].id).then((function(){e.weekSalesData=[],e.weekSalesData.push({name:"Pharmacy",data:{}}),e.weekSalesData.push({name:"Treatments",data:{}}),e.weekSalesData.push({name:"Total",data:{}}),e.data.weeksales.forEach((function(t){e.weekSalesData[0].data["".concat(t.day," (").concat(t.date,")")]=t.pharmacy,e.weekSalesData[1].data["".concat(t.day," (").concat(t.date,")")]=t.treatment,e.weekSalesData[2].data["".concat(t.day," (").concat(t.date,")")]=parseFloat(t.treatment)+parseFloat(t.pharmacy)}))})).catch((function(t){return console.log(t)})),this.initializeStockItems()}},mounted:function(){var t=this;this.$store.dispatch("activenav","dashboardnav"),this.$store.dispatch("branch/getListMedicine","All").then((function(){t.$store.dispatch("dashboard/getData",t.branches[t.activebranchIndex].id).then((function(){t.weekSalesData=[],t.weekSalesData.push({name:"Pharmacy",data:{}}),t.weekSalesData.push({name:"Treatments",data:{}}),t.weekSalesData.push({name:"Total",data:{}}),t.data.weeksales.forEach((function(e){t.weekSalesData[0].data["".concat(e.day," (").concat(e.date,")")]=e.pharmacy,t.weekSalesData[1].data["".concat(e.day," (").concat(e.date,")")]=e.treatment,t.weekSalesData[2].data["".concat(e.day," (").concat(e.date,")")]=parseFloat(e.treatment)+parseFloat(e.pharmacy)}))})).catch((function(t){return console.log(t)})),t.initializeStockItems()})).catch((function(t){return console.log(t)}))}}),yt=Ct,wt=(a("a20f"),Object(m["a"])(yt,bt,_t,!1,null,"6e39aefb",null)),xt=wt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"row"},[3==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("superadminlist")}}},[t._m(1)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("adminlist")}}},[t._m(2)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("stafflist")}}},[t._m(3)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("servicelist")}}},[t._m(4)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("dentistlist")}}},[t._m(5)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("medicinelist",{type:0})}}},[t._m(6)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("medicinelist",{type:1})}}},[t._m(7)]):t._e(),t.showChangePassModal?a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(8),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showChangePassModal=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage2",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Old Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.oldpass,expression:"user.oldpass"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.oldpass},on:{input:function(e){e.target.composing||t.$set(t.user,"oldpass",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.changepass}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])]):t._e()]),a("hr"),a("div",{staticClass:"row",staticStyle:{background:"white"}},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){t.showChangePassModal=!0}}},[t._m(9)]),3==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){return t.changesetting("branchlist")}}},[t._m(10)]):t._e(),3==t.userinfo.usertype||0==t.userinfo.usertype?a("div",{staticClass:"col-xl-3 col-md-6 mb-4 setting",on:{click:function(e){t.showChangeSchedModal=!0}}},[t._m(11)]):t._e(),t.showChangeSchedModal?a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(12),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showChangeSchedModal=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("table",{staticClass:"table table-condensed"},[t._m(13),a("tbody",t._l(t.branches[t.activebranchIndex].Schedules,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.day))]),a("td",[0==e.active?a("span",[t._v("No Operation")]):a("span",[t._v("Active")])]),a("td",[1==e.active?a("span",[t._v(t._s(e.start))]):a("span",[t._v("--:-- ")])]),a("td",[1==e.active?a("span",[t._v(t._s(e.end))]):a("span",[t._v("--:-- ")])]),a("td",[a("button",{staticClass:"btn btn-default",on:{click:function(e){return t.editSched(s)}}},[a("span",{staticClass:"fa fa-pen"})])])])})),0)])])])])]):t._e(),t.showeditSchedModal?a("editSchedModal",{attrs:{editSchedInfo:t.editSchedInfo},on:{closemodal:t.closemodal,refreshschedule:t.refreshschedule}}):t._e()],1)])])},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-cogs"}),t._v(" Settings")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Super Admin(s)")]),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"})])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-user-plus fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Admin(s)")]),a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col-auto"})])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-user-plus fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-info text-uppercase mb-1"},[t._v("Staff(s)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-users fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-warning shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-warning text-uppercase mb-1"},[t._v("Service(s)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-wrench fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Dentist(s)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-user-md fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Dental Clinic Item(s)"),a("br"),a("small",[t._v("Inventory")])])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-medkit fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-info text-uppercase mb-1"},[t._v("Pharmacy Medicine"),a("br"),a("small",[t._v("Inventory")])])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-prescription fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-lock"}),t._v(" Change Password")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Change Password")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"})]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-lock fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Branche(s)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-map-marker-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-info text-uppercase mb-1"},[t._v("Schedules")]),a("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"})]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-clock fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-clock"}),t._v(" Manage Clinic Schedules")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Day(s)")]),a("th",[t._v("Active")]),a("th",[t._v("Start Time")]),a("th",[t._v("End Time")]),a("th")])])}],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"changePassModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-pen"}),t._v(" Update "+t._s(t.editsched.day)+" Schedule")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Active")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.editsched.active,expression:"editsched.active"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editsched,"active",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("No Operation")]),a("option",{attrs:{value:"1"}},[t._v("Active")])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.editsched.active,expression:"editsched.active == 1"}],staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editsched.start,expression:"editsched.start"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.editsched.start},on:{input:function(e){e.target.composing||t.$set(t.editsched,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editsched.end,expression:"editsched.end"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.editsched.end},on:{input:function(e){e.target.composing||t.$set(t.editsched,"end",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.updateSched()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},Et=[],Dt={props:{editSchedInfo:{type:Object,required:!0}},data:function(){return{editsched:JSON.parse(JSON.stringify(this.editSchedInfo))}},methods:{closethis:function(){this.$emit("closemodal")},updateSched:function(){var t=this;this.$store.dispatch("updateSchedule",this.editsched).then((function(){t.closethis(),t.$emit("refreshschedule",{index:t.editsched.activeindex,branch:t.editsched.activebranch})}))}}},It=Dt,Tt=Object(m["a"])(It,$t,Et,!1,null,null,null),Nt=Tt.exports,At={name:"settingIndexComponent",data:function(){return{user:{oldpass:"",password:"",password_confirmation:""},showChangePassModal:!1,showChangeSchedModal:!1,errormsg:[],editSchedInfo:{},showeditSchedModal:!1,activebranchIndex:0}},computed:Object(r["a"])({userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},Object(l["d"])({schedules:function(t){return t.schedules},branches:function(t){return t.branch.branches}})),methods:{changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e},closemodal:function(){this.showeditSchedModal=!1},editSched:function(t){this.editSchedInfo=this.branches[this.activebranchIndex].Schedules[t],this.editSchedInfo.activeindex=this.activebranchIndex,this.editSchedInfo.activebranch=this.branches[this.activebranchIndex].id,this.showeditSchedModal=!0},refreshschedule:function(t){var e=this;this.$store.dispatch("branch/getList").then((function(){e.changeFilterbranch(t.branch,t.index)})).catch((function(t){return console.log(t)}))},changesetting:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$router.push({name:t,params:e})},changepass:function(){var t=this;this.$store.dispatch("user/changepass",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage2.classList.add("show")):(t.$swal.fire("Your password has been changed!","","success"),t.showChangePassModal=!1,t.user={oldpass:"",password:"",password_confirmation:""})})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage2.classList.add("show"))}))}},mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getList").then((function(e){t.changeFilterbranch(e[0].id,0)})).catch((function(t){return console.log(t)}))},components:{editSchedModal:Nt}},Ot=At,Pt=(a("8b09"),Object(m["a"])(Ot,kt,St,!1,null,"32e62cea",null)),Mt=Pt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fullname..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchStaff()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.branches[t.activebranchIndex].Users,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.employeeNo))]),a("td",[t._v(t._s(e.fullname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(t.bdayformat(e.bday)))]),a("td",[t._v(t._s(e.gender))]),a("td",[t._v(t._s(e.contact))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{"margin-right":"10px",color:"blue"},attrs:{title:"Change Password"},on:{click:function(e){return t.changePass(s)}}},[a("span",{staticClass:"fa fa-key"})]),a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),t.showaddModal?a("addModal",{attrs:{activebranchIndex:t.activebranchIndex,type:1},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{activebranchIndex:t.activebranchIndex,type:1,editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showpassModal?a("changepassModal",{attrs:{changepassData:t.changepassData},on:{closemodal:function(e){return t.closemodal()}}}):t._e()],1)},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-users"}),t._v(" Staff List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Employee No")]),a("th",[t._v("Name")]),a("th",[t._v("Email")]),a("th",[t._v("Address")]),a("th",[t._v("Birthday")]),a("th",[t._v("Gender")]),a("th",[t._v("Contact No")]),a("th")])])}],Ut=(a("d81d"),a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch Assign")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.branch,expression:"staff.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Employee No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.employeeNo,expression:"staff.employeeNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.employeeNo},on:{input:function(e){e.target.composing||t.$set(t.staff,"employeeNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])])]),a("span",[t._v("Note: Default password is password")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])}),Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user"}),t._v(" New User")])}],Lt=(a("a9e3"),{props:{type:{type:Number,required:!0},activebranchIndex:{type:Number,required:!0}},data:function(){return{staff:{branch:"",fullname:"",firstname:"",middlename:"",lastname:"",employeeNo:"",bday:"",contact:"",email:"",address:"",usertype:this.type,gender:"Male",history:""},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("user/saveuser",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",{index:t.activebranchIndex}))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getListUser",this.type)}}),Bt=Lt,zt=Object(m["a"])(Bt,Ut,Ft,!1,null,null,null),Ht=zt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch Assign")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.branchId,expression:"staff.branchId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"branchId",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.staff.usertype,expression:"staff.usertype!=2"}],staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Employee No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.employeeNo,expression:"staff.employeeNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.employeeNo},on:{input:function(e){e.target.composing||t.$set(t.staff,"employeeNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.staff.usertype,expression:"staff.usertype==2"}],staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Medical History")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.staff.history,expression:"staff.history"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.history},on:{input:function(e){e.target.composing||t.$set(t.staff,"history",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user"}),t._v(" Update User Information")])}],Vt={props:{type:{type:Number,required:!0},editInfo:{type:Object,required:!0},activebranchIndex:{type:Number,required:!0}},data:function(){return{staff:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.staff.oldemail=this.editInfo.email,this.$store.dispatch("user/updateUser",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",{index:t.activebranchIndex}))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.staff.bday=Object(x["formatDate"])(this.staff.bday)}},Gt=Vt,Jt=Object(m["a"])(Gt,Yt,qt,!1,null,null,null),Wt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.changepass}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-lock"}),t._v(" Change Password")])}],Kt={props:{changepassData:{type:Object,required:!0}},data:function(){return{user:JSON.parse(JSON.stringify(this.changepassData)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},changepass:function(){var t=this;this.$store.dispatch("user/changepassEmployee",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("Password has been Changed","","success"),t.closethis())})).catch((function(t){return console.log(t)}))}},mounted:function(){this.user.password="",this.user.password_confirmation=""}},Xt=Kt,te=Object(m["a"])(Xt,Zt,Qt,!1,null,null,null),ee=te.exports,ae={data:function(){return{showaddModal:!1,editInfo:{},showeditModal:!1,showpassModal:!1,changepassData:{},activebranchIndex:0,search:""}},methods:Object(r["a"])({printPDF:function(){var t=this,e=this.branches[this.activebranchIndex].Users.map((function(e){return[e.employeeNo,e.fullname,e.email,e.address,t.bdayformat(e.bday),e.gender,e.contact]}));e.sort(),e.unshift(["EMPLOYEE NO","NAME","EMAIL","ADDRESS","BIRTHDAY","GENDER","CONTACT NO"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Staff User List"),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","auto","*","auto","auto","auto"],body:e}}]};this.$pdfMake.createPdf(a).open()},searchStaff:function(){var t={search:this.search,branch:this.branches[this.activebranchIndex].id,branchindex:this.activebranchIndex,type:1};""==this.search?this.$store.dispatch("branch/getListUser",1):this.$store.dispatch("user/search",t)}},Object(l["b"])("user",["getUsers","removeUser"]),{refreshlist:function(t){var e=this;this.$store.dispatch("branch/getListUser",1).then((function(){e.changeFilterbranch(t.index)})).catch((function(t){return console.log(t)}))},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1},bdayformat:function(t){return Object(x["formatBdayDate"])(t)},edit:function(t){this.editInfo=this.branches[this.activebranchIndex].Users[t],this.editInfo.index=t,this.showeditModal=!0},changePass:function(t){this.showpassModal=!0,this.changepassData=this.branches[this.activebranchIndex].Users[t]},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.branches[e.activebranchIndex].Users[t];s.index=t,e.removeUser(s),e.refreshlist({index:e.activebranchIndex})}}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,this.$store.dispatch("branch/getListUser",1)}}),computed:Object(r["a"])({},Object(l["d"])({users:function(t){return t.user.users},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getListUser",1).then((function(){t.changeFilterbranch(0)})).catch((function(t){return console.log(t)}))},components:{addModal:Ht,editModal:Wt,changepassModal:ee}},se=ae,ne=Object(m["a"])(se,jt,Rt,!1,null,null,null),ie=ne.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fullname..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchAdmin()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.branches[t.activebranchIndex].Users,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.employeeNo))]),a("td",[t._v(t._s(e.fullname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(t.bdayformat(e.bday)))]),a("td",[t._v(t._s(e.gender))]),a("td",[t._v(t._s(e.contact))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{"margin-right":"10px",color:"blue"},attrs:{title:"Change Password"},on:{click:function(e){return t.changePass(s)}}},[a("span",{staticClass:"fa fa-key"})]),a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),t.showaddModal?a("addModal",{attrs:{activebranchIndex:t.activebranchIndex,type:0},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{activebranchIndex:t.activebranchIndex,type:0,editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showpassModal?a("changepassModal",{attrs:{changepassData:t.changepassData},on:{closemodal:function(e){return t.closemodal()}}}):t._e()],1)},oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-users"}),t._v(" Admin List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Employee No")]),a("th",[t._v("Name")]),a("th",[t._v("Email")]),a("th",[t._v("Address")]),a("th",[t._v("Birthday")]),a("th",[t._v("Gender")]),a("th",[t._v("Contact No")]),a("th")])])}],ce={data:function(){return{showaddModal:!1,editInfo:{},showeditModal:!1,showpassModal:!1,changepassData:{},activebranchIndex:0}},methods:Object(r["a"])({},Object(l["b"])("user",["getUsers","removeUser"]),{printPDF:function(){var t=this,e=this.branches[this.activebranchIndex].Users.map((function(e){return[e.employeeNo,e.fullname,e.email,e.address,t.bdayformat(e.bday),e.gender,e.contact]}));e.sort(),e.unshift(["EMPLOYEE NO","NAME","EMAIL","ADDRESS","BIRTHDAY","GENDER","CONTACT NO"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Admin User List"),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","auto","*","auto","auto","auto"],body:e}}]};this.$pdfMake.createPdf(a).open()},refreshlist:function(t){var e=this;this.$store.dispatch("branch/getListUser",0).then((function(){e.changeFilterbranch(t.index)})).catch((function(t){return console.log(t)}))},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1},bdayformat:function(t){return Object(x["formatBdayDate"])(t)},edit:function(t){this.editInfo=this.branches[this.activebranchIndex].Users[t],this.editInfo.index=t,this.showeditModal=!0},changePass:function(t){this.showpassModal=!0,this.changepassData=this.branches[this.activebranchIndex].Users[t]},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.branches[e.activebranchIndex].Users[t];s.index=t,e.removeUser(s),e.refreshlist({index:e.activebranchIndex})}}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,this.$store.dispatch("branch/getListUser",0)},searchAdmin:function(){var t={search:this.search,branch:this.branches[this.activebranchIndex].id,branchindex:this.activebranchIndex,type:0};""==this.search?this.$store.dispatch("branch/getListUser",0):this.$store.dispatch("user/search",t)}}),computed:Object(r["a"])({},Object(l["d"])({users:function(t){return t.user.users},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getListUser",0).then((function(){t.changeFilterbranch(0)})).catch((function(t){return console.log(t)}))},components:{addModal:Ht,editModal:Wt,changepassModal:ee}},le=ce,de=Object(m["a"])(le,re,oe,!1,null,null,null),ue=de.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fullname..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchsuperAdmin()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.users,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.employeeNo))]),a("td",[t._v(t._s(e.fullname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(t.bdayformat(e.bday)))]),a("td",[t._v(t._s(e.gender))]),a("td",[t._v(t._s(e.contact))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{"margin-right":"10px",color:"blue"},attrs:{title:"Change Password"},on:{click:function(e){return t.changePass(s)}}},[a("span",{staticClass:"fa fa-key"})]),t.userinfo.id!=e.id?a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})]):t._e()])])})),0)])]),t.showaddModal?a("addModal",{on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showpassModal?a("changepassModal",{attrs:{changepassData:t.changepassData},on:{closemodal:function(e){return t.closemodal()}}}):t._e()],1)},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-user-lock"}),t._v(" SuperAdmin List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Employee No")]),a("th",[t._v("Name")]),a("th",[t._v("Email")]),a("th",[t._v("Address")]),a("th",[t._v("Birthday")]),a("th",[t._v("Gender")]),a("th",[t._v("Contact No")]),a("th")])])}],he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Employee No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.employeeNo,expression:"staff.employeeNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.employeeNo},on:{input:function(e){e.target.composing||t.$set(t.staff,"employeeNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])])]),a("span",[t._v("Note: Default password is password")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user-lock"}),t._v(" Update Superadmin Info")])}],ve={props:{editInfo:{type:Object,required:!0}},data:function(){return{staff:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.staff.oldemail=this.editInfo.email,this.$store.dispatch("user/updateuser_superadmin",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("Information has been updated","","success"),t.closethis())})).catch((function(t){return console.log(t)}))}},computed:{},mounted:function(){}},ge=ve,be=Object(m["a"])(ge,he,fe,!1,null,null,null),_e=be.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Employee No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.employeeNo,expression:"staff.employeeNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.employeeNo},on:{input:function(e){e.target.composing||t.$set(t.staff,"employeeNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])])]),a("span",[t._v("Note: Default password is password")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user-lock"}),t._v(" New Superadmin")])}],we={props:{},data:function(){return{staff:{fullname:"",firstname:"",middlename:"",lastname:"",employeeNo:"",bday:"",contact:"",email:"",address:"",usertype:3,gender:"Male",history:""},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("user/saveuser_superadmin",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$swal("New Superadmin has been added","","success"),t.$emit("refreshlist"))})).catch((function(t){return console.log(t)}))}},computed:{},mounted:function(){}},xe=we,ke=Object(m["a"])(xe,Ce,ye,!1,null,null,null),Se=ke.exports,$e={components:{editModal:_e,changepassModal:ee,addModal:Se},data:function(){return{editInfo:{},showeditModal:!1,showaddModal:!1,showpassModal:!1,changepassData:{}}},methods:Object(r["a"])({printPDF:function(){var t=this,e=this.users.map((function(e){return[e.employeeNo,e.fullname,e.email,e.address,t.bdayformat(e.bday),e.gender,e.contact]}));e.sort(),e.unshift(["EMPLOYEE NO","NAME","EMAIL","ADDRESS","BIRTHDAY","GENDER","CONTACT NO"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"Superadmin User List",alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","auto","*","auto","auto","auto"],body:e}}]};this.$pdfMake.createPdf(a).open()},searchsuperAdmin:function(){var t={search:this.search,branch:null,type:3};""==this.search?this.getUsers({usertype:3}):this.$store.dispatch("user/searchSuperadmin",t)},bdayformat:function(t){return Object(x["formatBdayDate"])(t)},edit:function(t){this.editInfo=this.users[t],this.editInfo.index=t,this.showeditModal=!0},changePass:function(t){this.showpassModal=!0,this.changepassData=this.users[t]},refreshlist:function(){this.getUsers({usertype:3})},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.users[t];s.index=t,e.removeUser(s),e.refreshlist()}}))},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1}},Object(l["b"])("user",["getUsers","removeUser"])),computed:Object(r["a"])({},Object(l["d"])({users:function(t){return t.user.users}}),{userinfo:function(){return JSON.parse(this.$store.state.userinfo)}}),mounted:function(){this.$store.dispatch("activenav","settingnav"),this.getUsers({usertype:3})}},Ee=$e,De=Object(m["a"])(Ee,me,pe,!1,null,null,null),Ie=De.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Service..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchService()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.branches[t.activebranchIndex].Services,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s(e.regularPrice))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),t.showaddModal?a("addModal",{attrs:{activebranchIndex:t.activebranchIndex,type:0},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{activebranchIndex:t.activebranchIndex,editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e()],1)},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-wrench"}),t._v(" Service List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Service")]),a("th",[t._v("Description")]),a("th",{staticStyle:{width:"10%"}},[t._v("Estimated Price")]),a("th",{staticStyle:{width:"10%"}})])])}],Ae=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.service.branch,expression:"service.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.service,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Service")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.service,expression:"service.service"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.service.service},on:{input:function(e){e.target.composing||t.$set(t.service,"service",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.service.description,expression:"service.description"}],staticClass:"form-control",domProps:{value:t.service.description},on:{input:function(e){e.target.composing||t.$set(t.service,"description",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.regularPrice,expression:"service.regularPrice"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.service.regularPrice},on:{input:function(e){e.target.composing||t.$set(t.service,"regularPrice",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])}),Oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Service")])}],Pe={props:{activebranchIndex:{type:Number,required:!0}},data:function(){return{errormsg:[],service:{branch:"",service:"",description:"",regularPrice:0}}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("service/save",this.service).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",t.activebranchIndex))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getListService")}},Me=Pe,je=Object(m["a"])(Me,Ae,Oe,!1,null,null,null),Re=je.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.service.branchId,expression:"service.branchId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.service,"branchId",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Service")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.service,expression:"service.service"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.service.service},on:{input:function(e){e.target.composing||t.$set(t.service,"service",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.service.description,expression:"service.description"}],staticClass:"form-control",domProps:{value:t.service.description},on:{input:function(e){e.target.composing||t.$set(t.service,"description",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.service.regularPrice,expression:"service.regularPrice"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.service.regularPrice},on:{input:function(e){e.target.composing||t.$set(t.service,"regularPrice",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit Service")])}],Le={props:{editInfo:{type:Object,required:!0},activebranchIndex:{type:Number,required:!0}},data:function(){return{service:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("service/update",this.service).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",t.activebranchIndex))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){}},Be=Le,ze=Object(m["a"])(Be,Ue,Fe,!1,null,null,null),He=ze.exports,Ye={data:function(){return{showaddModal:!1,editInfo:{},showeditModal:!1,activebranchIndex:0,search:""}},methods:Object(r["a"])({},Object(l["b"])("service",["getList","removeList"]),{printPDF:function(){var t=this.branches[this.activebranchIndex].Services.map((function(t){return[t.service,t.description,t.regularPrice]}));t.sort(),t.unshift(["SERVICE","DESCRIPTION","ESTIMATED PRICE"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Service List"),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","*",100],body:t}}]};this.$pdfMake.createPdf(e).open()},refreshlist:function(t){var e=this;this.$store.dispatch("branch/getListService").then((function(){e.changeFilterbranch(t)})).catch((function(t){return console.log(t)}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,this.$store.dispatch("branch/getListService")},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1},edit:function(t){this.editInfo=this.branches[this.activebranchIndex].Services[t],this.editInfo.index=t,this.showeditModal=!0},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.branches[e.activebranchIndex].Services[t];s.index=t,e.removeList(s),e.refreshlist(e.activebranchIndex)}}))},searchService:function(){var t={search:this.search,branch:this.branches[this.activebranchIndex].id,branchindex:this.activebranchIndex};""==this.search?this.$store.dispatch("branch/getListService"):this.$store.dispatch("service/search",t)}}),computed:Object(r["a"])({},Object(l["d"])({services:function(t){return t.service.services},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getListService").then((function(){t.changeFilterbranch(0)})).catch((function(t){return console.log(t)}))},components:{addModal:Re,editModal:He}},qe=Ye,Ve=Object(m["a"])(qe,Te,Ne,!1,null,null,null),Ge=Ve.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fullname..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchDentist()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.branches[t.activebranchIndex].Dentists,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.fullname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(e.contact))]),a("td",[t._v(t._s(e.gender))]),a("td",[t._v(t._s(e.licence))]),a("td",[t._v(t._s(e.ptr))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),t.showaddModal?a("addModal",{attrs:{activebranchIndex:t.activebranchIndex,type:0},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{activebranchIndex:t.activebranchIndex,editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e()],1)},We=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-user-md"}),t._v(" Dentist List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Fullname")]),a("th",[t._v("Email")]),a("th",[t._v("Address")]),a("th",[t._v("Contact")]),a("th",[t._v("Gender")]),a("th",[t._v("Licence")]),a("th",[t._v("PTR")]),a("th")])])}],Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dentist.branch,expression:"dentist.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dentist,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Fullname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.fullname,expression:"dentist.fullname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.fullname},on:{input:function(e){e.target.composing||t.$set(t.dentist,"fullname",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dentist.gender,expression:"dentist.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dentist,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.email,expression:"dentist.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.dentist.email},on:{input:function(e){e.target.composing||t.$set(t.dentist,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.bday,expression:"dentist.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.dentist.bday},on:{input:function(e){e.target.composing||t.$set(t.dentist,"bday",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.contact,expression:"dentist.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.contact},on:{input:function(e){e.target.composing||t.$set(t.dentist,"contact",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.address,expression:"dentist.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.address},on:{input:function(e){e.target.composing||t.$set(t.dentist,"address",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Licence No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.licence,expression:"dentist.licence"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.licence},on:{input:function(e){e.target.composing||t.$set(t.dentist,"licence",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("PTR")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.ptr,expression:"dentist.ptr"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.ptr},on:{input:function(e){e.target.composing||t.$set(t.dentist,"ptr",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},Qe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Dentist")])}],Ke={props:{activebranchIndex:{type:Number,required:!0}},data:function(){return{errormsg:[],dentist:{gender:"Male",branch:"",fullname:"",email:"",bday:"",contact:"",address:"",licence:"",ptr:""}}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("dentist/save",this.dentist).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",t.activebranchIndex))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getListDentist")}},Xe=Ke,ta=Object(m["a"])(Xe,Ze,Qe,!1,null,null,null),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dentist.branchId,expression:"dentist.branchId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dentist,"branchId",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Fullname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.fullname,expression:"dentist.fullname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.fullname},on:{input:function(e){e.target.composing||t.$set(t.dentist,"fullname",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dentist.gender,expression:"dentist.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dentist,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.email,expression:"dentist.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.dentist.email},on:{input:function(e){e.target.composing||t.$set(t.dentist,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.bday,expression:"dentist.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.dentist.bday},on:{input:function(e){e.target.composing||t.$set(t.dentist,"bday",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.contact,expression:"dentist.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.contact},on:{input:function(e){e.target.composing||t.$set(t.dentist,"contact",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.address,expression:"dentist.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.address},on:{input:function(e){e.target.composing||t.$set(t.dentist,"address",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v("Licence No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.licence,expression:"dentist.licence"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.licence},on:{input:function(e){e.target.composing||t.$set(t.dentist,"licence",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("PTR")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dentist.ptr,expression:"dentist.ptr"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dentist.ptr},on:{input:function(e){e.target.composing||t.$set(t.dentist,"ptr",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit Dentist")])}],na={props:{editInfo:{type:Object,required:!0},activebranchIndex:{type:Number,required:!0}},data:function(){return{dentist:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.dentist.oldemail=this.editInfo.email,this.$store.dispatch("dentist/update",this.dentist).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",t.activebranchIndex))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getListDentist")}},ia=na,ra=Object(m["a"])(ia,aa,sa,!1,null,null,null),oa=ra.exports,ca={data:function(){return{showaddModal:!1,editInfo:{},showeditModal:!1,activebranchIndex:0,search:""}},methods:Object(r["a"])({},Object(l["b"])("dentist",["getList","removeList"]),{printPDF:function(){var t=this.branches[this.activebranchIndex].Dentists.map((function(t){return[t.fullname,t.email,t.address,t.contact,t.gender,t.licence,t.ptr]}));t.sort(),t.unshift(["NAME","EMAIL","ADDRESS","CONTACT NO","GENDER","LICENCE","PTR"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Dentist List"),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","*","auto","auto","auto","auto"],body:t}}]};this.$pdfMake.createPdf(e).open()},searchDentist:function(){var t={search:this.search,branch:this.branches[this.activebranchIndex].id,branchindex:this.activebranchIndex};""==this.search?this.$store.dispatch("branch/getListDentist"):this.$store.dispatch("dentist/search",t)},refreshlist:function(t){var e=this;this.$store.dispatch("branch/getListDentist").then((function(){e.changeFilterbranch(t)})).catch((function(t){return console.log(t)}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,this.$store.dispatch("branch/getListDentist")},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1},edit:function(t){this.editInfo=this.branches[this.activebranchIndex].Dentists[t],this.editInfo.index=t,this.showeditModal=!0},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.branches[e.activebranchIndex].Dentists[t];s.index=t,e.removeList(s),e.refreshlist(e.activebranchIndex)}}))}}),computed:Object(r["a"])({},Object(l["d"])({dentists:function(t){return t.dentist.dentists},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getListDentist").then((function(){t.changeFilterbranch(0)})).catch((function(t){return console.log(t)}))},components:{addModal:ea,editModal:oa}},la=ca,da=Object(m["a"])(la,Je,We,!1,null,null,null),ua=da.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-medkit"}),t._v(" "+t._s(t.typedes)+" Inventory")]),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.showstockin()}}},[a("span",{staticClass:"fa fa-download"}),t._v(" Stocks In")])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:t.stockstatus,expression:"stockstatus"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.stockstatus=e.target.multiple?a:a[0]},function(e){return t.setMedicinelist()}]}},[a("option",[t._v("ALL")]),a("option",[t._v("GOOD")]),a("option",[t._v("LOW")]),a("option",[t._v("NO STOCKS")])])])]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Item or Code..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchItem()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-2",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.medicineLists,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.medicine))]),a("td",[t._v(t._s(e.brand))]),a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.scientificName))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.stocks))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.uom))]),a("td",{domProps:{innerHTML:t._s(t.getStatus(e.stocks,e.limitMin))}}),a("td",{staticStyle:{"text-align":"center"}},[a("router-link",{attrs:{to:{name:"viewItemDetails",params:{idno:e.id}}}},[a("button",{staticClass:"btn btn-primary",staticStyle:{"font-size":"10pt"}},[a("span",{staticClass:"fa fa-search"}),t._v(" View More")])])],1)])})),0)])]),t.showaddModal?a("addModal",{attrs:{activebranchIndex:t.activebranchIndex,type:t.type},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e(),t.showeditModal?a("editModal",{attrs:{activebranchIndex:t.activebranchIndex,editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshlist:t.refreshlist}}):t._e()],1)},pa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Stocks Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("Item")]),a("th",[t._v("Brand")]),a("th",[t._v("Description")]),a("th",[t._v("Code")]),a("th",[t._v("Scientific Name")]),a("th",[t._v("Remaining Stock")]),a("th",[t._v("Unit")]),a("th",{attrs:{width:"10%"}},[t._v("Stock Status")]),a("th",{attrs:{width:"10%"}})])])}],ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.medicine.branch,expression:"medicine.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.medicine,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Medicine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.medicine,expression:"medicine.medicine"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.medicine},on:{input:function(e){e.target.composing||t.$set(t.medicine,"medicine",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.description,expression:"medicine.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.description},on:{input:function(e){e.target.composing||t.$set(t.medicine,"description",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Scientific Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.scientific,expression:"medicine.scientific"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.scientific},on:{input:function(e){e.target.composing||t.$set(t.medicine,"scientific",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Brand")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.brand,expression:"medicine.brand"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.brand},on:{input:function(e){e.target.composing||t.$set(t.medicine,"brand",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Product Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.code,expression:"medicine.code"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.code},on:{input:function(e){e.target.composing||t.$set(t.medicine,"code",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Unit of Measurement")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.uom,expression:"medicine.uom"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.uom},on:{input:function(e){e.target.composing||t.$set(t.medicine,"uom",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Minimum Stocks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.limit,expression:"medicine.limit"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.limit},on:{input:function(e){e.target.composing||t.$set(t.medicine,"limit",e.target.value)}}})])]),a("div",{staticClass:"row"},[1==t.type?a("div",{staticClass:"col-md-6"},[a("label",[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.price,expression:"medicine.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.medicine.price},on:{input:function(e){e.target.composing||t.$set(t.medicine,"price",e.target.value)}}})]):t._e(),a("div",{staticClass:"col-md-6"},[a("label",[t._v("Manufacturer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.manufacturer,expression:"medicine.manufacturer"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.manufacturer},on:{input:function(e){e.target.composing||t.$set(t.medicine,"manufacturer",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},fa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Medicine")])}],va={props:{activebranchIndex:{type:Number,required:!0},type:{type:Number,required:!0}},data:function(){return{errormsg:[],medicine:{limit:0,uom:"",branch:"",medicine:"",description:"",price:0,manufacturer:"",code:"",type:this.type,scientific:"",brand:""}}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("medicine/save",this.medicine).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshlist",t.activebranchIndex))})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),mounted:function(){this.$store.dispatch("branch/getListMedicine",0)}},ga=va,ba=Object(m["a"])(ga,ha,fa,!1,null,null,null),_a=ba.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("label",[t._v("Medicine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.medicine,expression:"medicine.medicine"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.medicine},on:{input:function(e){e.target.composing||t.$set(t.medicine,"medicine",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Brand")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.brand,expression:"medicine.brand"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.brand},on:{input:function(e){e.target.composing||t.$set(t.medicine,"brand",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.description,expression:"medicine.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.description},on:{input:function(e){e.target.composing||t.$set(t.medicine,"description",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Scientific Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.scientificName,expression:"medicine.scientificName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.scientificName},on:{input:function(e){e.target.composing||t.$set(t.medicine,"scientificName",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.code,expression:"medicine.code"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.code},on:{input:function(e){e.target.composing||t.$set(t.medicine,"code",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Unit of Measurement")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.uom,expression:"medicine.uom"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.uom},on:{input:function(e){e.target.composing||t.$set(t.medicine,"uom",e.target.value)}}})])]),a("div",{staticClass:"row"},[1==t.medicine.type?a("div",{staticClass:"col-md-4"},[a("label",[t._v("Manufacturer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.manufacturer,expression:"medicine.manufacturer"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.medicine.manufacturer},on:{input:function(e){e.target.composing||t.$set(t.medicine,"manufacturer",e.target.value)}}})]):t._e(),1==t.medicine.type?a("div",{staticClass:"col-md-4"},[a("label",[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.price,expression:"medicine.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.medicine.price},on:{input:function(e){e.target.composing||t.$set(t.medicine,"price",e.target.value)}}})]):t._e(),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Remaining Stocks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.stocks,expression:"medicine.stocks"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.medicine.stocks},on:{input:function(e){e.target.composing||t.$set(t.medicine,"stocks",e.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("label",[t._v("Minimum Stocks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.limitMin,expression:"medicine.limitMin"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.medicine.limitMin},on:{input:function(e){e.target.composing||t.$set(t.medicine,"limitMin",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},ya=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit Medicine")])}],wa={props:{editInfo:{type:Object,required:!0}},data:function(){return{medicine:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("medicine/update",this.medicine).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("Medicine info has been updated","","success"),t.$emit("init"),t.closethis())})).catch((function(t){return console.log(t)}))}}},xa=wa,ka=Object(m["a"])(xa,Ca,ya,!1,null,null,null),Sa=ka.exports,$a={data:function(){return{showaddModal:!1,editInfo:{},showeditModal:!1,activebranchIndex:0,medicineLists:[],stockstatus:"ALL",search:"",type:0,typedes:""}},methods:Object(r["a"])({printPDF:function(){var t=this,e=this.medicineLists.map((function(e){return[e.medicine,e.brand,e.description,e.code,e.scientificName,e.stocks,e.uom,t.getStatus2(e.stocks,e.limitMin)]}));e.sort(),e.unshift(["ITEM","BRAND","DESCRIPTION","CODE","SCIENTIFIC NAME","REMAINING STOCKS","UOM","STATUS"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," ").concat(this.typedes," Inventory as of ").concat(this.$helper.formatBdayDate(new Date)," ").concat(this.$helper.format12Hour(new Date)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","*","*","auto","auto","auto","auto",100],body:e}}]};this.$pdfMake.createPdf(a).open()},searchItem:function(){var t=this,e={search:this.search,branch:this.branches[this.activebranchIndex].id,branchindex:this.activebranchIndex,type:this.type};""==this.search?this.$store.dispatch("branch/getListMedicine",this.type).then((function(){t.setMedicinelist()})):this.$store.dispatch("medicine/search",e).then((function(e){console.log(e),t.setMedicinelist()}))},setMedicinelist:function(){"ALL"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines:"LOW"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>0&&t.stocks<=t.limitMin)return t})):"GOOD"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>t.limitMin)return t})):this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(0==t.stocks)return t}))},getStatus:function(t,e){var a="";return 0==t&&(a="<span style='color:white;background:maroon;padding:10px 20px;border-radius:10px'>NO STOCKS</span>"),t>e&&(a="<span style='color:white;background:green;padding:10px 20px;border-radius:10px'>GOOD</span>"),t>0&&t<=e&&(a="<span style='color:white;background:orange;padding:10px 20px;border-radius:10px'>LOW</span>"),a},getStatus2:function(t,e){var a="";return 0==t&&(a="NO STOCKS"),t>e&&(a="GOOD"),t>0&&t<=e&&(a="LOW"),a}},Object(l["b"])("medicine",["getList","removeList"]),{showstockin:function(){var t=this.branches[this.activebranchIndex].id;this.$router.push({name:"stocksin",params:{branch:t,type:"type=".concat(this.type)}})},refreshlist:function(t){var e=this;this.$store.dispatch("branch/getListMedicine",this.type).then((function(){e.changeFilterbranch(t)})).catch((function(t){return console.log(t)}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,"ALL"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines:"LOW"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>0&&t.stocks<=t.limitMin)return t})):"GOOD"==this.stockstatus?this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(t.stocks>t.limitMin)return t})):this.medicineLists=this.branches[this.activebranchIndex].Medicines.filter((function(t){if(0==t.stocks)return t}))},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1,this.showpassModal=!1},edit:function(t){this.editInfo=this.branches[this.activebranchIndex].Medicines[t],this.editInfo.index=t,this.showeditModal=!0},remove:function(t){if(confirm("Remove from active List?")){var e=this.branches[this.activebranchIndex].Medicines[t];e.index=t,this.removeList(e),this.refreshlist(this.activebranchIndex)}}}),computed:Object(r["a"])({},Object(l["d"])({medicines:function(t){return t.medicine.medicines},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.type=this.$route.params.type,this.typedes=0==this.$route.params.type?"Dental Clinic Item":"Pharmacy Medicine",this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getListMedicine",this.type).then((function(){t.changeFilterbranch(0)})).catch((function(t){return console.log(t)}))},components:{addModal:_a,editModal:Sa}},Ea=$a,Da=Object(m["a"])(Ea,ma,pa,!1,null,null,null),Ia=Da.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.branch.branch)+" "+t._s(t.typedes)+" Stocks In")]),a("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){t.showaddstockModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add Stocks")]),a("button",{staticClass:"btn btn-danger float-right",staticStyle:{"margin-right":"20px"},on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.reference,expression:"search.reference"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.reference},on:{input:function(e){e.target.composing||t.$set(t.search,"reference",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:function(e){return t.init()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensede table-striped"},[t._m(3),a("tbody",t._l(t.stocksin,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.refno))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.date))]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.manufacturer))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.invoiceRefno))]),a("td",{staticStyle:{width:"35%"}},[a("ul",t._l(e.Stockinitems,(function(e,s){return a("li",{key:s},[t._v(t._s(e.medicine+" "+e.qty+" "+e.uom)+" Expiration Date: "+t._s(e.ExpirationDate))])})),0)]),a("td")])})),0)])])])]),t.showaddstockModal?a("addstockModal",{attrs:{type:t.search.isPharmacy,branch:t.branch},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)},Na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Reference No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Stock Ref No")]),a("th",[t._v("Date")]),a("th",[t._v("Supplier")]),a("th",[t._v("Invoice Ref No")]),a("th",[t._v("Items")]),a("th")])])}],Aa=(a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stock.date,expression:"stock.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.stock.date},on:{input:function(e){e.target.composing||t.$set(t.stock,"date",e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stock.supplier,expression:"stock.supplier"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.stock.supplier},on:{input:function(e){e.target.composing||t.$set(t.stock,"supplier",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stock.invoiceRef,expression:"stock.invoiceRef"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.stock.invoiceRef},on:{input:function(e){e.target.composing||t.$set(t.stock,"invoiceRef",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("table",{staticClass:"table table-condensed"},[t._m(4),a("tbody",t._l(t.stock.items,(function(e,s){return a("tr",{key:s},[a("td",[e.id>0?a("span",[t._v(t._s(e.medicine))]):t._e()]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.qty},on:{change:function(e){return t.changeqty(s)},input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("td",[t._v(t._s(e.uom))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.expirationDate,expression:"item.expirationDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.expirationDate},on:{input:function(a){a.target.composing||t.$set(e,"expirationDate",a.target.value)}}})]),a("td",{staticStyle:{"text-align":"right"}},[a("button",{on:{click:function(e){return t.removeitem(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])}),Oa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Stocks")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Supplier")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Invoice Ref No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Item")]),a("th",[t._v("Qty")]),a("th",[t._v("Unit of Measurement")]),a("th",[t._v("Expiration Date")]),a("th",{staticStyle:{width:"20%"}})])])}],Pa=(a("a434"),a("3f5b")),Ma={components:{Select2:Pa["a"]},props:{branch:{type:Object,required:!0},type:{type:Number,required:!0}},data:function(){return{errormsg:[],stock:{date:"",supplier:"",invoiceRef:"",items:[],branch:this.branch.id,isPharmacy:this.type},ph:"Select Item From Inventory",myValue:""}},methods:{changeqty:function(t){var e=this.stock.items[t].qty;e<=0&&(this.stock.items[t].qty=1)},closethis:function(){this.$emit("closemodal")},removeitem:function(t){this.stock.items.splice(t,1)},add:function(){var t={id:this.branch.Medicines[this.myValue].id,qty:1,medicine:"".concat(this.branch.Medicines[this.myValue].medicine," ( ").concat(this.branch.Medicines[this.myValue].brand," )"),uom:this.branch.Medicines[this.myValue].uom,expirationDate:""};if(0==this.stock.items.length)this.stock.items.push(t);else{for(var e=0,a=0;a<this.stock.items.length;a++)if(this.stock.items[a].id==t.id){e=1;break}0==e&&this.stock.items.push(t)}this.myValue=""},save:function(){var t=this;this.$store.dispatch("medicine/addstock",this.stock).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$swal("New stocks has been added","","success"),t.$emit("init"))})).catch((function(t){return console.log(t)}))}},computed:{serviceOptions:{get:function(){var t=-1;return this.branch.Medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine," ( ").concat(e.brand," )")}}))}}},mounted:function(){var t=new Date;this.stock.date=this.$helper.formatDate(t)}},ja=Ma,Ra=Object(m["a"])(ja,Aa,Oa,!1,null,null,null),Ua=Ra.exports,Fa={components:{addstockModal:Ua},data:function(){return{search:{start:"",end:"",reference:"",item:"",branch:"",isPharmacy:0},myValue:[],ph:"Select Item name From Inventory",showaddstockModal:!1,typedes:""}},computed:Object(r["a"])({},Object(l["d"])({branch:function(t){return t.branch.branch},stocksin:function(t){return t.medicine.stocksin}}),{serviceOptions:{get:function(){var t=-1;return this.branch.Medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine)}}))}}}),methods:{printPDF:function(){var t=this.stocksin.map((function(t){var e="";return t.Stockinitems.forEach((function(t){e+="* ".concat(t.medicine," ").concat(t.qty," ").concat(t.uom," Expiration Date: ").concat(t.ExpirationDate,"\n")})),[t.refno,t.date,t.manufacturer,t.invoiceRefno,e]}));t.sort(),t.unshift(["STOCK REF NO","DATE","Supplier","INVOICE REF NO","ITEMS"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branch.branch," ").concat(this.typedes," Stocks In From ").concat(this.$helper.formatBdayDate(this.search.start)," TO ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["auto","auto","auto","auto","*"],body:t}}]};this.$pdfMake.createPdf(e).open()},closemodal:function(){this.showaddstockModal=!1},init:function(){console.log(this.search),this.$store.dispatch("medicine/getStocksin",this.search)}},mounted:function(){var t=this;this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getInfo",{idno:this.$route.params.branch,type:this.$route.params.type.split("=")[1]}).then((function(){var e=new Date;t.search.start=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.$route.params.branch,t.search.isPharmacy=t.$route.params.type.split("=")[1],t.typedes=0==t.search.isPharmacy?"Dental Clinic Item":"Pharmacy Medicine",t.init()})).catch((function(t){return console.log(t)}))}},La=Fa,Ba=Object(m["a"])(La,Ta,Na,!1,null,null,null),za=Ba.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right",on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.medicine,expression:"medicine.medicine"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.medicine},on:{input:function(e){e.target.composing||t.$set(t.medicine,"medicine",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.brand,expression:"medicine.brand"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.brand},on:{input:function(e){e.target.composing||t.$set(t.medicine,"brand",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.description,expression:"medicine.description"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.description},on:{input:function(e){e.target.composing||t.$set(t.medicine,"description",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.scientificName,expression:"medicine.scientificName"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.scientificName},on:{input:function(e){e.target.composing||t.$set(t.medicine,"scientificName",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.code,expression:"medicine.code"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.code},on:{input:function(e){e.target.composing||t.$set(t.medicine,"code",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stockstatus,expression:"stockstatus"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.stockstatus},on:{input:function(e){e.target.composing||(t.stockstatus=e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.stocks,expression:"medicine.stocks"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.stocks},on:{input:function(e){e.target.composing||t.$set(t.medicine,"stocks",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.uom,expression:"medicine.uom"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.uom},on:{input:function(e){e.target.composing||t.$set(t.medicine,"uom",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.medicine.limitMin,expression:"medicine.limitMin"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.medicine.limitMin},on:{input:function(e){e.target.composing||t.$set(t.medicine,"limitMin",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-success form-control",on:{click:function(e){return t.edit()}}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit")])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-danger form-control",on:{click:function(e){return t.remove()}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Remove")])])]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"active navfilterstock nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterstock("in",0)}}},[t._v("Stocks In")])]),0==t.medicine.type?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"navfilterstock nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterstock("out",1)}}},[t._v("Stocks Out")])]):a("li",{staticClass:"nav-item"},[a("a",{staticClass:"navfilterstock nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterstock("out2",1)}}},[t._v("Stocks Out")])])]),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(11),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:function(e){return t.init()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-3"},[a("button",{ref:"stockin",staticClass:"btn btn-danger",on:{click:function(e){return t.printStocksIN()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")]),a("button",{ref:"stockout",staticClass:"btn btn-danger",staticStyle:{display:"none"},on:{click:function(e){return t.printStocksOUT(0)}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")]),a("button",{ref:"stockout2",staticClass:"btn btn-danger",staticStyle:{display:"none"},on:{click:function(e){return t.printStocksOUT(1)}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),"in"==t.filterstock?a("table",{staticClass:"table table-condensed table-striped"},[t._m(12),a("tbody",t._l(t.medicine.Stockinitems,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.Stockin.refno))]),a("td",[t._v(t._s(e.Stockin.date))]),a("td",[t._v(t._s(e.Stockin.manufacturer))]),a("td",[t._v(t._s(e.Stockin.invoiceRefno))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.uom))]),a("td",[t._v(t._s(e.ExpirationDate))])])})),0)]):"out"==t.filterstock?a("table",{staticClass:"table table-condensed table-striped"},[t._m(13),a("tbody",t._l(t.medicine.Stockouts,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.Transaction.transactionNo))]),a("td",[t._v(t._s(t.dDate(e.createdAt)))]),a("td",[t._v(t._s(e.Transaction.Dentist.fullname))]),a("td",[a("span",[t._v(t._s(e.Action.Treatment.service))]),a("br"),a("span",{staticStyle:{"font-size":"10pt"}},[t._v("Date: "+t._s(e.Action.date))])]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.Medicine.uom))])])})),0)]):a("table",{staticClass:"table table-condensed table-striped"},[t._m(14),a("tbody",t._l(t.medicine.Billitems,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.Billing.billrefNo))]),a("td",[t._v(t._s(t.dDate(e.Billing.createdAt)))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.Medicine.uom))])])})),0)])])]),t.showeditModal?a("editModal",{attrs:{editInfo:t.editInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)])},Ya=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-medkit"}),t._v(" Item Details")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Item")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Brand")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Description")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Scientific Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Item Code")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Stock Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Remaining Stocks")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Unit Measurement")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Limit Stocks")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("StockIn RefNo")]),a("th",[t._v("Date")]),a("th",[t._v("Supplier")]),a("th",[t._v("Invoice RefNo")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")]),a("th",[t._v("Expiration Date")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Transaction RefNo")]),a("th",[t._v("Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Treatment")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Purchase RefNo")]),a("th",[t._v("Date")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")])])])}],qa={data:function(){return{filterstock:"in",search:{start:"",end:"",id:this.$route.params.idno},showeditModal:!1,editInfo:{}}},methods:{printStocksOUT:function(t){var e,a,s=this;0==t?(e=this.medicine.Stockouts.map((function(t){return[t.Transaction.transactionNo,s.dDate(t.createdAt),t.Transaction.Dentist.fullname,"".concat(t.Action.Treatment.service,"\nDate: ").concat(t.Action.date),t.qty,t.Medicine.uom]})),e.sort(),e.unshift(["TRANSACTION REF NO","DATE","DENTIST","TREATMENT","QUANTITY","UOM"]),a="landscape"):(e=this.medicine.Billitems.map((function(t){return[t.Billing.billrefNo,s.dDate(t.Billing.createdAt),t.qty,t.Medicine.uom]})),e.sort(),e.unshift(["PURCHASE REF NO","DATE","QUANTITY","UOM"]),a="portrait");var n=0==t?["auto","auto","auto","*","auto","auto"]:["*","auto","auto","*"],i={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:a,content:[{text:"".concat(this.medicine.medicine," ( ").concat(this.medicine.brand," ) Stocks Out From ").concat(this.$helper.formatBdayDate(this.search.start)," TO ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:n,body:e}}]};this.$pdfMake.createPdf(i).open()},printStocksIN:function(){var t=this.medicine.Stockinitems.map((function(t){return[t.Stockin.refno,t.Stockin.date,t.Stockin.manufacturer,t.Stockin.invoiceRefno,t.qty,t.uom,t.ExpirationDate]}));t.sort(),t.unshift(["STOCK REF NO","DATE","SUPPLIER","INVOICE REF NO","QUANTITY","UOM","EXPIRATION DATE"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.medicine.medicine," ( ").concat(this.medicine.brand," ) Stocks In From ").concat(this.$helper.formatBdayDate(this.search.start)," TO ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","*","auto","auto","auto","*"],body:t}}]};this.$pdfMake.createPdf(e).open()},edit:function(){this.showeditModal=!0,this.editInfo=this.medicine},closemodal:function(){this.showeditModal=!1},dDate:function(t){return this.$helper.formatDate(t)},changeFilterstock:function(t,e){for(var a=document.getElementsByClassName("navfilterstock"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.filterstock=t,"in"==t?(this.$refs.stockin.style.display="block",this.$refs.stockout.style.display="none",this.$refs.stockout2.style.display="none"):"out"==t?(this.$refs.stockin.style.display="none",this.$refs.stockout.style.display="block",this.$refs.stockout2.style.display="none"):(this.$refs.stockin.style.display="none",this.$refs.stockout.style.display="none",this.$refs.stockout2.style.display="block")},back:function(){this.$router.go(-1)},init:function(){this.$store.dispatch("medicine/getInfo",this.search)},remove:function(){var t=this;this.$swal({title:"Remove from List??",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(e){e.value&&t.$store.dispatch("medicine/removeList",{id:t.$route.params.idno}).then((function(){t.$swal("Item has been removed","","success"),t.$router.push({name:"medicinelist",params:{type:t.medicine.type}})})).catch((function(t){return console.log(t)}))}))}},computed:Object(r["a"])({},Object(l["d"])({medicine:function(t){return t.medicine.medicine}}),{stockstatus:{get:function(){var t="";return 0==this.medicine.stocks&&(t="NO STOCKS"),this.medicine.stocks>this.medicine.limitMin&&(t="GOOD"),this.medicine.stocks>0&&this.medicine.stocks<=this.medicine.limitMin&&(t="LOW"),t}}}),mounted:function(){this.$store.dispatch("activenav","settingnav");var t=new Date;this.search.start=this.$helper.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.search.end=this.$helper.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0)),this.init()},components:{editModal:Sa}},Va=qa,Ga=Object(m["a"])(Va,Ha,Ya,!1,null,null,null),Ja=Ga.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"float-right btn btn-primary",on:{click:function(e){t.showaddModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fullname..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control",on:{click:function(e){return t.searchBranch()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])]),a("div",{staticClass:"col-md-6",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(e){return t.printPDF()}}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" PDF")])])]),a("table",{ref:"testdata",staticClass:"table table-bordered",attrs:{id:"dataTable",width:"100%",cellspacing:"0"}},[t._m(1),a("tbody",t._l(t.branches,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.branch))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(e.contact))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.tin))]),a("td",[a("button",{staticStyle:{"margin-right":"10px",color:"green"},attrs:{title:"Update Informations"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{color:"maroon"},attrs:{title:"Remove from the list"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),t.showaddModal?a("addModal",{attrs:{type:0},on:{closemodal:function(e){return t.closemodal()}}}):t._e(),t.showeditModal?a("editModal",{attrs:{editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()}}}):t._e()],1)},Za=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-map-marker-alt"}),t._v(" Branch List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#083D55",color:"white"}},[a("th",[t._v("#")]),a("th",[t._v("Branch")]),a("th",[t._v("Address")]),a("th",[t._v("Contact")]),a("th",[t._v("Email Address")]),a("th",[t._v("TIN")]),a("th")])])}],Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Branch")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.branch,expression:"branch.branch"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.branch},on:{input:function(e){e.target.composing||t.$set(t.branch,"branch",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.address,expression:"branch.address"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.branch.address},on:{input:function(e){e.target.composing||t.$set(t.branch,"address",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Contact")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.contact,expression:"branch.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.contact},on:{input:function(e){e.target.composing||t.$set(t.branch,"contact",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.email,expression:"branch.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.email},on:{input:function(e){e.target.composing||t.$set(t.branch,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("TIN")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.tin,expression:"branch.tin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.tin},on:{input:function(e){e.target.composing||t.$set(t.branch,"tin",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},Ka=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Branch")])}],Xa={data:function(){return{errormsg:[],branch:{branch:"",address:"",contact:"",email:"",tin:""}}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("branch/save",this.branch).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))}}},ts=Xa,es=Object(m["a"])(ts,Qa,Ka,!1,null,null,null),as=es.exports,ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Branch")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.branch,expression:"branch.branch"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.branch},on:{input:function(e){e.target.composing||t.$set(t.branch,"branch",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.address,expression:"branch.address"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.branch.address},on:{input:function(e){e.target.composing||t.$set(t.branch,"address",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("Contact")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.contact,expression:"branch.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.contact},on:{input:function(e){e.target.composing||t.$set(t.branch,"contact",e.target.value)}}})]),a("div",{staticClass:"col-md-12"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.email,expression:"branch.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.email},on:{input:function(e){e.target.composing||t.$set(t.branch,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("TIN")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branch.tin,expression:"branch.tin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.branch.tin},on:{input:function(e){e.target.composing||t.$set(t.branch,"tin",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},ns=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Branch")])}],is={props:{editInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],branch:JSON.parse(JSON.stringify(this.editInfo))}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("branch/update",this.branch).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))}}},rs=is,os=Object(m["a"])(rs,ss,ns,!1,null,null,null),cs=os.exports,ls={components:{addModal:as,editModal:cs},data:function(){return{showaddModal:!1,showeditModal:!1,search:""}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}})),methods:{printPDF:function(){var t=this.branches.map((function(t){return[t.branch,t.address,t.contact,t.email,t.tin]}));t.sort(),t.unshift(["BRANCH","ADDRESS","CONTACT NO","EMAIL ADDRESS","TIN"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"Branch List",alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","*","auto","auto","auto"],body:t}}]};this.$pdfMake.createPdf(e).open()},searchBranch:function(){""==this.search?this.$store.dispatch("branch/getList"):this.$store.dispatch("branch/search",this.search)},closemodal:function(){this.showaddModal=!1,this.showeditModal=!1},remove:function(t){var e=this;this.$swal({title:"Remove from active List?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=e.branches[t];s.index=t,e.$store.dispatch("branch/remove",s)}}))},edit:function(t){this.editInfo=this.branches[t],this.editInfo.index=t,this.showeditModal=!0}},mounted:function(){this.$store.dispatch("activenav","settingnav"),this.$store.dispatch("branch/getList")}},ds=ls,us=Object(m["a"])(ds,Wa,Za,!1,null,null,null),ms=us.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Medical History")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.staff.history,expression:"staff.history"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.history},on:{input:function(e){e.target.composing||t.$set(t.staff,"history",e.target.value)}}})])])]),a("span",[t._v("Note: Default password for the portal will be lastname_password ex. delacruz_password")]),a("button",{staticClass:"btn btn-primary float-right",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])])])},hs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-user"}),t._v(" Register New Patient")])}],fs={data:function(){return{staff:{fullname:"",firstname:"",middlename:"",lastname:"",employeeNo:"",bday:"",contact:"",email:"",address:"",usertype:2,gender:"Male",history:""},errormsg:[]}},methods:{save:function(){var t=this;this.$store.dispatch("user/addpatient",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(alert("New patient successfully registered!"),t.$refs.errormessage.classList.remove("show"),t.errormsg=[],t.staff={fullname:"",employeeNo:"",bday:"",contact:"",email:"",address:"",usertype:2},t.$router.push({name:"patientinfo",params:{idno:e.data.id}}))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.$store.dispatch("activenav","patientnav")}},vs=fs,gs=Object(m["a"])(vs,ps,hs,!1,null,null,null),bs=gs.exports,_s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.lastname,expression:"filter.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.lastname},on:{input:function(e){e.target.composing||t.$set(t.filter,"lastname",e.target.value)}}})]),a("div",{staticClass:"col-md-3"},[a("label",[t._v("Middle Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.middlename,expression:"filter.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.middlename},on:{input:function(e){e.target.composing||t.$set(t.filter,"middlename",e.target.value)}}})]),a("div",{staticClass:"col-md-3"},[a("label",[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.firstname,expression:"filter.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.firstname},on:{input:function(e){e.target.composing||t.$set(t.filter,"firstname",e.target.value)}}})]),a("div",{staticClass:"col-md-3"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.email,expression:"filter.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.email},on:{input:function(e){e.target.composing||t.$set(t.filter,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-danger form-control",on:{click:function(e){return t.clear()}}},[a("span",{staticClass:"fa fa-recycle"}),t._v(" Clear")])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.search()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Results - "+t._s(t.patients.length))]),a("div",{staticClass:"card-body"},[t.patients.length>0?a("table",{staticClass:"table table-condensed table-hover table-striped"},[t._m(1),a("tbody",t._l(t.patients,(function(e,s){return a("tr",{key:s,staticStyle:{cursor:"pointer"},on:{dblclick:function(a){return t.viewDetails(e.id)}}},[a("td",[t._v(t._s(e.lastname))]),a("td",[t._v(t._s(e.firstname))]),a("td",[t._v(t._s(e.middlename))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(t.formatbday(e.bday)))]),a("td",[t._v(t._s(e.address))]),a("td",[a("router-link",{attrs:{to:{name:"patientinfo",params:{idno:e.id}}}},[t._v("View Info")])],1)])})),0)]):t._e()])])])])},Cs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-users"}),t._v(" Patient(s) Search")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Lastname")]),a("th",[t._v("Firstname")]),a("th",[t._v("Middlename")]),a("th",[t._v("Email")]),a("th",[t._v("Birthday")]),a("th",[t._v("Address")]),a("th")])])}],ys={data:function(){return{filter:{lastname:"",middlename:"",firstname:"",email:""}}},computed:Object(r["a"])({},Object(l["d"])({patients:function(t){return t.user.patients}})),methods:{viewDetails:function(t){this.$router.push({name:"patientinfo",params:{idno:t}})},search:function(){this.$store.dispatch("user/searchPatient",this.filter)},formatbday:function(t){return Object(x["formatBdayDate"])(t)},clear:function(){this.filter={lastname:"",middlename:"",firstname:"",email:""},this.$store.state.user.patients=[]}},mounted:function(){this.$store.dispatch("activenav","patientnav")}},ws=ys,xs=Object(m["a"])(ws,_s,Cs,!1,null,null,null),ks=xs.exports,Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid"},[s("span",{staticClass:"pageheader"},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.user.fullname)+" "),s("router-link",{attrs:{to:{name:"listPatient"}}},[s("button",{staticClass:"float-right"},[s("span",{staticClass:"fa fa-times"})])])],1),t._v(" - "),s("span",[t._v(t._s(t.user.email))]),s("hr"),t.showeditModal?s("editModal",{attrs:{editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()}}}):t._e(),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[t._v("Information(s) "),s("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:t.edit}},[s("span",{staticClass:"fa fa-pen"})])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"col col-md-3",staticStyle:{position:"relative"}},[null==t.user.img?s("img",{staticStyle:{height:"18em",width:"100%"},attrs:{src:a("113c")}}):s("img",{staticStyle:{height:"18em",width:"100%"},attrs:{src:t.imgUrl+"/"+t.user.img}})]),s("div",{staticClass:"col col-md-9"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("First name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstname,expression:"user.firstname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.firstname},on:{input:function(e){e.target.composing||t.$set(t.user,"firstname",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Middle name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.middlename,expression:"user.middlename"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.middlename},on:{input:function(e){e.target.composing||t.$set(t.user,"middlename",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Last name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastname,expression:"user.lastname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.lastname},on:{input:function(e){e.target.composing||t.$set(t.user,"lastname",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"email",readonly:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Birthday")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bday,expression:"bday"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.bday},on:{input:function(e){e.target.composing||(t.bday=e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Contact No")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.contact,expression:"user.contact"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.contact},on:{input:function(e){e.target.composing||t.$set(t.user,"contact",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Gender")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.gender},on:{input:function(e){e.target.composing||t.$set(t.user,"gender",e.target.value)}}})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}})])])]),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Medical History")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.history,expression:"user.history"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.history},on:{input:function(e){e.target.composing||t.$set(t.user,"history",e.target.value)}}})])])])]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[s("span",[t._v("Records")]),t._v(" "),s("button",{staticClass:"btn btn-default float-right",staticStyle:{color:"white",display:"none"},on:{click:function(e){t.showaddTransactModal=!0}}},[s("span",{staticClass:"fa fa-plus"}),t._v(" New Transaction")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"card-body"},[s("table",{staticClass:"table table-condensed table-hover table-striped"},[t._m(1),s("tbody",t._l(t.pendingTransaction,(function(e,a){return s("tr",{key:a,staticStyle:{cursor:"pointer"},on:{dblclick:function(a){return t.viewTransaction(e.id)}}},[s("td",[t._v(t._s(e.transactionNo))]),s("td",[t._v(t._s(e.Branch.branch))]),s("td",[t._v(t._s(t.dDate(e.transactionDate)))]),s("td",[t._v(t._s(t.dDate(e.transactionEndDate)))]),s("td",[t._v(t._s(e.dentist))]),s("td",[t._v(t._s(t.getStatus(e.status)))]),s("td",[s("router-link",{attrs:{to:{name:"transactioninfo",params:{idno:e.id}}}},[t._v("View Transaction Details")])],1)])})),0)])])]),s("div",{staticClass:"card"},[t._m(2),s("div",{staticClass:"card-body"},[s("table",{staticClass:"table table-condensed table-striped"},[t._m(3),s("tbody",t._l(t.doneTransaction,(function(e,a){return s("tr",{key:a,staticStyle:{cursor:"pointer"},on:{dblclick:function(a){return t.viewTransaction(e.id)}}},[s("td",[t._v(t._s(e.transactionNo))]),s("td",[t._v(t._s(e.branchId))]),s("td",[t._v(t._s(t.dDate(e.transactionDate)))]),s("td",[t._v(t._s(t.dDate(e.transactionEndDate)))]),s("td",[t._v(t._s(e.dentist))]),s("td",[t._v(t._s(t.getStatus(e.status)))]),s("td",[s("router-link",{attrs:{to:{name:"transactioninfo",params:{idno:e.id}}}},[t._v("View Transaction Details")])],1)])})),0)])])])])])],1),t.showaddTransactModal?s("addTransactionModal",{on:{closemodal:t.closemodal}}):t._e()],1)},$s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-default"},[a("span",{staticClass:"card-title"},[t._v("Active")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Transaction Code")]),a("th",[t._v("Branch")]),a("th",[t._v("Start Date")]),a("th",[t._v("End Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-default"},[a("span",{staticClass:"card-title"},[t._v("History")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Transaction Code")]),a("th",[t._v("Branch")]),a("th",[t._v("Start Date")]),a("th",[t._v("End Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th")])])}],Es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Branch")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.branch,expression:"transaction.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transaction,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Dentist")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.dentistIndex,expression:"transaction.dentistIndex"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transaction,"dentistIndex",e.target.multiple?a:a[0])}}},t._l(t.branches[t.activeIndexBranch].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e.fullname))])})),0)])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.date,expression:"transaction.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.transaction.date},on:{input:function(e){e.target.composing||t.$set(t.transaction,"date",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.transaction.servicelist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"list.price"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"number",readonly:""},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})]),a("td",[a("button",{staticStyle:{background:"transparent",border:"none",color:"maroon"},on:{click:function(e){return t.removeserviceList(s)}}},[a("span",{staticClass:"fa fa-minus"})])])])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.Start,expression:"transaction.Start"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.transaction.Start},on:{input:function(e){e.target.composing||t.$set(t.transaction,"Start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Estimated End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.End,expression:"transaction.End"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.transaction.End},on:{input:function(e){e.target.composing||t.$set(t.transaction,"End",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},Ds=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Transaction")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Service")]),a("th",[t._v("Amount")]),a("th")])])}],Is=(a("c975"),{data:function(){return{activeIndexBranch:0,errormsg:[],transaction:{branch:"",dentistIndex:-1,dentistname:"",dentistid:"",patient:this.$route.params.idno,date:"",servicelist:[],Start:"",End:""},myValue:"",myOptions:["op1","op2","op3"],ph:"Service List"}},watch:{"transaction.branch":function(t){var e=this.branches.filter((function(e){if(e.id==t)return e})),a=this.branches.indexOf(e[0]);this.activeIndexBranch=a}},methods:Object(r["a"])({},Object(l["b"])("dentist",["getList"]),{},Object(l["b"])("service",{getService:"getList"}),{removeserviceList:function(t){this.transaction.servicelist.splice(t,1)},closethis:function(){this.$emit("closemodal")},add:function(){var t={id:this.branches[this.activeIndexBranch].Services[this.myValue].id,service:this.branches[this.activeIndexBranch].Services[this.myValue].service,price:this.branches[this.activeIndexBranch].Services[this.myValue].regularPrice};if(0==this.transaction.servicelist.length)this.transaction.servicelist.push(t);else{for(var e=0,a=0;a<this.transaction.servicelist.length;a++)if(this.transaction.servicelist[a].id==t.id){e=1;break}0==e&&this.transaction.servicelist.push(t)}this.myValue=""},save:function(){var t=this;this.transaction.dentistIndex>=0&&(this.transaction.dentistname=this.dentists[this.transaction.dentistIndex].fullname,this.transaction.dentistid=this.dentists[this.transaction.dentistIndex].id),this.$store.dispatch("transaction/save",this.transaction).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal.fire("Transaction has been created","","success"),t.closethis())})).catch((function(t){return console.log(t)}))},myChangeEvent:function(t){console.log(t)},mySelectEvent:function(t){var e=t.id,a=t.text;console.log({id:e,text:a})}}),computed:Object(r["a"])({},Object(l["d"])({dentists:function(t){return t.dentist.dentists},services:function(t){return t.service.services},branches:function(t){return t.branch.branches}}),{serviceOptions:{get:function(){var t=-1;return this.branches[this.activeIndexBranch].Services.map((function(e){return t++,{id:t,text:"".concat(e.service," - Price: P ").concat(e.regularPrice)}}))}}}),mounted:function(){var t=this;this.transaction.date=Object(x["formatDate"])(new Date),this.getList(),this.getService(),this.$store.dispatch("branch/getListAllInfo").then((function(){t.transaction.branch=t.branches[t.activeIndexBranch].id})).catch((function(t){return console.log(t)}))},components:{Select2:Pa["a"]}}),Ts=Is,Ns=Object(m["a"])(Ts,Es,Ds,!1,null,"547eafa6",null),As=Ns.exports,Os={data:function(){return{editInfo:{},showeditModal:!1,showaddTransactModal:!1,imgUrl:this.$store.state.imgUrl}},methods:Object(r["a"])({viewReservation:function(t){alert(t)},viewTransaction:function(t){this.$router.push({name:"transactioninfo",params:{idno:t}})}},Object(l["b"])("user",["getUserinfo"]),{},Object(l["b"])("transaction",["getUserTransaction"]),{edit:function(t){this.editInfo=this.user,this.editInfo.index=t,this.showeditModal=!0},closemodal:function(){this.showaddTransactModal=!1,this.showeditModal=!1},dDate:function(t){return Object(x["formatBdayDate"])(t)},dHour:function(t){return Object(x["formatHour"])(t)},getStatus:function(t){var e="";switch(t){case 0:e="On-Going / Pending";break;case 1:e="For Followup";break;case 2:e="Done";break;default:break}return e}}),computed:Object(r["a"])({},Object(l["d"])({user:function(t){return t.user.userinfo}}),{},Object(l["c"])("user",["pendingTransaction","doneTransaction","activeReservation"]),{bday:{get:function(){return Object(x["formatBdayDate"])(this.user.bday)}}}),mounted:function(){this.$store.dispatch("activenav","patientnav"),this.getUserinfo(this.$route.params.idno)},components:{editModal:Wt,addTransactionModal:As}},Ps=Os,Ms=Object(m["a"])(Ps,Ss,$s,!1,null,null,null),js=Ms.exports,Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-info"}),t._v(" "+t._s("Transaction No:"+t.transactionInfo.transactionNo)+" "),a("button",{staticClass:"float-right",on:{click:function(e){return t.goback()}}},[a("span",{staticClass:"fa fa-times"})])]),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[t._v("Information(s) "),a("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:function(e){return t.viewMedicalCertificate()}}},[a("span",{staticClass:"fa fa-medkit"}),t._v(" Medical Certificate")]),a("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:function(e){return t.viewTransactionForm()}}},[a("span",{staticClass:"fa fa-print"}),t._v(" Transaction Form")]),a("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:function(e){t.showcreatepaymentModal=!0}}},[a("span",{staticClass:"fa fa-edit"}),t._v(" Billing")]),a("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:function(e){return t.editStatus()}}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit Status")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Transaction Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dDate,expression:"dDate"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.dDate},on:{input:function(e){e.target.composing||(t.dDate=e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Assign Dentist")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.dentist,expression:"transactionInfo.dentist"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.transactionInfo.dentist},on:{input:function(e){e.target.composing||t.$set(t.transactionInfo,"dentist",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Status")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Status,expression:"Status"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.Status},on:{input:function(e){e.target.composing||(t.Status=e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Remarks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.remarks,expression:"transactionInfo.remarks"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.transactionInfo.remarks},on:{input:function(e){e.target.composing||t.$set(t.transactionInfo,"remarks",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Patient name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.User.fullname,expression:"transactionInfo.User.fullname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.transactionInfo.User.fullname},on:{input:function(e){e.target.composing||t.$set(t.transactionInfo.User,"fullname",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.User.gender,expression:"transactionInfo.User.gender"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.transactionInfo.User.gender},on:{input:function(e){e.target.composing||t.$set(t.transactionInfo.User,"gender",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Age")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Age,expression:"Age"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.Age},on:{input:function(e){e.target.composing||(t.Age=e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Medical History")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.User.history,expression:"transactionInfo.User.history"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.transactionInfo.User.history},on:{input:function(e){e.target.composing||t.$set(t.transactionInfo.User,"history",e.target.value)}}})])]),2!=t.transactionInfo.status?a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.toothType,expression:"transactionInfo.toothType"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transactionInfo,"toothType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("PERMANENT")]),t._v("\\ "),a("option",{attrs:{value:"1"}},[t._v("PRIMARY")])])]):t._e(),2==t.transactionInfo.status?a("div",{staticClass:"col-md-3"},[0==t.transactionInfo.toothType?a("input",{staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",value:"PERMANENT",readonly:""}}):a("input",{staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",value:"PRIMARY",readonly:""}})]):t._e(),a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered"},[a("tr",[0==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),0==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER LEFT JAW TEETH")]):t._e(),1==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),1==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER LEFT JAW TEETH")]):t._e()]),a("tr",t._l(t.topTeeth,(function(e,s){return a("td",{key:s,staticClass:"teeth"},[a("span",{staticClass:"teethorder"},[t._v(" "+t._s(e.orderNo))]),0==t.transactionInfo.toothType?a("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:t.apiUrl+"/public/images/permanent/top_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:t.apiUrl+"/public/images/primary/top_"+e.orderNo+".PNG"}})])})),0),a("tr",t._l(t.BottomTeeth,(function(e,s){return a("td",{key:s,staticClass:"teeth"},[a("span",{staticClass:"teethorder"},[t._v(t._s(e.orderNo))]),0==t.transactionInfo.toothType?a("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:t.apiUrl+"/public/images/permanent/low_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:t.apiUrl+"/public/images/primary/low_"+e.orderNo+".PNG"}})])})),0),a("tr",[0==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),0==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER LEFT JAW TEETH")]):t._e(),1==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),1==t.transactionInfo.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER LEFT JAW TEETH")]):t._e()])])])])]),a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed table-bordered"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("Treatment"),2!=t.transactionInfo.status&&0==t.transactionInfo.Billings.length?a("button",{staticClass:"btn btn-sm btn-primary float-right",on:{click:function(e){return t.addnewTreatment()}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add Treatment")]):t._e()]),a("th",[t._v("Action Taken")])])]),a("tbody",[t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service)),a("br"),t._v("Estimated Price: P "+t._s(e.amount)),a("br"),2!=t.transactionInfo.status&&0==t.transactionInfo.Billings.length?a("a",{staticStyle:{color:"maroon","font-size":"8pt"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.removeTreatment(e.id)}}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Remove")]):t._e()]),a("td",[a("table",{staticClass:"table table-condensed"},[a("tr",{staticStyle:{background:"silver"}},[a("td",[t._v("Date")]),a("td",{staticStyle:{width:"20px"}},[t._v("StartTime")]),a("td",{staticStyle:{width:"20px"}},[t._v("EndTime")]),a("td",[t._v("Diagnosis")]),a("td",[t._v("Action")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("Tooth No")]),2!=t.transactionInfo.status?a("td",{staticStyle:{width:"20px"}},[a("button",{on:{click:function(e){return t.addaction(s)}}},[a("span",{staticClass:"fa fa-plus"})])]):t._e()]),t._l(e.Actions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t.hour(e.starttime)))]),a("td",[t._v(t._s(t.hour(e.endtime)))]),a("td",{domProps:{innerHTML:t._s(e.diagnosis)}}),a("td",[t._v(t._s(e.actiontaken))]),a("td",{staticStyle:{"text-align":"center"}},[t._l(e.teeths,(function(e,s){return a("span",{key:s},[0==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])})),a("hr"),t._l(e.teeths,(function(e,s){return a("span",{key:s},[1==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])}))],2),2!=t.transactionInfo.status?a("td",[a("button",{staticStyle:{color:"green"},on:{click:function(a){return t.editAction(e)}}},[a("span",{staticClass:"fa fa-pen"})]),a("button",{staticStyle:{"margin-top":"10px",color:"maroon"},on:{click:function(a){return t.removeAction(e.id)}}},[a("span",{staticClass:"fa fa-trash"})])]):t._e()])}))],2)])])})),a("tr",[a("td",{staticStyle:{"font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Estimated Total Amount: P "+t._s(t.getTotalAmount))])])],2)])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#343A40",color:"white"}},[a("span",{staticClass:"card-title"},[a("button",{staticClass:"float-left btn btn-default text-white",on:{click:function(e){t.showaddPrescriptionModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Create Prescription")])])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.transactionInfo.Prescriptions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.prescriptionNo)),a("br"),a("a",{staticStyle:{"font-size":"8pt"},attrs:{href:"/backend/transaction/prescript/"+e.id,target:"_new"}},[a("span",{staticClass:"fa fa-print"}),t._v(" View")]),a("br"),2!=t.transactionInfo.status?a("a",{staticStyle:{color:"green","font-size":"8pt"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.editPrescription(e)}}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit")]):t._e(),a("br"),2!=t.transactionInfo.status?a("a",{staticStyle:{color:"maroon","font-size":"8pt"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.removePrescription(e.id)}}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Remove")]):t._e()]),a("td",[t._v(t._s(t.formatDate(e.date)))]),a("td",{staticStyle:{width:"70%"}},[a("table",{staticClass:"table table-bordered"},[t._m(2,!0),t._l(e.Prescriptitems,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.medicine))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.dosage))]),a("td",[t._v(t._s(e.days))]),a("td",[t._v(t._s(e.remarks))])])}))],2)])])})),0)])])]),t.showaddEventModal?a("addEventModal",{attrs:{branchid:t.transactionInfo.branchId,toothType:t.transactionInfo.toothType,topT:t.topTeeth,botT:t.BottomTeeth,editEventInfo:t.editEventInfo},on:{closemodal:t.closemodal}}):t._e(),t.showeditActionModal?a("editActionModal",{attrs:{branchid:t.transactionInfo.branchId,toothType:t.transactionInfo.toothType,topT:t.topTeeth,botT:t.BottomTeeth,transactID:t.transactID,editActionInfo:t.editActionInfo},on:{closemodal:t.closemodal}}):t._e(),t.showeditStatusModal?a("editStatusModal",{attrs:{transactionInfo:t.transactionInfo,editstatus:t.editstatus},on:{closemodal:t.closemodal}}):t._e(),t.showaddPrescriptionModal?a("createPrescriptionModal",{attrs:{branchid:t.transactionInfo.branchId,transactID:t.transactID},on:{closemodal:t.closemodal}}):t._e(),t.showeditPrescriptionModal?a("editPrescriptionModal",{attrs:{branchid:t.transactionInfo.branchId,editPrescriptionInfo:t.editPrescriptionInfo,transactID:t.transactID},on:{closemodal:t.closemodal}}):t._e(),t.showAddNewTreatmentModal?a("addNewTreatmentModal",{attrs:{branchId:t.transactionInfo.branchId,transactID:t.transactID},on:{closemodal:t.closemodal}}):t._e(),t.showcreatepaymentModal?a("createPaymentModal",{attrs:{transactionInfo:t.transactionInfo},on:{closemodal:t.closemodal}}):t._e()],1)])},Us=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("span",{staticClass:"card-title"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("PrescriptionNo")]),a("th",[t._v("Date")]),a("th",[t._v("Items")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"silver"}},[a("td",[t._v("Medicine")]),a("td",[t._v("Qty")]),a("td",[t._v("Dosage")]),a("td",[t._v("Days")]),a("td",[t._v("Remarks")])])}],Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h5",[t._v("Choose Affected part(s)")]),a("table",{staticClass:"table table-bordered"},[a("tr",[0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER LEFT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER LEFT JAW TEETH")]):t._e()]),a("tr",t._l(t.topT,(function(e,s){return a("td",{key:s,ref:"tooth_"+e.id,refInFor:!0,staticClass:"teeth",on:{click:function(a){return t.selectAffected(e.id)}}},[a("span",{staticClass:"teethorder"},[t._v(" "+t._s(e.orderNo))]),0==t.toothType?a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/permanent/top_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/primary/top_"+e.orderNo+".PNG"}})])})),0),a("tr",t._l(t.botT,(function(e,s){return a("td",{key:s,ref:"tooth_"+e.id,refInFor:!0,staticClass:"teeth",on:{click:function(a){return t.selectAffected(e.id)}}},[a("span",{staticClass:"teethorder"},[t._v(t._s(e.orderNo))]),0==t.toothType?a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/permanent/low_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/primary/low_"+e.orderNo+".PNG"}})])})),0),a("tr",[0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER LEFT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER LEFT JAW TEETH")]):t._e()])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Service")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.treatmentInfo.service,expression:"treatmentInfo.service"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.treatmentInfo.service},on:{input:function(e){e.target.composing||t.$set(t.treatmentInfo,"service",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Diagnosis")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.diagnosis,expression:"action.diagnosis"}],staticClass:"form-control",domProps:{value:t.action.diagnosis},on:{input:function(e){e.target.composing||t.$set(t.action,"diagnosis",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Action Taken")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.actiontaken,expression:"action.actiontaken"}],staticClass:"form-control",domProps:{value:t.action.actiontaken},on:{input:function(e){e.target.composing||t.$set(t.action,"actiontaken",e.target.value)}}})]),a("div",{staticStyle:{border:"4px solid dimgray",padding:"10px",margin:"40px 0px"}},[a("span",{staticStyle:{color:"dimgray","font-weight":"bold","font-size":"16pt"}},[t._v("Medicine(s) / Item(s) Used")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.action.items,(function(e,s){return a("tr",{key:s},[a("td",[e.id>0?a("span",[t._v(t._s(e.medicine))]):a("input",{directives:[{name:"model",rawName:"v-model",value:e.medicine,expression:"item.medicine"}],staticClass:"form-control",domProps:{value:e.medicine},on:{input:function(a){a.target.composing||t.$set(e,"medicine",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.qty},on:{change:function(e){return t.changeqty(s)},input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("td",[t._v(t._s(e.uom))]),a("td",{staticStyle:{"text-align":"right"}},[a("button",{on:{click:function(e){return t.removeitem(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.date,expression:"action.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.action.date},on:{input:function(e){e.target.composing||t.$set(t.action,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.starttime,expression:"action.starttime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.action.starttime},on:{input:function(e){e.target.composing||t.$set(t.action,"starttime",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.endtime,expression:"action.endtime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.action.endtime},on:{input:function(e){e.target.composing||t.$set(t.action,"endtime",e.target.value)}}})])])]),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},Ls=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Action")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Medicine")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")]),a("th",{staticStyle:{width:"20%"}})])])}],Bs={props:{toothType:{type:Number,required:!0},editEventInfo:{type:Object,required:!0},topT:{type:Array,required:!0},botT:{type:Array,required:!0},branchid:{type:Number,required:!0}},data:function(){return{errormsg:[],treatmentInfo:JSON.parse(JSON.stringify(this.editEventInfo)),affectedparts:[],action:{treatmentid:"",date:"",diagnosis:"",actiontaken:"",starttime:"",endtime:"",affectedparts:[],items:[],transactionId:""},apiUrl:this.$store.state.apiUrl,ph:"Select Medicine From Inventory",myValue:""}},methods:Object(r["a"])({removeitem:function(t){this.action.items.splice(t,1)}},Object(l["b"])("medicine",["getList"]),{selectAffected:function(t){var e=this.$refs["tooth_".concat(t)][0];if("silver"==e.style.background){e.style.background="white";var a=this.affectedparts.indexOf(t);this.affectedparts.splice(a,1)}else e.style.background="silver",this.affectedparts.push(t)},closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.action.treatmentid=this.treatmentInfo.id,this.action.transactionId=this.treatmentInfo.transactionId,this.action.affectedparts=this.affectedparts,this.action.transactionId=this.treatmentInfo.transactionId,this.$store.dispatch("transaction/actionSave",this.action).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("Successful","","success"),t.closethis())})).catch((function(t){return console.log(t)}))},changeqty:function(t){var e=this.action.items[t].qty;e<=0&&(this.action.items[t].qty=1)},add:function(){var t={id:this.medicines[this.myValue].id,qty:1,medicine:this.medicines[this.myValue].medicine,amount:parseFloat(this.medicines[this.myValue].price),uom:this.medicines[this.myValue].uom,stock:this.medicines[this.myValue].stocks};if(0==this.action.items.length)this.action.items.push(t);else{for(var e=0,a=0;a<this.action.items.length;a++)if(this.action.items[a].id==t.id){e=1;break}0==e&&this.action.items.push(t)}this.myValue=""}}),computed:Object(r["a"])({serviceOptions:{get:function(){var t=-1;return this.medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine," Remaining Stocks: ").concat(e.stocks," ").concat(e.uom)}}))}}},Object(l["d"])({medicines:function(t){return t.medicine.medicines}})),mounted:function(){this.action.date=Object(x["formatDate"])(new Date),this.getList({branch:this.branchid,type:0})},components:{Select2:Pa["a"]}},zs=Bs,Hs=(a("d2ad"),Object(m["a"])(zs,Fs,Ls,!1,null,"7f01af12",null)),Ys=Hs.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("h5",[t._v("Choose Affected part(s)")]),a("table",{staticClass:"table table-bordered"},[a("tr",[0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("UPPER LEFT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER RIGHT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("UPPER LEFT JAW TEETH")]):t._e()]),a("tr",t._l(t.topT,(function(e,s){return a("td",{key:s,ref:"tooth_"+e.id,refInFor:!0,staticClass:"teeth",on:{click:function(a){return t.selectAffected(e.id)}}},[a("span",{staticClass:"teethorder"},[t._v(" "+t._s(e.orderNo))]),0==t.toothType?a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/permanent/top_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/primary/top_"+e.orderNo+".PNG"}})])})),0),a("tr",t._l(t.botT,(function(e,s){return a("td",{key:s,ref:"tooth_"+e.id,refInFor:!0,staticClass:"teeth",on:{click:function(a){return t.selectAffected(e.id)}}},[a("span",{staticClass:"teethorder"},[t._v(t._s(e.orderNo))]),0==t.toothType?a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/permanent/low_"+e.orderNo+".PNG"}}):a("img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.apiUrl+"/public/images/primary/low_"+e.orderNo+".PNG"}})])})),0),a("tr",[0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),0==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("LOWER LEFT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER RIGHT JAW TEETH")]):t._e(),1==t.toothType?a("td",{staticStyle:{"text-align":"center","font-weight":"bold"},attrs:{colspan:"5"}},[t._v("LOWER LEFT JAW TEETH")]):t._e()])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Diagnosis")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.diagnosis,expression:"action.diagnosis"}],staticClass:"form-control",domProps:{value:t.action.diagnosis},on:{input:function(e){e.target.composing||t.$set(t.action,"diagnosis",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Action Taken")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.actiontaken,expression:"action.actiontaken"}],staticClass:"form-control",domProps:{value:t.action.actiontaken},on:{input:function(e){e.target.composing||t.$set(t.action,"actiontaken",e.target.value)}}})]),t.showeditMedicineused?a("div",{staticStyle:{border:"4px solid dimgray",padding:"10px",margin:"40px 0px"}},[a("span",{staticStyle:{color:"dimgray","font-weight":"bold","font-size":"16pt"}},[t._v("Medicine(s) / Item(s) Used")]),a("button",{staticClass:"float-right",on:{click:function(e){t.showeditMedicineused=!1}}},[a("span"),t._v(" Close")]),a("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.action.Stockouts,(function(e,s){return a("tr",{key:s},[a("td",[a("span",[t._v(t._s(e.Medicine.medicine))])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.qty},on:{change:function(e){return t.changeqty(s)},input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("td",[t._v(t._s(e.Medicine.uom))]),a("td",{staticStyle:{"text-align":"right"}},[a("button",{on:{click:function(e){return t.removeitem(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])])])]):a("div",{staticStyle:{border:"4px solid dimgray",padding:"10px",margin:"40px 0px"}},[a("span",{staticStyle:{color:"dimgray","font-weight":"bold","font-size":"16pt"}},[t._v("Medicine(s) / Item(s) Used")]),a("button",{staticClass:"float-right",on:{click:function(e){t.showeditMedicineused=!0}}},[a("span"),t._v(" Edit")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(2),a("tbody",t._l(t.action.Stockouts,(function(e,s){return a("tr",{key:s},[a("td",[a("span",[t._v(t._s(e.Medicine.medicine))])]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.Medicine.uom))])])})),0)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.date,expression:"action.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.action.date},on:{input:function(e){e.target.composing||t.$set(t.action,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.starttime,expression:"action.starttime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.action.starttime},on:{input:function(e){e.target.composing||t.$set(t.action,"starttime",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.action.endtime,expression:"action.endtime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.action.endtime},on:{input:function(e){e.target.composing||t.$set(t.action,"endtime",e.target.value)}}})])])]),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},Vs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit Action")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Medicine")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")]),a("th",{staticStyle:{width:"20%"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Medicine")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit of Measurement")])])])}],Gs={components:{Select2:Pa["a"]},props:{toothType:{type:Number,required:!0},editActionInfo:{type:Object,required:!0},topT:{type:Array,required:!0},botT:{type:Array,required:!0},transactID:{type:Number,required:!0},branchid:{type:Number,required:!0}},data:function(){return{action:JSON.parse(JSON.stringify(this.editActionInfo)),affectedparts:[],errormsg:[],apiUrl:this.$store.state.apiUrl,ph:"Select Medicine From Pharmacy Inventory",myValue:"",showeditMedicineused:!1}},methods:Object(r["a"])({},Object(l["b"])("medicine",["getList"]),{changeqty:function(t){var e=this,a=this.action.Stockouts[t].qty;a<=0&&(this.action.Stockouts[t].qty=1),this.action.Stockouts[t].transactID=this.transactID,this.$store.dispatch("transaction/updateMedicineused",this.action.Stockouts[t]).then((function(a){e.action.Stockouts[t].Medicine.stocks=a.data.stocks,e.getList({branch:e.branchid,type:0})})).catch((function(t){return console.log(t)}))},removeitem:function(t){var e=this;this.$swal({title:"Remove this?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.value&&e.$store.dispatch("transaction/removeMedicineused",{info:e.action.Stockouts[[t]],transactID:e.transactID}).then((function(){e.action.Stockouts.splice(t,1),e.getList({branch:e.branchid,type:0})})).catch((function(t){return console.log(t)}))}))},add:function(){var t=this,e=this.action.Stockouts.filter((function(e){if(t.medicines[t.myValue].id==e.medicineId)return e}));if(0==e.length){var a={medicineId:this.medicines[this.myValue].id,transactID:this.transactID,actionId:this.action.id};this.$store.dispatch("transaction/addMedicineused",a).then((function(e){console.log(e),t.action.Stockouts.push(e.data),t.getList({branch:t.branchid,type:0})})).catch((function(t){return console.log(t)}))}},closethis:function(){this.$emit("closemodal")},selectAffected:function(t){var e=this.$refs["tooth_".concat(t)][0];if("silver"==e.style.background){e.style.background="white";var a=this.affectedparts.indexOf(t);this.affectedparts.splice(a,1)}else e.style.background="silver",this.affectedparts.push(t)},save:function(){var t=this;this.action.affectedparts=this.affectedparts,this.action.transactID=this.transactID,this.$store.dispatch("transaction/actionUpdate",this.action).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))}}),computed:Object(r["a"])({serviceOptions:{get:function(){var t=-1;return this.medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine," Remaining Stocks: ").concat(e.stocks," ").concat(e.uom)}}))}}},Object(l["d"])({medicines:function(t){return t.medicine.medicines}})),mounted:function(){var t=this;this.action.teeths.forEach((function(e){t.selectAffected(e.id)})),this.action.starttime=Object(x["formatHour"])(this.action.starttime),this.action.endtime=Object(x["formatHour"])(this.action.endtime),this.getList({branch:this.branchid,type:0})}},Js=Gs,Ws=(a("072a"),Object(m["a"])(Js,qs,Vs,!1,null,"2cd53f93",null)),Zs=Ws.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Status")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.status,expression:"transaction.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transaction,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("On-Going / Pending")]),a("option",{attrs:{value:"1"}},[t._v("For Followup")]),a("option",{attrs:{value:"2"}},[t._v("Done")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Remarks")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.remarks,expression:"transaction.remarks"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.transaction.remarks},on:{input:function(e){e.target.composing||t.$set(t.transaction,"remarks",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.transaction.status,expression:"transaction.status == '1'"}],staticClass:"form-group"},[a("label",[t._v("Next Appointment(s)")]),a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){t.showReservationModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Create Reservation for followup")])]),a("table",{directives:[{name:"show",rawName:"v-show",value:"1"==t.transaction.status,expression:"transaction.status == '1'"}],staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.reservationFollowups,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.reservationNo))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t.dHour(e.Start)))]),a("td",[t._v(t._s(t.dHour(e.End)))]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteReservation(e.id)}}},[a("span",{staticClass:"fa fa-trash"}),t._v(" Delete")])])])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])]),t.showReservationModal?a("reservationModal",{attrs:{transaction:t.transactionInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)},Ks=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit Status")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Rervation No")]),a("th",[t._v("Date")]),a("th",[t._v("Start Time")]),a("th",[t._v("End Time")]),a("th")])])}],Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.date,expression:"filterData.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filterData.date},on:{input:function(e){e.target.composing||t.$set(t.filterData,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.start,expression:"filterData.start"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.start},on:{input:function(e){e.target.composing||t.$set(t.filterData,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.end,expression:"filterData.end"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.end},on:{input:function(e){e.target.composing||t.$set(t.filterData,"end",e.target.value)}}})])])]),a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}}),0==t.dateactive?a("h4",{staticStyle:{color:"dimgray"}},[t._v("NO OPERATION / CLOSED")]):a("h4",{staticStyle:{color:"dimgray"}},[t._v("Opening: "+t._s(t.opening)+" Closing: "+t._s(t.closing))])],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:0==t.dateactive},on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},tn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-calendar"}),t._v(" Followup Reservation")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("StartTime")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("EndTime")])])}],en=(a("fb6a"),a("f5ff")),an=a("3cdd"),sn=a("3e32"),nn=a("a20c"),rn=a("e44e"),on={props:{transaction:{type:Object,required:!0}},watch:{"filterData.date":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.filterData),a=this.$refs.fullCalendar.getApi(),s=new Date(e),a.gotoDate(s),n=s.getDay(),this.calendarOptions.slotMinTime="".concat(this.branch.Schedules[n].start,":00"),this.calendarOptions.slotMaxTime="".concat(this.branch.Schedules[n].end,":00"),this.filterData.minTime="".concat(this.branch.Schedules[n].start),this.filterData.maxTime="".concat(this.branch.Schedules[n].end),this.filterData.branch=this.branch.id,this.dateactive=this.branch.Schedules[n].active,t.next=13,this.getApprovedListDay(this.filterData);case 13:this.calendarOptions.events=this.getActiveEvents;case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},data:function(){return{dateactive:0,activeIndexBranch:0,errormsg:[],filterData:{date:Object(x["formatDate"])(new Date),dentist:this.transaction.dentistId,start:"",end:"",curdate:Object(x["formatDate"])(new Date),minTime:"",maxTime:""},calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"today prev,next"},footerToolbar:{left:""},contentHeight:"auto",height:"auto",allDaySlot:!1,slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"timeGridDay",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventContent:this.eventRender,eventRemove:this.removeEvent,customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}}}},methods:Object(r["a"])({formatDHour:function(t){return Object(x["format12Hour"])(t)},eventRender:function(t){var e="",a="#1CC88A",s="white";return 4==t.event.extendedProps.status&&(a="#385ECE"),e='<div style="background: '.concat(a,";color:").concat(s,';height:100%;width:100%;position: relative;padding:5px;">\n            <span style="font-weight:bold">').concat(t.event.title,"</span><br/><span>Start: ").concat(this.formatDHour(t.event.start)," End: ").concat(this.formatDHour(t.event.end),"</span>\n           </div>"),{html:e}},handleDateSelect:function(t){var e=this.$refs.fullCalendar.getApi();e.gotoDate(t.start),e.changeView("timeGridDay"),this.filterData.date=Object(x["formatDate"])(t.start)},handleEventClick:function(t){console.log(t)},handleEvents:function(t){console.log(t);var e=this.$refs.fullCalendar.getApi();this.filterData.date=Object(x["formatDate"])(e.getDate())},removeEvent:function(){}},Object(l["b"])(["getSchedules"]),{},Object(l["b"])("reservation",["getApprovedListDay","createFollowupReservation"]),{closethis:function(){this.$emit("closemodal")},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("branch/getInfo",{idno:this.transaction.branchId,type:0}).then(Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.fullCalendar.getApi(),s=new Date(e.filterData.date),a.gotoDate(s),n=s.getDay(),e.calendarOptions.slotMinTime="".concat(e.branch.Schedules[n].start,":00"),e.calendarOptions.slotMaxTime="".concat(e.branch.Schedules[n].end,":00"),e.filterData.minTime="".concat(e.branch.Schedules[n].start),e.filterData.maxTime="".concat(e.branch.Schedules[n].end),e.filterData.branch=e.branch.id,e.dateactive=e.branch.Schedules[n].active,t.next=12,e.getApprovedListDay(e.filterData);case 12:e.calendarOptions.events=e.getActiveEvents;case 13:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=this;this.filterData.transaction=this.transaction,this.createFollowupReservation(this.filterData).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.transaction.userId)}),t.$emit("init"),t.init(),t.$refs.errormessage.classList.remove("show"),t.errormsg=[])})).catch((function(t){return console.log(t)}))}}),computed:Object(r["a"])({},Object(l["d"])({schedules:function(t){return t.schedules},branch:function(t){return t.branch.branch}}),{},Object(l["c"])("reservation",["getActiveEvents"]),{opening:{get:function(){var t=this.calendarOptions.slotMinTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}},closing:{get:function(){var t=this.calendarOptions.slotMaxTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}}}),mounted:function(){this.init()},components:{FullCalendar:en["a"]}},cn=on,ln=Object(m["a"])(cn,Xs,tn,!1,null,"7c591b61",null),dn=ln.exports,un={props:{editstatus:{type:Object,required:!0},transactionInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],transaction:JSON.parse(JSON.stringify(this.editstatus)),showReservationModal:!1}},methods:{dHour:function(t){return this.$helper.formatraw12Hour(t)},closemodal:function(){this.showReservationModal=!1},closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.transaction.status=parseInt(this.transaction.status),this.$store.dispatch("transaction/editStatus",this.transaction).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$swal("Transaction has been updated","","success"),t.$mysocket.emit("updatedentistTransaction"))})).catch((function(t){return console.log(t)}))},init:function(){this.$store.dispatch("reservation/getReservationFollowup",this.transactionInfo.id)},deleteReservation:function(t){var e=this;confirm("Are you sure you want to delete this reservation?")&&this.$store.dispatch("reservation/deleteReservation",t).then((function(){return e.init()})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])("reservation",["reservationFollowups"])),mounted:function(){this.init()},components:{reservationModal:dn}},mn=un,pn=Object(m["a"])(mn,Qs,Ks,!1,null,null,null),hn=pn.exports,fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])]),t._m(1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10",staticStyle:{display:"none"}},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col-md-2",staticStyle:{display:"none"}},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("button",{staticStyle:{width:"100%"},on:{click:function(e){return t.addnew()}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("table",{staticClass:"table table-condensed"},[t._m(2),a("tbody",t._l(t.items,(function(e,s){return a("tr",{key:s},[a("td",[e.id>0?a("span",[t._v(t._s(e.medicine))]):a("input",{directives:[{name:"model",rawName:"v-model",value:e.medicine,expression:"item.medicine"}],staticClass:"form-control",domProps:{value:e.medicine},on:{input:function(a){a.target.composing||t.$set(e,"medicine",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dosage,expression:"item.dosage"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.dosage},on:{input:function(a){a.target.composing||t.$set(e,"dosage",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.days,expression:"item.days"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.days},on:{input:function(a){a.target.composing||t.$set(e,"days",a.target.value)}}})]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remarks,expression:"item.remarks"}],staticClass:"form-control",domProps:{value:e.remarks},on:{input:function(a){a.target.composing||t.$set(e,"remarks",a.target.value)}}})]),a("td",{staticStyle:{"text-align":"right"}},[a("button",{on:{click:function(e){return t.removeitem(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},vn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" Create Prescription")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-8",staticStyle:{position:"relative"}},[s("img",{staticStyle:{position:"absolute",right:"15px",width:"60px",height:"60px"},attrs:{src:a("13c3")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Medicine")]),a("th",[t._v("Qty")]),a("th",[t._v("Dosage")]),a("th",[t._v("Days")]),a("th",[t._v("Remarks")]),a("th",{staticStyle:{width:"5%"}})])])}],gn={props:{transactID:{type:Number,required:!0},branchid:{type:Number,required:!0}},data:function(){return{errormsg:[],ph:"Select Medicine From Pharmacy Inventory",items:[],myValue:"",date:""}},methods:Object(r["a"])({removeitem:function(t){this.items.splice(t,1)}},Object(l["b"])("medicine",["getList"]),{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("transaction/createPrescription",{tid:this.transactID,items:this.items,date:this.date}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))},addnew:function(){var t={id:0,qty:0,medicine:"",amount:0,dosage:"",days:"",remarks:""};this.items.push(t)},add:function(){var t={id:this.medicines[this.myValue].id,qty:0,medicine:this.medicines[this.myValue].medicine,amount:parseFloat(this.medicines[this.myValue].price),dosage:"",days:"",remarks:""};if(0==this.items.length)this.items.push(t);else{for(var e=0,a=0;a<this.items.length;a++)if(this.items[a].id==t.id){e=1;break}0==e&&this.items.push(t)}this.myValue=""}}),computed:Object(r["a"])({serviceOptions:{get:function(){var t=-1;return this.medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine)}}))}}},Object(l["d"])({medicines:function(t){return t.medicine.medicines}})),mounted:function(){this.getList({branch:this.branchid,type:1}),this.date=Object(x["formatDate"])(new Date)},components:{Select2:Pa["a"]}},bn=gn,_n=Object(m["a"])(bn,fn,vn,!1,null,null,null),Cn=_n.exports,yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit Prescription No "+t._s(t.prescription.prescriptionNo))]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.prescription.date,expression:"prescription.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.prescription.date},on:{input:function(e){e.target.composing||t.$set(t.prescription,"date",e.target.value)}}})])]),t._m(0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10",staticStyle:{display:"none"}},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2",staticStyle:{display:"none"}},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("button",{staticStyle:{width:"100%"},on:{click:function(e){return t.addnew()}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]),a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.prescription.Prescriptitems,(function(e,s){return a("tr",{key:s},[a("td",[e.medicineId>0?a("span",[t._v(t._s(e.medicine))]):a("input",{directives:[{name:"model",rawName:"v-model",value:e.medicine,expression:"item.medicine"}],staticClass:"form-control",domProps:{value:e.medicine},on:{input:function(a){a.target.composing||t.$set(e,"medicine",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dosage,expression:"item.dosage"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.dosage},on:{input:function(a){a.target.composing||t.$set(e,"dosage",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.days,expression:"item.days"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.days},on:{input:function(a){a.target.composing||t.$set(e,"days",a.target.value)}}})]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remarks,expression:"item.remarks"}],staticClass:"form-control",domProps:{value:e.remarks},on:{input:function(a){a.target.composing||t.$set(e,"remarks",a.target.value)}}})]),a("td",[a("button",{on:{click:function(e){return t.removeitem(s)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},wn=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-8",staticStyle:{position:"relative"}},[s("img",{staticStyle:{position:"absolute",right:"15px",width:"60px",height:"60px"},attrs:{src:a("13c3")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"30%"}},[t._v("Medicine")]),a("th",[t._v("Qty")]),a("th",[t._v("Dosage")]),a("th",[t._v("Days")]),a("th",[t._v("Remarks")]),a("th",{staticStyle:{width:"5%"}})])])}],xn={props:{transactID:{type:Number,required:!0},editPrescriptionInfo:{type:Object,required:!0},branchid:{type:Number,required:!0}},data:function(){return{errormsg:[],ph:"Select Medicine",items:[],myValue:"",date:"",prescription:JSON.parse(JSON.stringify(this.editPrescriptionInfo))}},methods:Object(r["a"])({removeitem:function(t){this.prescription.Prescriptitems.splice(t,1)}},Object(l["b"])("medicine",["getList"]),{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("transaction/updatePrescription",{tid:this.transactID,prescription:this.prescription}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))},addnew:function(){var t={id:0,qty:0,medicine:"",amount:0,dosage:"",days:"",remarks:"",medicineId:0};this.prescription.Prescriptitems.push(t)},add:function(){var t={id:this.medicines[this.myValue].id,qty:0,medicine:this.medicines[this.myValue].medicine,amount:parseFloat(this.medicines[this.myValue].price),medicineId:this.medicines[this.myValue].id};if(0==this.prescription.Prescriptitems.length)this.prescription.Prescriptitems.push(t);else{for(var e=0,a=0;a<this.prescription.Prescriptitems.length;a++)if(parseInt(this.prescription.Prescriptitems[a].medicineId)===parseInt(t.id)){e=1;break}0==e&&this.prescription.Prescriptitems.push(t)}this.myValue=""}}),computed:Object(r["a"])({serviceOptions:{get:function(){var t=-1;return this.medicines.map((function(e){return t++,{id:t,text:"".concat(e.medicine)}}))}}},Object(l["d"])({medicines:function(t){return t.medicine.medicines}})),mounted:function(){this.getList({branch:this.branchid,type:1}),this.date=Object(x["formatDate"])(new Date)},components:{Select2:Pa["a"]}},kn=xn,Sn=Object(m["a"])(kn,yn,wn,!1,null,null,null),$n=Sn.exports,En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},Dn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New Treatment")])}],In={props:{transactID:{type:Number,required:!0},branchId:{type:Number,required:!0}},data:function(){return{errormsg:[],myValue:"",ph:"Service List",treatmentInfo:{}}},methods:Object(r["a"])({},Object(l["b"])("service",{getService:"getList"}),{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.treatmentInfo=this.services[this.myValue],this.$store.dispatch("transaction/additionalTreatment",{tid:this.transactID,data:this.treatmentInfo}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))},myChangeEvent:function(t){console.log(t)},mySelectEvent:function(t){var e=t.id,a=t.text;console.log({id:e,text:a})}}),computed:Object(r["a"])({},Object(l["d"])({services:function(t){return t.service.services}}),{serviceOptions:{get:function(){var t=-1;return this.services.map((function(e){return t++,{id:t,text:"".concat(e.service," - Price: P ").concat(e.regularPrice)}}))}}}),mounted:function(){this.getService(this.branchId)},components:{Select2:Pa["a"]}},Tn=In,Nn=Object(m["a"])(Tn,En,Dn,!1,null,"26937b8f",null),An=Nn.exports,On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-file-alt"}),t._v(" Transaction No "+t._s(t.transactionInfo.transactionNo))]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-condensed"},[a("thead",[a("tr",[a("th",[t._v("Treatment")]),a("th",{staticStyle:{width:"20%"}},[t._v("Estimated Price")]),a("th",{staticStyle:{width:"20%",position:"relative"}},[t._v("Actual Price "),2!=t.transactionInfo.status&&0==t.transactionInfo.Billings.length?a("button",{ref:"editbtn",staticStyle:{position:"absolute",right:"0"},on:{click:function(e){return t.editactualprice()}}},[a("span",{class:t.editpen})]):t._e(),2!=t.transactionInfo.status?a("button",{ref:"confirmbtn",staticClass:"hidden",staticStyle:{position:"absolute",right:"0"},on:{click:function(e){return t.confirmactualprice()}}},[a("span",{class:t.check})]):t._e()])])]),a("tbody",[t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.amount))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.actualAmount,expression:"treatment.actualAmount"}],staticClass:"form-control actualamount",attrs:{readonly:"",type:"number"},domProps:{value:e.actualAmount},on:{change:function(e){return t.changeactualamount(s)},input:function(a){a.target.composing||t.$set(e,"actualAmount",a.target.value)}}})])])})),a("tr",{staticStyle:{padding:"0px","font-size":"18pt","font-weight":"bold"}},[a("td",{staticStyle:{"text-align":"right",padding:"0px"},attrs:{colspan:"2"}},[t._v("Total Amount:")]),a("td",{staticStyle:{"text-align":"right",padding:"0px"}},[t._v(t._s(t.totalrawAmount))])]),a("tr",{staticStyle:{padding:"0px","font-size":"18pt","font-weight":"bold"}},[a("td",{staticStyle:{"text-align":"right",padding:"0px"},attrs:{colspan:"2"}},[t._v("Discount Amount:")]),a("td",{staticStyle:{"text-align":"right",padding:"0px"}},[t._v(t._s(t.transactionInfo.discount))])]),a("tr",{staticStyle:{padding:"0px","font-size":"18pt","font-weight":"bold"}},[a("td",{staticStyle:{"text-align":"right",padding:"0px"},attrs:{colspan:"2"}},[t._v("Grand Total Amount:")]),a("td",{staticStyle:{"text-align":"right",padding:"0px"}},[t._v(t._s(t.totalAmountFinal))])])],2)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"input-group mb-6"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.discount,expression:"transactionInfo.discount"}],staticClass:"form-control",attrs:{readonly:t.transactionInfo.Billings.length>0,type:"number"},domProps:{value:t.transactionInfo.discount},on:{change:function(e){return t.addDiscount()},input:function(e){e.target.composing||t.$set(t.transactionInfo,"discount",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-default"}),a("div",{staticClass:"card-body"},[a("span",{staticStyle:{"font-size":"18pt","font-weight":"bold",color:"dimgray"}},[t._v("Amount Paid : "+t._s(t.totalAmountPaid))])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-default"}),a("div",{staticClass:"card-body"},[a("span",{staticStyle:{"font-size":"18pt","font-weight":"bold",color:"dimgray"}},[t._v("Balance : "+t._s(t.totalAmountBalance))])])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#343A40",color:"white"}},[a("span",{staticClass:"card-title"},[a("button",{staticClass:"float-left btn btn-default text-white",on:{click:function(e){t.showbillpaymentModal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Create Payment")])])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.transactionInfo.Billings,(function(e,s){return a("tr",{key:s},[a("td",[a("a",{attrs:{href:"../bill/"+e.id,target:"_blank"}},[t._v(t._s(e.billrefNo))])]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("HealthCard")])]),a("td",[t._v(t._s(e.payment))]),a("td",[t._v(t._s(e.date)+" "+t._s(t.dHour(e.createdAt)))])])})),0)])])]),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0)])])]),t.showbillpaymentModal?a("billPaymentModal",{attrs:{totalAmountBalance:t.totalAmountBalance,transactionInfo:this.transactionInfo},on:{closemodal:t.closemodal,init:t.totalAmount}}):t._e()],1)},Pn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Discount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Referrence No")]),a("th",[t._v("Type")]),a("th",[t._v("Payment")]),a("th",[t._v("Date")])])])}],Mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-file-alt"}),t._v(" Transaction No "+t._s(t.transactionInfo.transactionNo))]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:t.payment.method,expression:"payment.method"}],staticClass:"form-control billingitem",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.payment,"method",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Cash")]),a("option",{attrs:{value:"1"}},[t._v("HealthCard")])])])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalAmountBalance,expression:"totalAmountBalance"}],staticClass:"form-control billingitem",staticStyle:{background:"mistyrose"},attrs:{type:"text",readonly:""},domProps:{value:t.totalAmountBalance},on:{input:function(e){e.target.composing||(t.totalAmountBalance=e.target.value)}}})])])]),0==t.payment.method?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.cashpayment,expression:"payment.cashpayment"}],staticClass:"form-control billingitem",attrs:{type:"number"},domProps:{value:t.payment.cashpayment},on:{input:function(e){e.target.composing||t.$set(t.payment,"cashpayment",e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.change,expression:"payment.change"}],staticClass:"form-control billingitem",staticStyle:{background:"mistyrose"},attrs:{type:"number",readonly:""},domProps:{value:t.payment.change},on:{input:function(e){e.target.composing||t.$set(t.payment,"change",e.target.value)}}})])])])]):a("div",[a("span",{staticStyle:{"font-size":"14pt"}},[t._v("Please choose Treatment covered by Healthcard . . .")]),a("table",{staticClass:"table table-condensed"},[t._m(4),a("tbody",[t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[a("input",{ref:"checkitems",refInFor:!0,staticStyle:{height:"20px",width:"20px"},attrs:{type:"checkbox"},on:{click:function(e){return t.checktreatment(s)}}})]),a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.amount))]),a("td",[t._v(t._s(e.actualAmount))])])})),a("tr",{staticStyle:{background:"black",padding:"10px",color:"lime","font-size":"16pt","font-weight":"bold"}},[a("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v("Total Amount:")]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.totalAmountFinal))])])],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.healthcardname,expression:"payment.healthcardname"}],staticClass:"form-control billingitem",attrs:{type:"text"},domProps:{value:t.payment.healthcardname},on:{input:function(e){e.target.composing||t.$set(t.payment,"healthcardname",e.target.value)}}})])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.healthcardNo,expression:"payment.healthcardNo"}],staticClass:"form-control billingitem",attrs:{type:"text"},domProps:{value:t.payment.healthcardNo},on:{input:function(e){e.target.composing||t.$set(t.payment,"healthcardNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.AccountName,expression:"payment.AccountName"}],staticClass:"form-control billingitem",attrs:{type:"text"},domProps:{value:t.payment.AccountName},on:{input:function(e){e.target.composing||t.$set(t.payment,"AccountName",e.target.value)}}})])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.AccountNo,expression:"payment.AccountNo"}],staticClass:"form-control billingitem",attrs:{type:"text"},domProps:{value:t.payment.AccountNo},on:{input:function(e){e.target.composing||t.$set(t.payment,"AccountNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalAmountFinal,expression:"totalAmountFinal"}],staticClass:"form-control billingitem",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.totalAmountFinal},on:{input:function(e){e.target.composing||(t.totalAmountFinal=e.target.value)}}})])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.hcpaymentTotal,expression:"payment.hcpaymentTotal"}],staticClass:"form-control billingitem",attrs:{type:"text"},domProps:{value:t.payment.hcpaymentTotal},on:{input:function(e){e.target.composing||t.$set(t.payment,"hcpaymentTotal",e.target.value)}}})])])])]),a("hr"),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},jn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Payment Method")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Amount (Balance)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Cash Amount Received")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Change")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th"),a("th",[t._v("Treatment")]),a("th",{staticStyle:{width:"20%"}},[t._v("Estimated Price")]),a("th",{staticStyle:{width:"20%"}},[t._v("Actual Price")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Healthcard Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Healthcard No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Account Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Account No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Treatment Price")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Payment Amount")])])}],Rn={props:{totalAmountBalance:{type:Number,required:!0},transactionInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],totalAmountFinal:0,payment:{method:"0",hcitems:[],healthcardname:"",healthcardNo:"",AccountNo:"",AccountName:"",hcpaymentTotal:0,cashpayment:"",change:0}}},watch:{totalAmountFinal:function(t){this.payment.hcpaymentTotal=t},"payment.method":function(){this.payment.hcitems=[]},"payment.cashpayment":function(t){parseFloat(t)>parseFloat(this.totalAmountBalance)?this.payment.change=parseFloat(t)-parseFloat(this.totalAmountBalance):this.payment.change=0}},methods:{totalAmount:function(){var t=0;this.transactionInfo.Treatments.forEach((function(e){1==e.checked&&(t+=parseFloat(e.actualAmount))})),this.totalAmountFinal=t},changeactualamount:function(){this.totalAmount()},checktreatment:function(t){if(this.transactionInfo.Treatments[t].checked=this.$refs.checkitems[t].checked?1:0,this.$refs.checkitems[t].checked)if(0==this.payment.hcitems.length)this.payment.hcitems.push(this.transactionInfo.Treatments[t].id);else{var e=this.payment.hcitems.indexOf(this.transactionInfo.Treatments[t].id);-1==e&&this.payment.hcitems.push(this.transactionInfo.Treatments[t].id)}else{var a=this.payment.hcitems.indexOf(this.transactionInfo.Treatments[t].id);this.payment.hcitems.splice(a,1)}this.totalAmount()},closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.payment.totalAmountFinal=this.totalAmountFinal,this.payment.transactID=this.transactionInfo.id,this.payment.branchId=this.transactionInfo.branchId,this.payment.userId=this.transactionInfo.userId,this.payment.customerName=this.transactionInfo.User.fullname,this.payment.totalAmountBalance=this.totalAmountBalance,console.log(this.payment),this.$store.dispatch("transaction/createBillTreatment",this.payment).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$emit("init"),t.closethis())})).catch((function(t){return console.log(t)}))}},computed:{},mounted:function(){this.transactionInfo.Treatments.forEach((function(t){t.checked=0}))}},Un=Rn,Fn=(a("f392"),Object(m["a"])(Un,Mn,jn,!1,null,null,null)),Ln=Fn.exports,Bn={components:{billPaymentModal:Ln},props:{transactionInfo:{type:Object,required:!0}},watch:{"transactionInfo.Billings":function(){this.totalAmount()}},data:function(){return{errormsg:[],totalrawAmount:0,totalAmountFinal:0,totalAmountPaid:0,totalAmountBalance:0,payment:{method:""},editpen:"fa fa-pen",check:"fa fa-check",showbillpaymentModal:!1}},methods:{dHour:function(t){return Object(x["format12Hour"])(t)},addDiscount:function(){var t=this;this.$store.dispatch("transaction/addDiscount",{discount:this.transactionInfo.discount,id:this.transactionInfo.id}).then((function(){return t.totalAmount()})).catch((function(t){return console.log(t)}))},confirmactualprice:function(){this.$refs.confirmbtn.classList.add("hidden"),this.$refs.editbtn.classList.remove("hidden");var t=document.getElementsByClassName("actualamount");t.forEach((function(t){t.setAttribute("readonly",!0)}))},editactualprice:function(){this.$refs.editbtn.classList.add("hidden"),this.$refs.confirmbtn.classList.remove("hidden");var t=document.getElementsByClassName("actualamount");t.forEach((function(t){t.removeAttribute("readonly")}))},totalAmount:function(){var t=0;if(this.transactionInfo.Treatments.forEach((function(e){t+=parseFloat(e.actualAmount)})),this.totalrawAmount=t,this.totalAmountFinal=t-this.transactionInfo.discount,0==this.transactionInfo.Billings.length)this.totalAmountPaid=0;else{var e=0;this.transactionInfo.Billings.forEach((function(t){e+=parseFloat(t.payment)})),this.totalAmountPaid=e,console.log(this.totalAmountPaid)}this.totalAmountBalance=parseFloat(this.totalAmountFinal)-parseFloat(this.totalAmountPaid)},changeactualamount:function(t){var e=this,a=this.transactionInfo.Treatments[t].actualAmount,s=this.transactionInfo.Treatments[t].id;this.$store.dispatch("transaction/updateActualTreatmentAmount",{amount:parseFloat(a),id:s,transactID:this.transactionInfo.id}).then((function(){return e.totalAmount()})).catch((function(t){return console.log(t)}))},closemodal:function(){this.showbillpaymentModal=!1},closethis:function(){this.$emit("closemodal")}},computed:{},mounted:function(){this.totalAmount()}},zn=Bn,Hn=Object(m["a"])(zn,On,Pn,!1,null,null,null),Yn=Hn.exports,qn={data:function(){return{showcreatepaymentModal:!1,showaddEventModal:!1,editEventInfo:{},showeditActionModal:!1,editActionInfo:{},transactID:parseInt(this.$route.params.idno),showeditStatusModal:!1,showaddPrescriptionModal:!1,editstatus:{},editPrescriptionInfo:{},showeditPrescriptionModal:!1,showAddNewTreatmentModal:!1,apiUrl:this.$store.state.apiUrl}},watch:{"transactionInfo.toothType":function(t){this.$store.dispatch("transaction/updateType",{tid:this.$route.params.idno,val:t})}},methods:Object(r["a"])({goback:function(){this.$router.go(-1)},viewTransactionForm:function(){this.$router.push({name:"transactionform",params:{idno:this.$route.params.idno}})},viewMedicalCertificate:function(){this.$router.push({name:"medicalCertificate",params:{idno:this.$route.params.idno}})},addnewTreatment:function(){this.showAddNewTreatmentModal=!0},editPrescription:function(t){this.editPrescriptionInfo=t,this.showeditPrescriptionModal=!0},removePrescription:function(t){var e=this;this.$swal({title:"Are you sure you want to remove this?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.value&&e.$store.dispatch("transaction/removePrescription",{tid:e.$route.params.idno,id:t})}))},removeTreatment:function(t){var e=this;this.$swal({title:"Are you sure you want to remove this?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.value&&e.$store.dispatch("transaction/removeTreatment",{tid:e.$route.params.idno,id:t})}))},formatDate:function(t){return Object(x["formatBdayDate"])(t)}},Object(l["b"])("transaction",["getTransaction","removeAction_"]),{editStatus:function(){this.editstatus.transactid=this.transactionInfo.id,this.editstatus.status=this.transactionInfo.status,this.editstatus.remarks=this.transactionInfo.remarks,this.showeditStatusModal=!0},editAction:function(t){this.editActionInfo=t,this.showeditActionModal=!0},removeAction:function(t){var e=this;this.$swal({title:"Are you sure you want to remove this?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.value&&e.removeAction_({id:t,transactID:e.$route.params.idno})}))},getStatus:function(t){var e="";switch(t){case 0:e="On-Going / Pending";break;case 1:e="For Followup";break;case 2:e="Done";break;default:break}return e},addaction:function(t){this.editEventInfo=this.transactionInfo.Treatments[t],this.showaddEventModal=!0},closemodal:function(){this.showaddEventModal=!1,this.showeditActionModal=!1,this.showeditStatusModal=!1,this.showaddPrescriptionModal=!1,this.showeditPrescriptionModal=!1,this.showAddNewTreatmentModal=!1,this.showcreatepaymentModal=!1},hour:function(t){return Object(x["formatHour"])(t)}}),computed:Object(r["a"])({},Object(l["d"])({transactionInfo:function(t){return t.transaction.transactionInfo}}),{},Object(l["c"])("transaction",["topTeeth","BottomTeeth"]),{dDate:{get:function(){return Object(x["formatBdayDate"])(this.transactionInfo.transactionDate)}},Status:{get:function(){return this.getStatus(this.transactionInfo.status)}},Age:{get:function(){return Object(x["calculateAge"])(this.transactionInfo.User.bday)}},getTotalAmount:{get:function(){var t=0;return this.transactionInfo.Treatments.forEach((function(e){t+=parseFloat(e.amount)})),t}}}),mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("activenav","patientnav"),e.next=3,t.getTransaction(t.$route.params.idno);case 3:case"end":return e.stop()}}),e)})))()},components:{addEventModal:Ys,editActionModal:Zs,editStatusModal:hn,createPrescriptionModal:Cn,editPrescriptionModal:$n,addNewTreatmentModal:An,createPaymentModal:Yn}},Vn=qn,Gn=(a("a415"),Object(m["a"])(Vn,Rs,Us,!1,null,"c3bb8a42",null)),Jn=Gn.exports,Wn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"printdiv",staticStyle:{padding:"10px 5%"}},[s("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[s("button",{staticClass:"noprint float-left",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[s("span",{staticClass:"fa fa-print"}),t._v("Print")]),s("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[s("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),s("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),s("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),s("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.prescriptInfo.Transaction.Branch.branch))])]),s("br"),s("small",[t._v(t._s(t.prescriptInfo.Transaction.Branch.address)+" ( Contact No: "+t._s(t.prescriptInfo.Transaction.Branch.contact)+" Email Address: "+t._s(t.prescriptInfo.Transaction.Branch.email)+" )")]),s("img",{staticStyle:{height:"70px",width:"70px",position:"absolute",right:"0",top:"0"},attrs:{src:a("13c3")}})]),s("table",{staticClass:"noborder",attrs:{width:"100%"}},[s("tr",{staticStyle:{background:"#FFFFFF"}},[s("td",{staticClass:"itemtitle"},[t._v("Prescription No")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.prescriptInfo.prescriptionNo))]),s("td",{staticClass:"itemtitle"},[t._v("Transaction No")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.prescriptInfo.Transaction.transactionNo))])]),s("tr",[s("td",{staticClass:"itemtitle"},[t._v("Patient Name")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.prescriptInfo.Transaction.User.fullname))]),s("td",{staticClass:"itemtitle"},[t._v("Date")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.ddate))])]),s("tr",{staticStyle:{background:"#FFFFFF"}},[s("td",{staticClass:"itemtitle"},[t._v("Patient Age")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.Age))]),s("td",{staticClass:"itemtitle"},[t._v("Dentist")]),s("td",{staticClass:"itemvalue"},[t._v(t._s(t.prescriptInfo.Transaction.dentist))])])]),s("table",{staticClass:"border",staticStyle:{margin:"50px 0px"},attrs:{width:"100%"}},[t._m(0),t._l(t.prescriptInfo.Prescriptitems,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.medicine))]),s("td",[t._v(t._s(e.qty))]),s("td",[t._v(t._s(e.dosage))]),s("td",[t._v(t._s(e.days))]),s("td",[t._v(t._s(e.remarks))])])})),t._m(1),t._m(2),t._m(3)],2),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("table",{staticClass:"border",staticStyle:{margin:"0px",width:"100%"}},[t._m(4),t._l(t.prescriptInfo.Transaction.Branch.Schedules,(function(e,a){return s("tr",{key:a},[s("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.day))]),s("td",[1==e.active?s("span",[t._v(t._s(t.dDate(e.start))+" to "+t._s(t.dDate(e.end)))]):s("span",[t._v("No Operation")])])])}))],2)]),s("div",{staticClass:"col-md-9",staticStyle:{"text-align":"left",position:"relative"}},[s("div",{staticStyle:{position:"absolute",right:"20px",bottom:"20px","font-size":"14pt","font-weight":"bold"}},[s("hr"),s("span",[t._v("Dentist: "),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.space(70,t.prescriptInfo.Transaction.dentist)))])]),s("hr"),s("span",[t._v("Licence No: "),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.space(66,t.prescriptInfo.Transaction.Dentist.licence)))])]),s("hr"),s("span",[t._v("PTR No: "),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.space(71,t.prescriptInfo.Transaction.Dentist.ptr)))])]),s("hr")])])])])},Zn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",[t._v("Medicine")]),a("td",[t._v("Qty")]),a("td",[t._v("Dosage")]),a("td",[t._v("Days")]),a("td",[t._v("Other Remarks")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{attrs:{colspan:"2"}},[t._v("Clinic Schedules")])])}],Qn={computed:Object(r["a"])({},Object(l["d"])({prescriptInfo:function(t){return t.transaction.prescriptInfo}}),{ddate:{get:function(){return Object(x["formatBdayDate"])(this.prescriptInfo.date)}},Age:{get:function(){return Object(x["calculateAge"])(this.prescriptInfo.Transaction.User.bday)}}}),methods:{space:function(t,e){return Object(x["maskspace"])(t,e)},dDate:function(t){return Object(x["formatraw12Hour"])(t)},print:function(){window.print()}},mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("activenav","patientnav"),e.next=3,t.$store.dispatch("transaction/getPrescriptInfo",t.$route.params.idno);case 3:case"end":return e.stop()}}),e)})))()}},Kn=Qn,Xn=(a("32ca"),Object(m["a"])(Kn,Wn,Zn,!1,null,"f461003e",null)),ti=Xn.exports,ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{position:"relative"}},[t._m(0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:function(e){return t.walkinReserve()}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Walk In")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterDentist,expression:"filterDentist"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterDentist=e.target.multiple?a:a[0]},t.changefilterdentist]}},[a("option",{attrs:{value:"0"}},[t._v("ALL")]),t._l(t.branches[t.activebranchIndex].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])}))],2)])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"col col-md-12",staticStyle:{position:"relative"}},[a("div",{staticStyle:{position:"absolute",right:"150px",top:"-10px"}},[t.showEditReserve?a("button",{attrs:{id:"editbtn"},on:{click:t.beginedit}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit")]):t._e(),t.showeditbtn?a("div",[t.EventEditData.length>0?a("button",{staticStyle:{"margin-right":"50px","margin-top":"10px"},on:{click:function(e){return t.saveupdate()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")]):t._e(),a("button",{on:{click:function(e){return t.canceledit()}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Cancel")])]):t._e()]),a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)])]),a("br"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("span",{staticClass:"card-title"},[t._v("On-Going Transactions - "+t._s(this.branches[this.activebranchIndex].branch))])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed table-striped"},[t._m(2),a("tbody",t._l(t.dentistTransactions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.fullname))]),a("td",[0==e.Transactions.length?a("span",[t._v(" - ")]):a("ul",{staticStyle:{margin:"0",padding:"0"}},t._l(e.Transactions,(function(e){return a("li",{key:e.id},[t._v(t._s(e.transactionNo))])})),0)]),a("td",[0==e.Transactions.length?a("span",[t._v(" - ")]):a("ul",{staticStyle:{margin:"0",padding:"0"}},t._l(e.Transactions,(function(e){return a("li",{key:e.id},[t._v(t._s(e.User.fullname))])})),0)]),a("td",[0==e.Transactions.length?a("span",[t._v(" - ")]):a("ul",{staticStyle:{margin:"0",padding:"0"}},t._l(e.Transactions,(function(e){return a("li",{key:e.id},[t._v(t._s(t.dHour(e.Start)))])})),0)]),a("td",[0==e.Transactions.length?a("span",[t._v(" - ")]):a("ul",{staticStyle:{margin:"0",padding:"0"}},t._l(e.Transactions,(function(e){return a("li",{key:e.id},[t._v(t._s(t.dHour(e.End)))])})),0)]),a("td",[0==e.Transactions.length?a("span",[t._v(" - ")]):a("ul",{staticStyle:{margin:"0",padding:"0"}},t._l(e.Transactions,(function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"transactioninfo",params:{idno:e.id}}}},[t._v("View Transaction")])],1)})),0)])])})),0)])])])]),t.showActionReservationModal?a("actionReservationModal",{attrs:{reservationInfo:t.reservationInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e(),t.showwalkinmodal?a("walkinModal",{attrs:{transaction:t.walkinReservation},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)},ai=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-handshake"}),t._v(" Appointment List ")])]),a("div",{staticClass:"col-md-6"},[a("ul",{staticClass:"legends"},[a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#1CC88A"},attrs:{disabled:""}}),t._v(" Waiting")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#9F29E0"},attrs:{disabled:""}}),t._v(" Reschedule")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"dimgray"},attrs:{disabled:""}}),t._v(" Cancelled")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#385ECE"},attrs:{disabled:""}}),t._v(" Confirmed")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("DENTIST")]),a("th",[t._v("TRANSACTION NO")]),a("th",[t._v("PATIENT")]),a("th",[t._v("START TIME")]),a("th",[t._v("ESTIMATED END TIME")]),a("th")])])}],si=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[s("span",{staticClass:"fa fa-file-alt"}),t._v(" Reservation No: "+t._s(t.reservationInfo.reservationNo))]),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("button",{staticClass:"float-left",staticStyle:{padding:"10px","border-radius":"10px","box-shadow":"2px 2px 1px black"},attrs:{type:"button"},on:{click:function(e){t.shownotifModal=!0}}},[s("span",{staticClass:"fa fa-envelope"}),t._v(" Send Notification Message ")]),s("button",{staticClass:"float-left",staticStyle:{"margin-left":"50px",padding:"10px","border-radius":"10px","box-shadow":"2px 2px 1px black"},attrs:{type:"button"},on:{click:function(e){t.showchangedateModal=!0}}},[s("span",{staticClass:"fa fa-calendar"}),t._v(" Reschedule ")]),null==t.reservationInfo.User.img||""==t.reservationInfo.User.img?s("img",{staticClass:"float-right",staticStyle:{"max-height":"100px","max-width":"100px","margin-bottom":"10px"},attrs:{src:a("113c")}}):t._e(),s("img",{staticClass:"float-right",staticStyle:{"max-height":"100px","max-width":"100px","margin-bottom":"10px"},attrs:{src:t.imgUrl+"/"+t.reservationInfo.User.img}}),s("table",{staticClass:"table table-condensed"},[s("tbody",[s("tr",{staticStyle:{background:"lightgray"}},[t._m(0),s("td",[t._v(t._s(t.reservationInfo.User.fullname))]),t._m(1),s("td",[t._v(t._s(t.reservationInfo.date))])]),s("tr",[t._m(2),s("td",[t._v(t._s(t.reservationInfo.User.email))]),t._m(3),s("td",[t._v(t._s(t.dHour(t.reservationInfo.Start)))])]),s("tr",{staticStyle:{background:"lightgray"}},[t._m(4),s("td",[t._v(t._s(t.reservationInfo.User.contact))]),t._m(5),s("td",[t._v(t._s(t.dHour(t.reservationInfo.End)))])]),s("tr",[t._m(6),s("td",[t._v(t._s(t.reservationInfo.User.bday))]),t._m(7),s("td",[t._v(t._s(t.type))])]),s("tr",[t._m(8),s("td",[t._v(t._s(t.Age))]),t._m(9),s("td",[t._v(t._s(t.reservationInfo.Dentist.fullname))])]),s("tr",[t._m(10),s("td",[t._v(t._s(t.status))]),s("td",[1==t.reservationInfo.type?s("span",{staticClass:"itemtitle"},[t._v("TRANSACTION NO")]):t._e()]),s("td",[1==t.reservationInfo.type?s("span",[t._v(t._s(t.reservationInfo.Transaction.transactionNo))]):t._e()])])])]),s("table",{staticClass:"table table-condensed"},[t._m(11),s("tbody",[t._l(t.reservationInfo.Treatments,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.Service.service))]),s("td",[t._v(t._s(e.Service.description))]),s("td",[t._v(t._s(e.amount))])])})),s("tr",[s("td",{staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{colspan:"3"}},[t._v("Total Amount")]),s("td",{staticStyle:{background:"white"}},[t._v(t._s(t.totalamount))])])],2)])]),s("hr"),1==t.reservationInfo.status?s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-3  float-left"},[s("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.proceed()}}},[s("span",{staticClass:"fa fa-check"}),t._v(" Proceed")])]),s("div",{staticClass:"col col-md-6"}),s("div",{staticClass:"col col-md-3  float-right"},[s("button",{staticClass:"btn btn-warning form-control",on:{click:function(e){t.showcancelModal=!0}}},[s("span",{staticClass:"fa fa-times"}),t._v(" Cancel")])])]):t._e()])]),t.showchangedateModal?s("changeReserveModal",{attrs:{transaction:t.reservationchangedata},on:{closemodal:t.closemodal,init:t.init}}):t._e(),t.showcancelModal?s("cancelModal",{attrs:{reservationInfo:t.reservationInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e(),t.shownotifModal?s("notifModal",{attrs:{reservationInfo:t.reservationInfo},on:{closemodal:t.closemodal}}):t._e()],1)},ni=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("PATIENT NAME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("DATE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("EMAIl ADDRESS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("START TIME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("CONTACT NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("END TIME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("BIRTHDAY")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("TYPE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("AGE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("DENTIST")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("STATUS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"10%"}},[t._v("#")]),a("th",[t._v("Treatment")]),a("th",[t._v("Description")]),a("th",[t._v("Price")])])])}],ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Remarks")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks,expression:"remarks"}],staticClass:"form-control",domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.proceed()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Cancel")])])])])])},ri=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fas fa-exclamation-triangle"}),t._v(" Cancel Reservation")])}],oi={props:{reservationInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],remarks:""}},computed:{},methods:{closethis:function(){this.$emit("closemodal")},proceed:function(){var t=this;this.reservationInfo.remarks=this.remarks,this.$store.dispatch("reservation/cancelReservation",this.reservationInfo).then((function(){t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.reservationInfo.User.id)}),t.$swal("Reservation has been cancelled","","success"),t.closethis(),t.$emit("init")})).catch((function(t){return console.log(t)}))}},mounted:function(){}},ci=oi,li=Object(m["a"])(ci,ii,ri,!1,null,"7178ea2c",null),di=li.exports,ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Message")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.proceed()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Send")])])])])])},mi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fas fa-envelope"}),t._v(" Send Notification Message")])}],pi={props:{reservationInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],message:""}},computed:{},methods:{closethis:function(){this.$emit("closemodal")},proceed:function(){var t=this;this.reservationInfo.message=this.message,this.$store.dispatch("notification/createMessage",this.reservationInfo).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.reservationInfo.User.id)}),t.closethis())})).catch((function(t){return console.log(t)}))}},mounted:function(){}},hi=pi,fi=Object(m["a"])(hi,ui,mi,!1,null,"0bf5e21e",null),vi=fi.exports,gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.date,expression:"filterData.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filterData.date},on:{input:function(e){e.target.composing||t.$set(t.filterData,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.start,expression:"filterData.start"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.start},on:{input:function(e){e.target.composing||t.$set(t.filterData,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.end,expression:"filterData.end"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.end},on:{input:function(e){e.target.composing||t.$set(t.filterData,"end",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.remarks,expression:"filterData.remarks"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterData.remarks},on:{input:function(e){e.target.composing||t.$set(t.filterData,"remarks",e.target.value)}}})])])]),a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}}),0==t.dateactive?a("h4",{staticStyle:{color:"dimgray"}},[t._v("NO OPERATION / CLOSED")]):a("h4",{staticStyle:{color:"dimgray"}},[t._v("Opening: "+t._s(t.opening)+" Closing: "+t._s(t.closing))])],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:0==t.dateactive},on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Change")])])])])])},bi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-calendar"}),t._v(" Change Schedule Date")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("StartTime")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("EndTime")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Remarks")])])}],_i={props:{transaction:{type:Object,required:!0}},watch:{"filterData.date":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.filterData),a=this.$refs.fullCalendar.getApi(),s=new Date(e),a.gotoDate(s),n=s.getDay(),this.calendarOptions.slotMinTime="".concat(this.branch.Schedules[n].start,":00"),this.calendarOptions.slotMaxTime="".concat(this.branch.Schedules[n].end,":00"),this.filterData.minTime="".concat(this.branch.Schedules[n].start),this.filterData.maxTime="".concat(this.branch.Schedules[n].end),this.filterData.branch=this.branch.id,this.dateactive=this.branch.Schedules[n].active,t.next=13,this.getApprovedListDay(this.filterData);case 13:this.calendarOptions.events=this.getActiveEvents;case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},data:function(){return{dateactive:0,activeIndexBranch:0,errormsg:[],filterData:{date:Object(x["formatDate"])(new Date),dentist:this.transaction.dentistId,start:"",end:"",curdate:Object(x["formatDate"])(new Date),minTime:"",maxTime:"",remarks:""},calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"today prev,next"},footerToolbar:{left:""},contentHeight:"auto",height:"auto",allDaySlot:!1,slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"timeGridDay",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventContent:this.eventRender,eventRemove:this.removeEvent,customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}}}},methods:Object(r["a"])({formatDHour:function(t){return Object(x["format12Hour"])(t)},eventRender:function(t){var e="",a="#1CC88A",s="white";return 4==t.event.extendedProps.status&&(a="#385ECE"),e='<div style="background: '.concat(a,";color:").concat(s,';height:100%;width:100%;position: relative;padding:5px;">\n            <span style="font-weight:bold">').concat(t.event.title,"</span><br/><span>Start: ").concat(this.formatDHour(t.event.start)," End: ").concat(this.formatDHour(t.event.end),"</span>\n           </div>"),{html:e}},handleDateSelect:function(t){var e=this.$refs.fullCalendar.getApi();e.gotoDate(t.start),e.changeView("timeGridDay"),this.filterData.date=Object(x["formatDate"])(t.start)},handleEventClick:function(t){console.log(t)},handleEvents:function(t){console.log(t);var e=this.$refs.fullCalendar.getApi();this.filterData.date=Object(x["formatDate"])(e.getDate())},removeEvent:function(){}},Object(l["b"])(["getSchedules"]),{},Object(l["b"])("reservation",["getApprovedListDay","changeReservationDate"]),{closethis:function(){this.$emit("closemodal")},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("branch/getInfo",{idno:this.transaction.branchId,type:0}).then(Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.filterData.date=e.transaction.date,a=e.$refs.fullCalendar.getApi(),s=new Date(e.filterData.date),a.gotoDate(s),n=s.getDay(),e.calendarOptions.slotMinTime="".concat(e.branch.Schedules[n].start,":00"),e.calendarOptions.slotMaxTime="".concat(e.branch.Schedules[n].end,":00"),e.filterData.minTime="".concat(e.branch.Schedules[n].start),e.filterData.maxTime="".concat(e.branch.Schedules[n].end),e.filterData.branch=e.branch.id,e.dateactive=e.branch.Schedules[n].active,t.next=13,e.getApprovedListDay(e.filterData);case 13:e.calendarOptions.events=e.getActiveEvents;case 14:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=this;this.filterData.info=this.transaction.info,this.changeReservationDate(this.filterData).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.transaction.info.userId)}),t.$swal("Reservation Schedule has been changed","","success"),t.$emit("init"),t.init(),t.$refs.errormessage.classList.remove("show"),t.errormsg=[])})).catch((function(t){return console.log(t)}))}}),computed:Object(r["a"])({},Object(l["d"])({schedules:function(t){return t.schedules},branch:function(t){return t.branch.branch}}),{},Object(l["c"])("reservation",["getActiveEvents"]),{opening:{get:function(){var t=this.calendarOptions.slotMinTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}},closing:{get:function(){var t=this.calendarOptions.slotMaxTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}}}),mounted:function(){this.init()},components:{FullCalendar:en["a"]}},Ci=_i,yi=Object(m["a"])(Ci,gi,bi,!1,null,"b6bc46d8",null),wi=yi.exports,xi={props:{reservationInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],showcancelModal:!1,shownotifModal:!1,imgUrl:this.$store.state.imgUrl,reservationchangedata:{},showchangedateModal:!1}},computed:{Age:{get:function(){return Object(x["calculateAge"])(this.reservationInfo.User.bday)}},status:{get:function(){var t=this.reservationInfo.status,e="";switch(t){case 1:e="Waiting/Pending";break;case 3:e="Cancelled";break;case 4:e="Check In/On-going";break;default:break}return e}},totalamount:{get:function(){var t=0;return this.reservationInfo.Treatments.forEach((function(e){t+=parseFloat(e.amount)})),t}},type:{get:function(){var t,e=this.reservationInfo.type;switch(e){case 0:t="New Transaction";break;case 1:t="Followup Transaction";break;default:break}return t}}},methods:{init:function(){this.$emit("init"),this.closethis()},dHour:function(t){return this.$helper.formatraw12Hour(t)},closethis:function(){this.$emit("closemodal")},closemodal:function(){this.showcancelModal=!1,this.shownotifModal=!1,this.showchangedateModal=!1},proceed:function(){var t=this,e=0==this.reservationInfo.type?"Create new Transaction ?":"Proceed to Transaction No:  ".concat(this.reservationInfo.Transaction.transactionNo,"?");this.$swal({title:e,text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(e){e.value&&t.$store.dispatch("reservation/proceedTransaction",t.reservationInfo).then((function(){t.closethis(),t.$emit("init"),t.$swal("Transaction Successful","","success")})).catch((function(t){return console.log(t)}))}))}},mounted:function(){this.reservationchangedata={dentistId:this.reservationInfo.dentistId,branchId:this.reservationInfo.branchId,userId:this.reservationInfo.userId,date:this.reservationInfo.date,info:this.reservationInfo}},components:{cancelModal:di,notifModal:vi,changeReserveModal:wi}},ki=xi,Si=(a("300a"),Object(m["a"])(ki,si,ni,!1,null,"1e8b154e",null)),$i=Si.exports,Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.date,expression:"filterData.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filterData.date},on:{input:function(e){e.target.composing||t.$set(t.filterData,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.start,expression:"filterData.start"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.start},on:{input:function(e){e.target.composing||t.$set(t.filterData,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.end,expression:"filterData.end"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.filterData.end},on:{input:function(e){e.target.composing||t.$set(t.filterData,"end",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-8"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.patientname,expression:"filterData.patientname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.filterData.patientname},on:{input:function(e){e.target.composing||t.$set(t.filterData,"patientname",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[""==t.filterData.patientname?a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){t.showpatientlist=!0}}},[t._v(" Select Patient")]):a("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.removepatient()}}},[t._v(" Remove Patient")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterData.type,expression:"filterData.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterData,"type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("New Transaction")]),a("option",{attrs:{value:"1"}},[t._v("Followup")])])])]),"1"==t.filterData.type?a("table",{staticClass:"table table-condensed"},[t._m(6),a("tbody",t._l(t.followups,(function(e,s){return a("tr",{key:s,ref:"followuptransaction",refInFor:!0,staticStyle:{cursor:"pointer"},on:{click:function(e){return t.selectedTransaction(s)}}},[a("td",[t._v(t._s(e.transactionNo))]),a("td",[t._v(t._s(e.transactionDate))]),a("td",[t._v(t._s(e.dentist))]),a("td",[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(t._s(e.service))])})),0)])])})),0)]):t._e()]),a("div",{staticClass:"row"},["0"==t.filterData.type?a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"input-group mb-3"},[t._m(7),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterData.dentist,expression:"filterData.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterData,"dentist",e.target.multiple?a:a[0])}}},t._l(t.branch.Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])})),0)])]):t._e()]),"0"==t.filterData.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:function(e){return t.add()}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(8),a("tbody",t._l(t.filterData.servicelist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"list.price"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"number",readonly:""},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})]),a("td",[a("button",{staticStyle:{background:"transparent",border:"none",color:"maroon"},on:{click:function(e){return t.removeserviceList(s)}}},[a("span",{staticClass:"fa fa-minus"})])])])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"input-group mb-3"},[t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.remarks,expression:"filterData.remarks"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterData.remarks},on:{input:function(e){e.target.composing||t.$set(t.filterData,"remarks",e.target.value)}}})])]),a("div",{staticClass:"col col-md-12"},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)]),0==t.dateactive?a("h4",{staticStyle:{color:"dimgray"}},[t._v("NO OPERATION / CLOSED")]):a("h4",{staticStyle:{color:"dimgray"}},[t._v("Opening: "+t._s(t.opening)+" Closing: "+t._s(t.closing))])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:0==t.dateactive},on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])]),t.showpatientlist?a("patientListModal",{on:{closemodal:t.closemodal,setpatient:t.setpatient,init:t.init}}):t._e()],1)},Di=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-calendar"}),t._v(" Walkin Reservation")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("StartTime")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("EndTime")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Patient")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Transaction No")]),a("th",[t._v("Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Treatments")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Service")]),a("th",[t._v("Amount")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Remarks")])])}],Ii=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[t._m(0),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-4"},[s("div",{staticClass:"input-group mb-3"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.lastname,expression:"filter.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.lastname},on:{input:function(e){e.target.composing||t.$set(t.filter,"lastname",e.target.value)}}})])]),s("div",{staticClass:"col col-md-4"},[s("div",{staticClass:"input-group mb-3"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.middlename,expression:"filter.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.middlename},on:{input:function(e){e.target.composing||t.$set(t.filter,"middlename",e.target.value)}}})])]),s("div",{staticClass:"col col-md-4"},[s("div",{staticClass:"input-group mb-3"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.firstname,expression:"filter.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.firstname},on:{input:function(e){e.target.composing||t.$set(t.filter,"firstname",e.target.value)}}})])]),s("div",{staticClass:"col col-md-4"},[s("div",{staticClass:"input-group mb-3"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.email,expression:"filter.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.filter.email},on:{input:function(e){e.target.composing||t.$set(t.filter,"email",e.target.value)}}})])]),s("div",{staticClass:"col col-md-4"},[s("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.search()}}},[s("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),s("div",[s("div",{staticClass:"card",staticStyle:{height:"500px"}},[t._m(5),s("div",{staticClass:"card-body",staticStyle:{"overflow-y":"auto !important",padding:"0","overflow-x":"hidden"}},[s("table",{staticClass:"table table-striped",staticStyle:{padding:"0",margin:"0"}},[s("tbody",t._l(t.patients,(function(e,n){return s("tr",{key:n,staticStyle:{cursor:"pointer",border:"none",padding:"0 !important"},on:{dblclick:function(a){return t.select(e)}}},[s("td",{staticStyle:{"text-align":"center",width:"15%"}},[null==e.img?s("img",{staticStyle:{height:"60px",width:"90px"},attrs:{src:a("113c")}}):s("img",{staticStyle:{height:"60px",width:"80px"},attrs:{src:t.imgUrl+"/"+e.img}})]),s("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.lastname))]),s("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.firstname))]),s("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.middlename))]),s("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.email))]),s("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.contact))]),s("td",{staticStyle:{"text-align":"right",width:"10%"}},[s("button",{on:{click:function(a){return t.select(e)}}},[s("span",{staticClass:"fa fa-check"}),t._v(" Select")])])])})),0)])])])])])])])])},Ti=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fas fa-users"}),t._v(" Patient List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Last Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Middle Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("First Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{background:"#343A40",padding:"0"}},[a("table",{staticClass:"table table-condensed",staticStyle:{margin:"0",padding:"0"}},[a("thead",[a("tr",{staticStyle:{color:"white"}},[a("th",{staticStyle:{width:"15%"}}),a("th",{staticStyle:{width:"15%"}},[t._v("LastName")]),a("th",{staticStyle:{width:"15%"}},[t._v("FirstName")]),a("th",{staticStyle:{width:"15%"}},[t._v("MiddleName")]),a("th",{staticStyle:{width:"15%"}},[t._v("Email Address")]),a("th",{staticStyle:{width:"15%"}},[t._v("Contact")]),a("th",{staticStyle:{width:"10%"}})])])])])}],Ni={props:{},data:function(){return{errormsg:[],doneTypingInterval:500,typingTimer:"",filter:{lastname:"",middlename:"",firstname:"",email:""},imgUrl:this.$store.state.imgUrl}},watch:{},computed:Object(r["a"])({},Object(l["d"])({patients:function(t){return t.user.patients}})),methods:{search:function(){this.$store.dispatch("user/searchPatient",this.filter)},closethis:function(){this.$emit("closemodal")},select:function(t){this.$emit("setpatient",t),this.closethis()}},mounted:function(){this.$store.dispatch("user/searchPatient",this.filter)}},Ai=Ni,Oi=Object(m["a"])(Ai,Ii,Ti,!1,null,null,null),Pi=Oi.exports,Mi={props:{transaction:{type:Object,required:!0}},watch:{"filterData.date":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$refs.fullCalendar.getApi(),s=new Date(e),a.gotoDate(s),n=s.getDay(),this.calendarOptions.slotMinTime="".concat(this.branch.Schedules[n].start,":00"),this.calendarOptions.slotMaxTime="".concat(this.branch.Schedules[n].end,":00"),this.filterData.minTime="".concat(this.branch.Schedules[n].start),this.filterData.maxTime="".concat(this.branch.Schedules[n].end),this.dateactive=this.branch.Schedules[n].active,this.filterData.branch=this.branch.id,t.next=12,this.getApprovedListDay(this.filterData);case 12:this.calendarOptions.events=this.getActiveEvents;case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),"filterData.patientname":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!=e&&this.getUserTransactionWalkIn({status:1,branch:this.filterData.branch,userid:this.filterData.patient});case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),"filterData.dentist":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e){t.next=4;break}return t.next=3,this.getApprovedListDay(this.filterData);case 3:this.calendarOptions.events=this.getActiveEvents;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},data:function(){return{dateactive:0,showpatientlist:!1,myValue:"",ph:"Service List",activeIndexBranch:0,errormsg:[],filterData:{date:Object(x["formatDate"])(new Date),dentist:this.transaction.dentistId,start:"",end:"",curdate:Object(x["formatDate"])(new Date),minTime:"",maxTime:"",remarks:"",type:0,servicelist:[],patient:this.transaction.userId,patientname:"",transaction:""},calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"today prev,next"},footerToolbar:{left:""},contentHeight:"auto",height:"auto",allDaySlot:!1,slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"timeGridDay",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventContent:this.eventRender,eventRemove:this.removeEvent,customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}}}},methods:Object(r["a"])({selectedTransaction:function(t){var e=this.$refs.followuptransaction[t];"silver"==e.style.background?(this.filterData.transaction="",this.filterData.dentist="",e.style.background="white"):(this.filterData.transaction=this.followups[t].id,this.filterData.dentist=this.followups[t].dentistId,e.style.background="silver")},removepatient:function(){this.filterData.patient="",this.filterData.patientname=""},setpatient:function(t){this.filterData.patient=t.id,this.filterData.patientname=t.fullname},removeserviceList:function(t){this.filterData.servicelist.splice(t,1)},add:function(){var t={id:this.branch.Services[this.myValue].id,service:this.branch.Services[this.myValue].service,price:this.branch.Services[this.myValue].regularPrice};if(0==this.filterData.servicelist.length)this.filterData.servicelist.push(t);else{for(var e=0,a=0;a<this.filterData.servicelist.length;a++)if(this.filterData.servicelist[a].id==t.id){e=1;break}0==e&&this.filterData.servicelist.push(t)}this.myValue=""},formatDHour:function(t){return Object(x["format12Hour"])(t)},eventRender:function(t){var e="",a="#1CC88A",s="white";return 4==t.event.extendedProps.status&&(a="#385ECE"),e='<div style="background: '.concat(a,";color:").concat(s,';height:100%;width:100%;position: relative;padding:5px;">\n            <span style="font-weight:bold">').concat(t.event.title,"</span><br/><span>Start: ").concat(this.formatDHour(t.event.start)," End: ").concat(this.formatDHour(t.event.end),"</span>\n           </div>"),{html:e}},handleDateSelect:function(t){var e=this.$refs.fullCalendar.getApi();e.gotoDate(t.start),e.changeView("timeGridDay"),this.filterData.date=Object(x["formatDate"])(t.start)},handleEventClick:function(t){console.log(t)},handleEvents:function(t){console.log(t);var e=this.$refs.fullCalendar.getApi();this.filterData.date=Object(x["formatDate"])(e.getDate())},removeEvent:function(){}},Object(l["b"])(["getSchedules"]),{},Object(l["b"])("reservation",["getApprovedListDay","changeReservationDate","getUserTransactionWalkIn"]),{closemodal:function(){this.showpatientlist=!1},closethis:function(){this.$emit("closemodal")},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("branch/getInfo",{idno:this.transaction.branchId,type:0}).then(Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.fullCalendar.getApi(),s=new Date(e.filterData.date),a.gotoDate(s),n=s.getDay(),e.calendarOptions.slotMinTime="".concat(e.branch.Schedules[n].start,":00"),e.calendarOptions.slotMaxTime="".concat(e.branch.Schedules[n].end,":00"),e.filterData.minTime="".concat(e.branch.Schedules[n].start),e.filterData.maxTime="".concat(e.branch.Schedules[n].end),e.filterData.branch=e.branch.id,e.dateactive=e.branch.Schedules[n].active,t.next=12,e.getApprovedListDay(e.filterData);case 12:e.calendarOptions.events=e.getActiveEvents;case 13:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=this;this.$store.dispatch("reservation/createWalkInReservation",this.filterData).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.filterData.patient)}),t.$swal("Reservation has been created","","success"),t.$emit("init"),t.closethis(),t.$refs.errormessage.classList.remove("show"),t.errormsg=[])})).catch((function(t){return console.log(t)}))}}),computed:Object(r["a"])({serviceOptions:{get:function(){var t=-1;return this.branch.Services.map((function(e){return t++,{id:t,text:"".concat(e.service," - Price: P ").concat(e.regularPrice)}}))}}},Object(l["d"])({schedules:function(t){return t.schedules},branch:function(t){return t.branch.branch},followups:function(t){return t.reservation.followupTransactions}}),{},Object(l["c"])("reservation",["getActiveEvents"]),{opening:{get:function(){var t=this.calendarOptions.slotMinTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}},closing:{get:function(){var t=this.calendarOptions.slotMaxTime.slice(0,-3);t=t.split(":");var e=new Date;return e.setHours(t[0]),e.setMinutes(t[1]),Object(x["format12Hour"])(e)}}}),mounted:function(){this.init()},components:{FullCalendar:en["a"],Select2:Pa["a"],patientListModal:Pi}},ji=Mi,Ri=Object(m["a"])(ji,Ei,Di,!1,null,"1e12709c",null),Ui=Ri.exports,Fi={components:{actionReservationModal:$i,walkinModal:Ui,FullCalendar:en["a"]},data:function(){return{dentistTransactions:[],filterDentist:0,walkinReservation:{},showwalkinmodal:!1,activebranchIndex:0,showEditReserve:!1,showeditbtn:!1,calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"prev,next"},footerToolbar:{left:"today dayGridMonth,timeGridDay,listWeek"},contentHeight:"auto",height:"auto",navLinks:!0,slotDuration:"00:10:00",allDaySlot:!1,slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"timeGridDay",editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,datesSet:this.rendernewDates,weekends:!0,hiddenDays:[],eventOverlap:!1,slotEventOverlap:!1,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventContent:this.eventRender,eventAfterAllRender:this.eventAfterAllRender,eventChange:this.eventChange},currentEvents:[],reservationInfo:{},showActionReservationModal:!1,EventEditData:[]}},methods:Object(r["a"])({},Object(l["b"])(["getSchedules"]),{changefilterdentist:function(){this.changeFilterbranch(this.branches[this.activebranchIndex].id,this.activebranchIndex)},walkinReserve:function(){this.showwalkinmodal=!0,this.walkinReservation={dentistId:0,branchId:this.branches[this.activebranchIndex].id,userId:0,date:new Date}},eventChange:function(t){var e=this.getApprovedAppointments.filter((function(e){if(parseInt(e.id)===parseInt(t.event.id))return e})),a=t.event.extendedProps.status,s=Object(x["formatHour"])(new Date(e[0].start)),n=Object(x["formatHour"])(new Date(e[0].end)),i=Object(x["formatHour"])(t.event.start),r=Object(x["formatHour"])(t.event.end);if(s==i&&n==r||1!=a){var o=this.EventEditData.filter((function(e){if(parseInt(e.id)==parseInt(t.event.id))return e})),c=this.EventEditData.indexOf(o[0]);this.EventEditData.splice(c,1)}else if(0==this.EventEditData.length)this.EventEditData.push({id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(r,":00")});else{var l=this.EventEditData.filter((function(e){if(parseInt(e.id)==parseInt(t.event.id))return e}));if(0==l.length)this.EventEditData.push({id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(r,":00")});else{var d=this.EventEditData.indexOf(l[0]);this.EventEditData[d]={id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(r,":00")}}}},beginedit:function(){this.showeditbtn=!0,this.showEditReserve=!1,this.calendarOptions.editable=!0,this.calendarOptions.slotEventOverlap=!0,this.calendarOptions.eventOverlap=!0},saveupdate:function(){var t=this;this.$store.dispatch("reservation/changeTimeReservation",this.EventEditData).then(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.forEach((function(e){t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(e)})})),e.next=3,t.init();case 3:t.canceledit(),t.EventEditData=[];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){return console.log(t)}))},canceledit:function(){var t=this,e=this.$refs.fullCalendar.getApi();this.$store.dispatch("reservation/getAppointments",{start:e.view.activeStart,end:e.view.activeEnd,branch:this.branches[this.activebranchIndex].id,dentist:this.filterDentist}).then((function(){t.calendarOptions.events=t.getApprovedAppointments,t.showeditbtn=!1,t.calendarOptions.editable=!1,t.calendarOptions.slotEventOverlap=!1,t.calendarOptions.eventOverlap=!1}))},changeFilterbranch:function(t,e){for(var a=this,s=document.getElementsByClassName("navbranch"),n=0;n<s.length;n++)s[n].classList.remove("active");s[e].classList.add("active"),this.activebranchIndex=e,this.getTimeschedule();var i=this.$refs.fullCalendar.getApi();this.$store.dispatch("reservation/getAppointments",{start:i.view.activeStart,end:i.view.activeEnd,branch:this.branches[this.activebranchIndex].id,dentist:this.filterDentist}).then((function(){i.refetchEvents(),a.calendarOptions.events=a.getApprovedAppointments}));var r=this.branches[this.activebranchIndex].Dentists.filter((function(t){if(t.id==a.filterDentist)return t}));0==r.length&&(this.filterDentist=0),this.$store.dispatch("dashboard/dentistTransaction",this.branches[this.activebranchIndex].id).then((function(t){a.dentistTransactions=t}))},dHour:function(t){return this.$helper.formatraw12Hour(t)},formatDHour:function(t){return Object(x["format12Hour"])(t)},eventRender:function(t){var e="",a="#1CC88A",s="white";return 3==t.event.extendedProps.status&&(a="dimgray"),4==t.event.extendedProps.status&&(a="#385ECE"),1==t.event.extendedProps.isResched&&1==t.event.extendedProps.status&&(a="#9F29E0"),console.log(t.event.extendedProps),e='<div style="background: '.concat(a,";color:").concat(s,';height:100%;width:100%;position: relative;padding:10px;"><span style="font-weight:bold">').concat(t.event.title,"</span>\n            <br/>\n            <span>").concat(this.formatDHour(t.event.start)," - ").concat(this.formatDHour(t.event.end),"</span>\n            <br/>\n            <span>Patient: ").concat(t.event.extendedProps.patient.fullname,"</span>\n            <br/>\n            <span>Dentist: ").concat(t.event.extendedProps.dentist,"</span>\n            <br/>\n            <span>Branch: ").concat(t.event.extendedProps.branch,"</span></div>"),{html:e}},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect:function(t){console.log(t)},handleEventClick:function(t){4==t.event.extendedProps.reservationInfo.status?this.$router.push({name:"transactioninfo",params:{idno:t.event.extendedProps.reservationInfo.TransactionId}}):(this.reservationInfo=t.event.extendedProps.reservationInfo,this.showActionReservationModal=!0)},rendernewDates:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),refetchEventsCalendar:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.currentEvents=e,this.getTimeschedule(),a=this.$refs.fullCalendar.getApi(),"timeGridDay"!=a.view.type){t.next=7;break}this.showEditReserve=!0,t.next=11;break;case 7:return t.next=9,this.init();case 9:this.showEditReserve=!1,this.showeditbtn=!1;case 11:!this.showeditbtn&&this.showEditReserve&&this.$store.dispatch("reservation/getAppointments",{start:a.view.activeStart,end:a.view.activeEnd,branch:this.branches[this.activebranchIndex].id,dentist:this.filterDentist}).then((function(){s.calendarOptions.events=s.getApprovedAppointments}));case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleEvents:function(t){this.refetchEventsCalendar(t)},closemodal:function(){this.showActionReservationModal=!1,this.showwalkinmodal=!1},getTimeschedule:function(){var t=this;return new Promise((function(e,a){var s=t.$refs.fullCalendar.getApi();t.getSchedules(t.branches[t.activebranchIndex].id).then((function(){t.calendarOptions.hiddenDays=t.InactiveSchedules;var a=new Date(s.getDate());a=a.getDay(),t.calendarOptions.slotMinTime="".concat(t.schedules[a].start,":00"),t.calendarOptions.slotMaxTime="".concat(t.schedules[a].end,":00"),e()})).catch((function(t){return a(t)}))}))},refreshEvents:function(){var t=this.$refs.fullCalendar.getApi();t.addEventSource(this.getApprovedAppointments)},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){try{var s=e.$refs.fullCalendar.getApi();e.$store.dispatch("reservation/getAppointments",{start:s.view.activeStart,end:s.view.activeEnd,branch:e.branches[e.activebranchIndex].id,dentist:e.filterDentist}).then((function(){e.getTimeschedule().then((function(){e.calendarOptions.events=e.getApprovedAppointments}))})),e.$store.dispatch("dashboard/dentistTransaction",e.branches[e.activebranchIndex].id).then((function(t){e.dentistTransactions=t})),t()}catch(n){a(n)}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(r["a"])({},Object(l["d"])({schedules:function(t){return t.schedules},branches:function(t){return t.branch.branches}}),{},Object(l["c"])("reservation",["getApprovedAppointments"]),{InactiveSchedules:{get:function(){var t=[];return this.schedules.filter((function(t){t.active})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reservenav"),this.$store.dispatch("branch/getListAllInfo").then(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.changeFilterbranch(t.branches[t.activebranchIndex].id,0),e.next=3,t.init();case 3:case"end":return e.stop()}}),e)})))).catch((function(t){return console.log(t)})),this.$mysocket.on("dentistTransaction",(function(){t.$store.dispatch("dashboard/dentistTransaction",t.branches[t.activebranchIndex].id).then((function(e){t.dentistTransactions=e}))}))}},Li=Fi,Bi=(a("d12b"),Object(m["a"])(Li,ei,ai,!1,null,"ef68ff74",null)),zi=Bi.exports,Hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed table-striped"},[t._m(1),a("tbody",t._l(t.pendingReservation,(function(e,s){return a("tr",{key:s,staticStyle:{cursor:"pointer"},on:{dblclick:function(a){return t.viewReservation(e.id)}}},[a("td",[t._v(t._s(e.reservationNo))]),a("td",[t._v(t._s(e.Branch.branch))]),a("td",[t._v(t._s(t.dDate(e.date)))]),a("td",[t._v(t._s(t.dHour(e.Start)))]),a("td",[t._v(t._s(e.User.fullname))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[0==e.type?a("span",[t._v("New Transaction")]):a("span",[t._v("Followup Transaction")])]),a("td",[e.Transaction?a("span",[t._v(t._s(e.Transaction.transactionNo))]):t._e()]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.viewReservation(e.id)}}},[t._v("View")])])])})),0)])])])])])},Yi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Pending Appointment List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Appointment No")]),a("th",[t._v("Branch")]),a("th",[t._v("Date")]),a("th",[t._v("Time")]),a("th",[t._v("Client")]),a("th",[t._v("Dentist")]),a("th",[t._v("Type")]),a("th",[t._v("Transaction No")]),a("th")])])}],qi={methods:{dDate:function(t){return Object(x["formatBdayDate"])(t)},dHour:function(t){return this.$helper.formatraw12Hour(t)},viewReservation:function(t){this.$router.push({name:"viewReservation",params:{idno:t}})}},computed:Object(r["a"])({},Object(l["d"])({pendingReservation:function(t){return t.reservation.pendings}})),mounted:function(){this.$store.dispatch("activenav","reservenav"),this.$store.dispatch("reservation/getPending")}},Vi=qi,Gi=Object(m["a"])(Vi,Hi,Yi,!1,null,null,null),Ji=Gi.exports,Wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Reservation No "+t._s(t.reservationInfo.reservationNo))]),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[a("span",{staticClass:"card-title",staticStyle:{color:"white !important"}},[t._v("Details")]),a("button",{staticClass:"float-right",on:{click:function(e){t.showchangedateModal=!0}}},[a("span",{staticClass:"fa fa-calendar"}),t._v(" Change Date")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.date,expression:"reservationInfo.date"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.date},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo,"date",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.dDate(t.reservationInfo.Start)}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.dDate(t.reservationInfo.End)}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.User.fullname,expression:"reservationInfo.User.fullname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.User.fullname},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo.User,"fullname",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.User.email,expression:"reservationInfo.User.email"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.User.email},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo.User,"email",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.User.contact,expression:"reservationInfo.User.contact"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.User.contact},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo.User,"contact",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.Dentist.fullname,expression:"reservationInfo.Dentist.fullname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.Dentist.fullname},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo.Dentist,"fullname",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationInfo.Branch.branch,expression:"reservationInfo.Branch.branch"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationInfo.Branch.branch},on:{input:function(e){e.target.composing||t.$set(t.reservationInfo.Branch,"branch",e.target.value)}}})])])]),a("table",{staticClass:"table table-condensed"},[t._m(9),a("tbody",t._l(t.reservationInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.Service.service))]),a("td",[t._v(t._s(e.Service.description))]),a("td",[t._v(t._s(e.amount))])])})),0)]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservationStatus,expression:"reservationStatus"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.reservationStatus},on:{input:function(e){e.target.composing||(t.reservationStatus=e.target.value)}}})])]),0==t.reservationInfo.status?a("div",{staticClass:"float-right"},[1!=t.reservationInfo.status?a("button",{staticClass:"btn btn-primary",staticStyle:{margin:"10px 30px"},on:{click:function(e){return t.confirmReservation()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Confirm")]):t._e(),2!=t.reservationInfo.status?a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deniedReservation()}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Denied")]):t._e()]):t._e()])]),a("div",{staticClass:"card"},[t._m(11),a("div",{staticClass:"card-body"},[0==t.reservationInfo.type?a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"input-group mb-3"},[t._m(12),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterData.dentist,expression:"filterData.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterData,"dentist",e.target.multiple?a:a[0])}}},t._l(t.branches[t.activeIndexBranch].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])})),0)])]):t._e(),a("div",{staticClass:"col col-md-6"},[a("h4",{staticClass:"float-right",staticStyle:{color:"dimgray"}},[t._v("Opening "+t._s(t.format12(t.opening))+" Closing "+t._s(t.format12(t.closing)))])]),a("div",{staticClass:"col col-md-12",staticStyle:{position:"relative"}},[a("div",{staticStyle:{position:"absolute",right:"20px"}},[t.showeditbtn?t._e():a("button",{on:{click:t.beginedit}},[a("span",{staticClass:"fa fa-pen"}),t._v(" Edit")]),t.showeditbtn?a("div",[t.EventEditData.length>0?a("button",{staticStyle:{"margin-right":"50px"},on:{click:function(e){return t.saveupdate()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")]):t._e(),a("button",{on:{click:function(e){return t.canceledit()}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Cancel")])]):t._e()]),a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)])])]),t.showchangedateModal?a("changeReserveModal",{attrs:{transaction:t.reservationchangedata},on:{closemodal:t.closemodal,init:t.init}}):t._e(),t.showDeniedModal?a("deniedModal",{attrs:{denyInfo:t.ReserveInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e(),t.showConfirmModal?a("confirmModal",{attrs:{dentists:t.branches[t.activeIndexBranch].Dentists,confirmInfo:t.ReserveInfo},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)},Zi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Time")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Time")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Client Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Client Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Client Contact")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Branch")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Treatment")]),a("th",[t._v("Description")]),a("th",[t._v("Price")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[a("span",{staticClass:"card-title",staticStyle:{color:"white !important"}},[t._v("Approved List Schedule")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])}],Qi=0,Ki=(new Date).toISOString().replace(/T.*$/,""),Xi=[{id:1,title:"All-day event",start:Ki,extendedProps:{department:"BioChemistry"},customRender:!0},{id:2,title:"Timed event",start:Ki+"T12:00:00",extendedProps:{department:"BioChemistry"},customRender:!0},{title:"Zippy",id:3,start:Ki+" 10:00:00",end:Ki+" 11:30:00",display:"background",color:"#ff9f89",extendedProps:{department:"BioChemistry"},customRender:!0}];function tr(){return String(Qi++)}var er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Remarks")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks,expression:"remarks"}],staticClass:"form-control",domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.proceed()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Proceed")])])])])])},ar=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-times"}),t._v(" Deny Request")])}],sr={props:{denyInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],remarks:""}},methods:{closethis:function(){this.$emit("closemodal")},proceed:function(){var t=this;this.$store.dispatch("reservation/denyReservation",{branchid:this.denyInfo.branchid,branch:this.denyInfo.branch,date:this.denyInfo.date,start:this.denyInfo.start,end:this.denyInfo.end,patient:this.denyInfo.patient,dentistname:this.denyInfo.dentistname,treatments:this.denyInfo.treatments,id:this.denyInfo.id,remarks:this.remarks,reserveNo:this.denyInfo.no,userID:this.denyInfo.userId}).then((function(){t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.denyInfo.userId)}),t.$store.dispatch("reservation/getPending"),t.closethis(),t.$emit("init")})).catch((function(t){return console.log(t)}))}},computed:{},mounted:function(){}},nr=sr,ir=Object(m["a"])(nr,er,ar,!1,null,"59dc19e4",null),rr=ir.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("span",{staticStyle:{color:"dimgray","font-weight":"bold","font-size":"12pt"}},[t._v("Date: "+t._s(t.datesched)+" Opening: "+t._s(t.opening)+" Closing: "+t._s(t.closing))]),a("div",{staticClass:"form-group"},[a("label",[t._v("Dentist")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.confirmInfo.dentist,expression:"confirmInfo.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.confirmInfo,"dentist",e.target.multiple?a:a[0])}}},t._l(t.dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])})),0)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.starttime,expression:"starttime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.starttime},on:{input:function(e){e.target.composing||(t.starttime=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.endtime,expression:"endtime"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.endtime},on:{input:function(e){e.target.composing||(t.endtime=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Remarks")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks,expression:"remarks"}],staticClass:"form-control",domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.proceed()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Proceed")])])])])])},cr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-check"}),t._v(" Confirm Request")])}],lr={props:{confirmInfo:{type:Object,required:!0},dentists:{type:Array,required:!0}},data:function(){return{errormsg:[],remarks:"",starttime:"",endtime:""}},computed:{start:{get:function(){return this.confirmInfo.start},set:function(t){this.start=t}},end:{get:function(){return this.confirmInfo.end},set:function(t){this.end=t}},opening:{get:function(){return Object(x["formatraw12Hour"])(this.confirmInfo.minTime)}},closing:{get:function(){return Object(x["formatraw12Hour"])(this.confirmInfo.maxTime)}},datesched:{get:function(){return Object(x["formatBdayDate"])(this.confirmInfo.date)}}},methods:{closethis:function(){this.$emit("closemodal")},proceed:function(){var t=this;this.$store.dispatch("reservation/approvedReservation",{branchid:this.confirmInfo.branchid,branch:this.confirmInfo.branch,minTime:this.confirmInfo.minTime,maxTime:this.confirmInfo.maxTime,patient:this.confirmInfo.patient,dentistname:this.confirmInfo.dentistname,treatments:this.confirmInfo.treatments,dentist:this.confirmInfo.dentist,date:this.confirmInfo.date,id:this.confirmInfo.id,remarks:this.remarks,reserveNo:this.confirmInfo.no,userID:this.confirmInfo.userId,start:this.starttime,end:this.endtime}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$mysocket.emit("updatePatientNotification",{privateID:"patient_".concat(t.confirmInfo.userId)}),t.$store.dispatch("reservation/getPending"),t.closethis(),t.$emit("init"))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.starttime=this.start,this.endtime=this.end}},dr=lr,ur=Object(m["a"])(dr,or,cr,!1,null,"75a91102",null),mr=ur.exports,pr={components:{deniedModal:rr,confirmModal:mr,changeReserveModal:wi,FullCalendar:en["a"]},data:function(){return{showchangedateModal:!1,reservationchangedata:{},calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:""},footerToolbar:{left:""},contentHeight:"auto",height:"auto",allDaySlot:!1,slotDuration:"00:10:00",slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"timeGridDay",events:[],editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventChange:this.eventChange,eventRemove:this.removeEvent,selectConstraint:{start:new Date,end:(new Date).setDate((new Date).getDate()+8)},customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}},currentEvents:[],calendarApi:null,filterData:{dentist:0,date:""},showDeniedModal:!1,showConfirmModal:!1,ReserveInfo:{},opening:"",closing:"",activeIndexBranch:0,showeditbtn:!1,EventEditData:[]}},watch:{"filterData.dentist":function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.filterData.branch=this.reservationInfo.branchId,t.next=3,this.getApprovedListDay(this.filterData);case 3:this.calendarOptions.events=this.getActiveEvents;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},methods:Object(r["a"])({saveupdate:function(){var t=this;this.$store.dispatch("reservation/changeTimeReservation",this.EventEditData).then((function(){t.init(),t.canceledit(),t.EventEditData=[]})).catch((function(t){return console.log(t)}))},beginedit:function(){this.showeditbtn=!0,this.calendarOptions.editable=!0},canceledit:function(){this.showeditbtn=!1,this.calendarOptions.editable=!1,this.init()},format12:function(t){return Object(x["formatraw12Hour"])(t)},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReservationInfo(this.$route.params.idno);case 2:this.reservationchangedata={dentistId:this.reservationInfo.dentistId,branchId:this.reservationInfo.branchId,userId:this.reservationInfo.userId,date:this.reservationInfo.date,info:this.reservationInfo},this.$store.dispatch("branch/getListAllInfo").then(Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.branches.filter((function(t){if(t.id==e.reservationInfo.branchId)return t})),e.activeIndexBranch=e.branches.indexOf(a[0]),s=e.$refs.fullCalendar.getApi(),n=new Date(e.reservationInfo.date),s.gotoDate(n),i=n.getDay(),e.calendarOptions.slotMinTime="".concat(e.branches[e.activeIndexBranch].Schedules[i].start,":00"),e.calendarOptions.slotMaxTime="".concat(e.branches[e.activeIndexBranch].Schedules[i].end,":00"),e.opening="".concat(e.branches[e.activeIndexBranch].Schedules[i].start),e.closing="".concat(e.branches[e.activeIndexBranch].Schedules[i].end),e.filterData.date=e.reservationInfo.date,e.filterData.dentist=e.reservationInfo.dentistId,e.filterData.branch=e.reservationInfo.branchId,t.next=15,e.getApprovedListDay(e.filterData);case 15:e.calendarOptions.events=e.getActiveEvents;case 16:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),eventRender:function(t){var e="";return e=""==t.event.title?"":"<p>".concat(t.event.title,'</p><p style="color:black">gg</p><p>sdjfsdjfk</p>'),{html:e}},confirmReservation:function(){this.showConfirmModal=!0,this.ReserveInfo={branch:this.reservationInfo.Branch.branch,branchid:this.reservationInfo.Branch.id,id:this.reservationInfo.id,no:this.reservationInfo.reservationNo,userId:this.reservationInfo.userId,start:this.reservationInfo.Start,end:this.reservationInfo.End,date:this.reservationInfo.date,dentist:this.reservationInfo.dentistId,dentistname:this.reservationInfo.Dentist.fullname,treatments:this.reservationInfo.Treatments,patient:this.reservationInfo.User,minTime:this.opening,maxTime:this.closing}},deniedReservation:function(){this.showDeniedModal=!0,this.ReserveInfo={branch:this.reservationInfo.Branch.branch,branchid:this.reservationInfo.Branch.id,id:this.reservationInfo.id,no:this.reservationInfo.reservationNo,userId:this.reservationInfo.userId,start:this.reservationInfo.Start,end:this.reservationInfo.End,date:this.reservationInfo.date,dentist:this.reservationInfo.dentistId,dentistname:this.reservationInfo.Dentist.fullname,treatments:this.reservationInfo.Treatments,patient:this.reservationInfo.User}},closemodal:function(){this.showDeniedModal=!1,this.showConfirmModal=!1,this.showchangedateModal=!1},dDate:function(t){return this.$helper.formatraw12Hour(t)}},Object(l["b"])("reservation",["getReservationInfo","getApprovedListDay"]),{removeEvent:function(){alert("removed")},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect:function(t){var e=new Date(t.start),a=new Date,s=(new Date).setDate(a.getDate()+7);s=new Date(s),e>s||e<=a?alert("bawal lumabas"):alert("yehey");var n=prompt("Please enter a new title for your event"),i=t.view.calendar;i.unselect(),n&&i.addEvent({id:tr(),title:n,start:t.startStr,end:t.endStr,allDay:t.allDay,display:"background",color:"#ff9f89"})},handleEventClick:function(t){console.log(t)},handleEvents:function(t){this.currentEvents=t},eventChange:function(t){var e=this.getActiveEvents.filter((function(e){if(parseInt(e.id)===parseInt(t.event.id))return e})),a=Object(x["formatHour"])(new Date(e[0].start)),s=Object(x["formatHour"])(new Date(e[0].end)),n=Object(x["formatHour"])(t.event.start),i=Object(x["formatHour"])(t.event.end);if(a!=n||s!=i)if(0==this.EventEditData.length)this.EventEditData.push({id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(n,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00")});else{var r=this.EventEditData.filter((function(e){if(parseInt(e.id)==parseInt(t.event.id))return e}));if(0==r.length)this.EventEditData.push({id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(n,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00")});else{var o=this.EventEditData.indexOf(r[0]);this.EventEditData[o]={id:t.event.id,start:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(n,":00"),end:"".concat(Object(x["formatDate"])(t.event.start)," ").concat(i,":00")}}}else{var c=this.EventEditData.filter((function(e){if(parseInt(e.id)==parseInt(t.event.id))return e})),l=this.EventEditData.indexOf(c[0]);this.EventEditData.splice(l,1)}console.log(this.EventEditData)}}),computed:Object(r["a"])({},Object(l["d"])({reservationInfo:function(t){return t.reservation.reservationInfo},schedules:function(t){return t.schedules},dentists:function(t){return t.dentist.dentists},branches:function(t){return t.branch.branches}}),{},Object(l["c"])("reservation",["getActiveEvents"]),{type:{get:function(){var t=this.reservationInfo.type;return 0==t?"New Transaction":"Followup Transaction"}},reservationStatus:{get:function(){var t,e=this.reservationInfo.status;switch(e){case 0:t="Pending";break;case 1:t="Approved";break;case 2:t="Denied";break;case 3:t="Cancelled";break;default:break}return t}}}),mounted:function(){this.$store.dispatch("activenav","reservenav"),this.init()}},hr=pr,fr=Object(m["a"])(hr,Wi,Zi,!1,null,null,null),vr=fr.exports,gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.reservationNo,expression:"search.reservationNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.reservationNo},on:{input:function(e){e.target.composing||t.$set(t.search,"reservationNo",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])])])]),a("br"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed"},[t._m(4),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.reservationNo))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.User.fullname))]),a("td",[t._v(t._s(t.dHour(e.starttime)))]),a("td",[t._v(t._s(t.dHour(e.endtime)))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[t._v(t._s(t.getStatus(e.status)))]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.viewDetails(s)}}},[t._v("View Details")])])])})),0)])])])]),t.showDetailsModal?a("detailsModal",{attrs:{reservationInfo:t.reservationInfo},on:{closemodal:t.closemodal}}):t._e()],1)},br=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Reservation List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Reservation No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",[t._v("#")]),a("th",[t._v("Reservation No")]),a("th",[t._v("Reservation Date")]),a("th",[t._v("Patient Name")]),a("th",[t._v("Start Time")]),a("th",[t._v("End Time")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th")])])}],_r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[s("span",{staticClass:"fas fa-file-alt"}),t._v(" Reservation No "+t._s(t.reservationInfo.reservationNo))]),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[null==t.reservationInfo.User.img||""==t.reservationInfo.User.img?s("img",{staticClass:"float-right",staticStyle:{"max-height":"100px","max-width":"100px","margin-bottom":"10px"},attrs:{src:a("113c")}}):t._e(),s("img",{staticClass:"float-right",staticStyle:{"max-height":"100px","max-width":"100px","margin-bottom":"10px"},attrs:{src:t.imgUrl+"/"+t.reservationInfo.User.img}}),s("table",{staticClass:"table table-condensed"},[s("tbody",[s("tr",{staticStyle:{background:"lightgray"}},[t._m(0),s("td",[t._v(t._s(t.reservationInfo.User.fullname))]),t._m(1),s("td",[t._v(t._s(t.reservationInfo.date))])]),s("tr",[t._m(2),s("td",[t._v(t._s(t.reservationInfo.User.email))]),t._m(3),s("td",[t._v(t._s(t.dHour(t.reservationInfo.Start)))])]),s("tr",{staticStyle:{background:"lightgray"}},[t._m(4),s("td",[t._v(t._s(t.reservationInfo.User.contact))]),t._m(5),s("td",[t._v(t._s(t.dHour(t.reservationInfo.End)))])]),s("tr",[t._m(6),s("td",[t._v(t._s(t.reservationInfo.User.bday))]),t._m(7),s("td",[t._v(t._s(t.type))])]),s("tr",[t._m(8),s("td",[t._v(t._s(t.Age))]),t._m(9),s("td",[t._v(t._s(t.reservationInfo.Dentist.fullname))])]),s("tr",[t._m(10),s("td",[t._v(t._s(t.status))]),s("td",[1==t.reservationInfo.type?s("span",{staticClass:"itemtitle"},[t._v("TRANSACTION NO")]):t._e()]),s("td",[1==t.reservationInfo.type?s("span",[t._v(t._s(t.reservationInfo.Transaction.transactionNo))]):t._e()])])])]),s("table",{staticClass:"table table-condensed"},[t._m(11),s("tbody",[t._l(t.reservationInfo.Treatments,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.service))]),s("td",[t._v(t._s(e.amount))])])})),s("tr",[s("td",{staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{colspan:"2"}},[t._v("Total Amount")]),s("td",{staticStyle:{background:"white"}},[t._v(t._s(t.totalamount))])])],2)])])])])])},Cr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("PATIENT NAME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("DATE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("EMAIl ADDRESS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("START TIME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("CONTACT NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("END TIME")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("BIRTHDAY")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("TYPE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("AGE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("DENTIST")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"itemtitle"},[t._v("STATUS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"10%"}},[t._v("#")]),a("th",[t._v("Treatment")]),a("th",[t._v("Price")])])])}],yr={props:{reservationInfo:{type:Object,required:!0}},data:function(){return{errormsg:[],remarks:"",imgUrl:this.$store.state.imgUrl}},computed:{Age:{get:function(){return Object(x["calculateAge"])(this.reservationInfo.User.bday)}},status:{get:function(){var t=this.reservationInfo.status,e="";switch(t){case 0:e="Pending";break;case 1:e="Approved";break;case 2:e="Denied";break;case 3:e="Cancelled";break;default:e="Confirmed";break}return e}},totalamount:{get:function(){var t=0;return this.reservationInfo.Treatments.forEach((function(e){t+=parseFloat(e.amount)})),t}},type:{get:function(){var t,e=this.reservationInfo.type;switch(e){case 0:t="New Transaction";break;case 1:t="Followup Transaction";break;default:break}return t}}},methods:{dHour:function(t){return this.$helper.formatraw12Hour(t)},closethis:function(){this.$emit("closemodal")}},mounted:function(){}},wr=yr,xr=Object(m["a"])(wr,_r,Cr,!1,null,"89d55294",null),kr=xr.exports,Sr={data:function(){return{search:{start:"",end:"",reservationNo:""},showDetailsModal:!1,reservationInfo:{}}},methods:{viewDetails:function(t){this.reservationInfo=this.list[t],this.showDetailsModal=!0},closemodal:function(){this.showDetailsModal=!1},getStatus:function(t){var e;switch(t){case 0:e="Pending";break;case 1:e="Approved";break;case 2:e="Denied";break;case 3:e="Cancelled";break;default:e="Confirmed";break}return e},dHour:function(t){return Object(x["format12Hour"])(t)},searchProceed:function(){this.$store.dispatch("reservation/list",this.search)}},computed:Object(r["a"])({},Object(l["d"])({list:function(t){return t.reservation.list}})),mounted:function(){this.$store.dispatch("activenav","reservenav");var t=new Date;this.search.start=Object(x["formatDate"])(new Date(t.getFullYear(),t.getMonth(),1)),this.search.end=Object(x["formatDate"])(new Date(t.getFullYear(),t.getMonth()+1,0)),this.$store.dispatch("reservation/list",this.search)},components:{detailsModal:kr}},$r=Sr,Er=Object(m["a"])($r,gr,br,!1,null,null,null),Dr=Er.exports,Ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"btn btn-danger float-right",on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.dentist,expression:"search.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"dentist",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"All"}},[t._v("All")]),t._l(t.branches[t.activebranchIndex].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])}))],2)])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.status,expression:"search.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"All"}},[t._v("All")]),a("option",{attrs:{value:"1"}},[t._v("Approved")]),a("option",{attrs:{value:"3"}},[t._v("Cancelled")]),a("option",{attrs:{value:"4"}},[t._v("Confirmed")]),a("option",{attrs:{value:"2"}},[t._v("Denied")])])])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.reservationNo,expression:"search.reservationNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.reservationNo},on:{input:function(e){e.target.composing||t.$set(t.search,"reservationNo",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])])])]),a("br"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-condensed table-striped"},[t._m(6),a("tbody",t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.reservationNo))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.User.fullname))]),a("td",[t._v(t._s(t.dHour(e.Start)))]),a("td",[t._v(t._s(t.dHour(e.End)))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[t._v(t._s(t.getStatus(e.status)))]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.viewDetails(s)}}},[t._v("View Details")])])])})),0)])])])]),t.showDetailsModal?a("detailsModal",{attrs:{reservationInfo:t.reservationInfo},on:{closemodal:t.closemodal}}):t._e()],1)},Tr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Appointment List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Appointment No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",[t._v("#")]),a("th",[t._v("Appointment No")]),a("th",[t._v("Appointment Date")]),a("th",[t._v("Patient Name")]),a("th",[t._v("Start Time")]),a("th",[t._v("End Time")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th")])])}],Nr={data:function(){return{search:{start:"",end:"",reservationNo:"",dentist:"All",status:"All"},showDetailsModal:!1,reservationInfo:{},activebranchIndex:0}},methods:{findDentistName:function(t){var e=this.branches[this.activebranchIndex].Dentists.filter((function(e){if(e.id==t)return e})),a=this.branches[this.activebranchIndex].Dentists.indexOf(e[0]);return this.branches[this.activebranchIndex].Dentists[a].fullname},printPDF:function(){var t=this,e=this.list.map((function(e){return[e.reservationNo,e.date,e.User.fullname,t.dHour(e.Start),t.dHour(e.End),e.Dentist.fullname,t.getStatus(e.status)]}));e.sort(),e.unshift(["REFERENCE NO","DATE","PATIENT","START TIME","END TIME","DENTIST","STATUS"]);var a="All"==this.search.status?"All":this.getStatus(parseInt(this.search.status)),s="All"==this.search.dentist?"All":this.findDentistName(parseInt(this.search.dentist)),n={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Appointments Records"),alignment:"center",margin:[0,0,0,20]},{columns:[{text:"Start Date: ".concat(this.$helper.formatBdayDate(this.search.start))},{text:"Dentist: ".concat(s)}]},{columns:[{text:"End Date: ".concat(this.$helper.formatBdayDate(this.search.end))},{text:"Status: ".concat(a)}]},"\n",{table:{widths:["auto","auto","*","auto","auto","*","auto"],body:e}}]};this.$pdfMake.createPdf(n).open()},viewDetails:function(t){this.reservationInfo=this.list[t],this.showDetailsModal=!0},closemodal:function(){this.showDetailsModal=!1},getStatus:function(t){var e;switch(t){case 0:e="Pending";break;case 1:e="Approved";break;case 2:e="Denied";break;case 3:e="Cancelled";break;default:e="Confirmed";break}return e},dHour:function(t){return this.$helper.formatraw12Hour(t)},searchProceed:function(){this.search.branch=this.branches[this.activebranchIndex].id,this.$store.dispatch("reservation/list",this.search)},changeFilterbranch:function(t,e){this.search.dentist="All";for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.$store.dispatch("reservation/list",this.search)}},computed:Object(r["a"])({},Object(l["d"])({list:function(t){return t.reservation.list},branches:function(t){return t.branch.branches}})),mounted:function(){var t=this;this.$store.dispatch("branch/getListDentist").then((function(e){var a=new Date;t.search.start=Object(x["formatDate"])(new Date(a.getFullYear(),a.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(a.getFullYear(),a.getMonth()+1,0)),t.changeFilterbranch(e[0].id,0)})).catch((function(t){return console.log(t)})),this.$store.dispatch("activenav","reservenav")},components:{detailsModal:kr}},Ar=Nr,Or=Object(m["a"])(Ar,Ir,Tr,!1,null,null,null),Pr=Or.exports,Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body",staticStyle:{background:"dimgray",padding:"0 10px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.patient.prescriptionNo,expression:"patient.prescriptionNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.patient.prescriptionNo},on:{input:function(e){e.target.composing||t.$set(t.patient,"prescriptionNo",e.target.value)}}})])]),a("div",{staticClass:"col col-md-4"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.patient.name,expression:"patient.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.patient.name},on:{input:function(e){e.target.composing||t.$set(t.patient,"name",e.target.value)}}})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"card",staticStyle:{height:"450px"}},[t._m(2),a("div",{staticClass:"card-body",staticStyle:{"overflow-y":"auto !important",padding:"0","overflow-x":"hidden"}},[a("table",{staticClass:"table table-bordered",staticStyle:{padding:"0",margin:"0"}},[a("tbody",t._l(t.items,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.code))]),a("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.medicine)+" ( "+t._s(e.brand)+" )")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.description))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.price))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.stocks))]),a("td",{staticStyle:{width:"10%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.quantity},on:{change:function(e){return t.updateQtyAmount(s)},input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}})]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.amountvalue))]),a("td",{staticStyle:{width:"5%"}},[a("button",{on:{click:function(a){return t.remove(e)}}},[a("span",{staticClass:"fa fa-times"})])])])})),0)])])])])]),a("div",{staticClass:"card",staticStyle:{background:"black",color:"lime"}},[a("div",{staticClass:"card-body"},[a("span",{staticClass:"float-right",staticStyle:{"font-size":"20pt","font-weight":"bold"}},[t._v("TOTAL AMOUNT: P "+t._s(t.totalAmount))])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-primary",staticStyle:{"font-size":"16pt"},on:{click:function(e){t.showItemListModal=!0}}},[a("span",{staticClass:"fa fa-medkit"}),t._v(" Item List ")])]),a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-primary",staticStyle:{"font-size":"16pt"},on:{click:function(e){return t.clearTable()}}},[a("span",{staticClass:"fa fa-recycle"}),t._v(" Clear Table ")])]),a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-primary",staticStyle:{"font-size":"16pt"},on:{click:function(e){t.showlistModal=!0}}},[a("span",{staticClass:"fa fa-scroll"}),t._v(" View Past Transactions ")])]),t._m(3),t._m(4),t._m(5)])]),a("div",{staticClass:"col col-md-3"},[a("button",{staticClass:"form-control btn btn-default",staticStyle:{"font-size":"16pt",height:"100%",background:"#3258CA",color:"white"},on:{click:function(e){return t.checkout()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Checkout ")])])])]),t.showItemListModal?a("itemListModal",{attrs:{branch:t.branches[t.activebranchIndex].id},on:{closemodal:t.closemodal,addtoCart:t.addtoCart}}):t._e(),t.showcheckoutModal?a("checkoutModal",{attrs:{branch:t.branches[t.activebranchIndex].id,totalAmount:t.totalAmount,patient:t.patient,items:t.items},on:{closemodal:t.closemodal}}):t._e(),t.showlistModal?a("listModal",{attrs:{branch:t.branches[t.activebranchIndex].id},on:{closemodal:t.closemodal}}):t._e()],1)},jr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Prescription No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Patient Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{background:"#343A40",padding:"0"}},[a("table",{staticClass:"table table-condensed",staticStyle:{margin:"0",padding:"0"}},[a("thead",[a("tr",{staticStyle:{color:"white"}},[a("th",{staticStyle:{width:"10%"}},[t._v("Code")]),a("th",{staticStyle:{width:"20%"}},[t._v("Product")]),a("th",{staticStyle:{width:"25%"}},[t._v("Description")]),a("th",{staticStyle:{width:"10%"}},[t._v("Price")]),a("th",{staticStyle:{width:"10%"}},[t._v("Stocks")]),a("th",{staticStyle:{width:"10%"}},[t._v("Qty")]),a("th",{staticStyle:{width:"10%"}},[t._v("Amount")]),a("th",{staticStyle:{width:"5%"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-default",staticStyle:{"font-size":"16pt"},attrs:{disabled:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-default",staticStyle:{"font-size":"16pt"},attrs:{disabled:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-md-4"},[a("button",{staticClass:"form-control btn btn-default",staticStyle:{"font-size":"16pt"},attrs:{disabled:""}})])}],Rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:" ... Product Name or Product Code"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("div",{staticClass:"card",staticStyle:{height:"450px"}},[t._m(2),a("div",{staticClass:"card-body",staticStyle:{"overflow-y":"auto !important",padding:"0","overflow-x":"hidden"}},[a("table",{staticClass:"table table-bordered",staticStyle:{padding:"0",margin:"0"}},t._l(t.medicines,(function(e,s){return a("tr",{key:s,staticStyle:{cursor:"pointer"},on:{dblclick:function(a){return t.addtoCart(e)}}},[a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.code))]),a("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.medicine)+" ( "+t._s(e.brand)+" )")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.description))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.price))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.stocks))]),a("td",{staticStyle:{width:"10%"}},[t._v(t._s(e.uom))]),a("td",{staticStyle:{"text-align":"right",width:"10%"}},[a("button",{on:{click:function(a){return t.addtoCart(e)}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])])})),0)])])])])])])])])])},Ur=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fas fa-medkit"}),t._v(" Item List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Search Product")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{background:"#343A40",padding:"0"}},[a("table",{staticClass:"table table-condensed",staticStyle:{margin:"0",padding:"0"}},[a("thead",[a("tr",{staticStyle:{color:"white"}},[a("th",{staticStyle:{width:"10%"}},[t._v("Code")]),a("th",{staticStyle:{width:"20%"}},[t._v("Product")]),a("th",{staticStyle:{width:"25%"}},[t._v("Description")]),a("th",{staticStyle:{width:"10%"}},[t._v("Price")]),a("th",{staticStyle:{width:"10%"}},[t._v("Stocks")]),a("th",{staticStyle:{width:"10%"}},[t._v("Uom")]),a("th",{staticStyle:{width:"10%"}})])])])])}],Fr={props:{branch:{type:Number,required:!0}},data:function(){return{errormsg:[],doneTypingInterval:1e3,typingTimer:"",search:""}},watch:{search:function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){var a={search:t,branch:e.branch,type:1};e.$store.dispatch("medicine/search",a)}),this.doneTypingInterval):this.$store.dispatch("medicine/getList",{branch:this.branch,type:1})}},computed:Object(r["a"])({},Object(l["d"])({medicines:function(t){return t.medicine.medicines}})),methods:{closethis:function(){this.$emit("closemodal")},addtoCart:function(t){0==t.stocks?this.$swal("No Stocks","","warning"):this.$emit("addtoCart",t)}},mounted:function(){this.$store.dispatch("medicine/getList",{branch:this.branch,type:1})}},Lr=Fr,Br=Object(m["a"])(Lr,Rr,Ur,!1,null,"085009b4",null),zr=Br.exports,Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.totalAmount,expression:"totalAmount"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.totalAmount},on:{input:function(e){e.target.composing||(t.totalAmount=e.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.finalamount,expression:"finalamount"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"number",readonly:""},domProps:{value:t.finalamount},on:{input:function(e){e.target.composing||(t.finalamount=e.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.payment},on:{input:function(e){e.target.composing||(t.payment=e.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.change,expression:"change"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.change},on:{input:function(e){e.target.composing||(t.change=e.target.value)}}})]),a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.proceed()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Proceed")])])])])])},Yr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fas fa-medkit"}),t._v(" Item List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("subtotal Amount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Discount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Total Amount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Payment")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Change")])])}],qr={props:{patient:{type:Object,required:!0},items:{type:Array,required:!0},totalAmount:{type:Number,required:!0},branch:{type:Number,required:!0}},data:function(){return{errormsg:[],change:0,payment:0,discount:0,finalamount:0}},watch:{discount:function(t){t<0&&(this.discount=0),this.finalamount=this.totalAmount-t},payment:function(t){this.change=isNaN(parseFloat(t)-parseFloat(this.finalamount))?0:parseFloat(t)-parseFloat(this.finalamount)}},computed:{},methods:{proceed:function(){var t=this,e={patient:this.patient,items:this.items,totalAmount:this.finalamount,payment:this.payment,branch:this.branch,discount:this.discount};parseFloat(this.change)<0||parseFloat(this.payment)<=0?this.$swal("Insufficient Payment","","warning"):this.$store.dispatch("transaction/createBillPharmarcy",e).then((function(e){if(e.data.errors)t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show");else{var a=e.data.data;t.closethis(),t.$router.push({name:"invoiceInfo",params:{idno:a}})}})).catch((function(t){return console.log(t)}))},closethis:function(){this.$emit("closemodal")}},mounted:function(){this.finalamount=this.totalAmount-this.discount}},Vr=qr,Gr=Object(m["a"])(Vr,Hr,Yr,!1,null,null,null),Jr=Gr.exports,Wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.refno,expression:"refno"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Reference Number"},domProps:{value:t.refno},on:{input:function(e){e.target.composing||(t.refno=e.target.value)}}})]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-primary form-control",on:{click:t.init}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(1),a("tbody",t._l(t.pharmacyTransactions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.billrefNo))]),a("td",[t._v(t._s(t.dDate(e.createdAt)))]),a("td",[t._v(t._s(e.modifiedBy))]),a("td",[t._v(t._s(t.subtotal(e.Billitems)))]),a("td",[t._v(t._s(e.discount))]),a("td",[t._v(t._s(t.subtotal(e.Billitems)-e.discount))]),a("td",[a("a",{attrs:{target:"_blank",href:"../pharmacy/sale/invoice/"+e.id}},[t._v("purchase receipt")])])])})),0)]),a("div",{staticStyle:{"text-align":"center"}},[a("span",[t._v("Page "+t._s(t.page))])]),a("button",{staticClass:"btn btn-default float-left",attrs:{disabled:1==t.page},on:{click:t.prev}},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Prev")]),a("button",{staticClass:"btn btn-default float-right",on:{click:t.next}},[t._v("Next "),a("span",{staticClass:"fa fa-arrow-right"})])])])])])},Zr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-file-alt"}),t._v(" Purchase Records")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Reference No")]),a("th",[t._v("Date Time")]),a("th",[t._v("Staff")]),a("th",[t._v("SubTotal Amount")]),a("th",[t._v("Discount")]),a("th",[t._v("Total Amount")]),a("th")])])}],Qr={props:{branch:{type:Number,required:!0}},data:function(){return{page:1,refno:"",limit:50}},watch:{},computed:Object(r["a"])({},Object(l["d"])({pharmacyTransactions:function(t){return t.transaction.pharmacyTransactions}})),methods:{prev:function(){this.page--,this.init()},next:function(){this.page++,this.init()},init:function(){this.$store.dispatch("transaction/getPastListPharmacy",{branch:this.branch,refno:this.refno,page:this.page,limit:this.limit})},closethis:function(){this.$emit("closemodal")},dDate:function(t){return"".concat(this.$helper.formatDate(t)," ").concat(this.$helper.format12Hour(t))},subtotal:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.amount)})),e}},mounted:function(){this.init()}},Kr=Qr,Xr=Object(m["a"])(Kr,Wr,Zr,!1,null,null,null),to=Xr.exports,eo={components:{itemListModal:zr,checkoutModal:Jr,listModal:to},data:function(){return{activebranchIndex:0,items:[],showItemListModal:!1,totalAmount:0,patient:{name:null,id:null,prescriptionId:null,prescriptionNo:null},doneTypingInterval:1e3,typingTimer:"",showcheckoutModal:!1,showlistModal:!1}},watch:{"patient.prescriptionNo":function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){e.$store.dispatch("transaction/getPrescriptInfoByRef",e.patient.prescriptionNo).then((function(){e.patient.name=e.prescriptInfo.Transaction.User.fullname,e.patient.id=e.prescriptInfo.Transaction.userId,e.patient.prescriptionId=e.prescriptInfo.id}))}),this.doneTypingInterval):(this.patient.id=null,this.patient.prescriptionId=null)}},computed:Object(r["a"])({},Object(l["d"])({prescriptInfo:function(t){return t.transaction.prescriptInfo},branches:function(t){return t.branch.branches}})),methods:{checkout:function(){0==this.items.length?this.$swal("No items in the cart","empty cart","warning"):this.showcheckoutModal=!0},calculateTotal:function(){var t=0;return this.items.forEach((function(e){t+=parseFloat(e.amountvalue)})),t},closemodal:function(){this.showItemListModal=!1,this.showcheckoutModal=!1,this.showlistModal=!1},clearTable:function(){this.items=[],this.totalAmount=this.calculateTotal()},refreshData:function(t){var e=this.items[t].price;this.items[t].price="",this.items[t].price=e},updateQtyAmount:function(t){this.items[t].quantity>this.items[t].stocks&&(this.$swal("Insufficient stocks","","warning"),this.refreshData(t),this.items[t].quantity=1),this.items[t].quantity<1&&(this.items[t].quantity=1),this.items[t].amountvalue=parseFloat(this.items[t].quantity)*parseFloat(this.items[t].price),this.refreshData(t),this.totalAmount=this.calculateTotal()},remove:function(t){var e=this.items.indexOf(t);this.items.splice(e,1),this.totalAmount=this.calculateTotal()},addtoCart:function(t){if(t.quantity=1,t.amountvalue=1*parseFloat(t.price),0==this.items.length)this.items.push(t);else{var e=this.items.filter((function(e){if(t.id==e.id)return e}));0==e.length&&this.items.push(t)}this.totalAmount=this.calculateTotal()},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activebranchIndex=t,this.clearTable()}},mounted:function(){this.$store.dispatch("activenav","pharmacynav"),this.$store.dispatch("branch/getList")}},ao=eo,so=Object(m["a"])(ao,Mr,jr,!1,null,null,null),no=so.exports,io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("button",{staticClass:"noprint float-left",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v(" Print")]),a("hr"),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.billinfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.billinfo.Branch.address)+" ( Contact No: "+t._s(t.billinfo.Branch.contact)+" Email Address: "+t._s(t.billinfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.billinfo.Branch.tin))])]),t._m(0),a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("Reference No:")]),a("td",[t._v(t._s(t.billinfo.billrefNo))]),a("td",[t._v("Date:")]),a("td",[t._v(t._s(t.dDate(t.billinfo.createdAt)))])]),a("tr",[a("td",[t._v("Branch:")]),a("td",[t._v(t._s(t.billinfo.Branch.branch))]),a("td",[t._v("Address:")]),a("td",[t._v(t._s(t.billinfo.Branch.address))])]),a("tr",[a("td",[t._v("Staff:")]),a("td",[t._v(t._s(t.billinfo.modifiedBy))]),a("td"),a("td")])])]),a("br"),a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",[t._l(t.billinfo.Billitems,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.item))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.price))]),a("td",[t._v(t._s(e.amount))])])})),a("tr",[a("td",{attrs:{colspan:"3"}}),a("td",[t._v("Subtotal Amount:")]),a("td",[t._v(t._s(t.totalRawAmount))])]),a("tr",[a("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}}),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v("Discount:")]),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v(t._s(t.billinfo.discount))])]),a("tr",[a("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}}),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v("Total Amount:")]),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v(t._s(t.totalRawAmount-t.billinfo.discount))])]),t._m(2),a("tr",[a("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}}),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v("Amount Received:")]),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v(t._s(t.billinfo.payment+t.billinfo.change))])]),a("tr",[a("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}}),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v("Changed:")]),a("td",{staticStyle:{border:"none","padding-top":"0"}},[t._v(t._s(t.billinfo.change))])])],2)]),a("div",{staticStyle:{"text-align":"left"}},[a("barcode",{attrs:{value:t.billinfo.billrefNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)])])])])},ro=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("PURCHASE RECEIPT")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Item")]),a("th",[t._v("Quantity")]),a("th",{staticStyle:{width:"20%"}},[t._v("Price")]),a("th",{staticStyle:{width:"20%"}},[t._v("Amount")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}}),a("td",{attrs:{colspan:"2"}})])}],oo=a("f579"),co=a.n(oo),lo={components:{barcode:co.a},methods:{dDate:function(t){return this.$helper.formatBdayDate(t)},back:function(){this.$router.go(-1)},print:function(){window.print()}},computed:Object(r["a"])({},Object(l["d"])({billinfo:function(t){return t.transaction.billinfo}}),{totalRawAmount:{get:function(){var t=0;return this.billinfo.Billitems.forEach((function(e){t+=parseFloat(e.amount)})),t}}}),mounted:function(){this.$store.dispatch("activenav","pharmacynav"),this.$store.dispatch("transaction/viewBill",this.$route.params.idno)}},uo=lo,mo=(a("1490"),Object(m["a"])(uo,io,ro,!1,null,null,null)),po=mo.exports,ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changerecord("record_transactionlist")}}},[t._m(1)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changerecord("dataReservationList")}}},[t._m(2)])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changerecord("record_pharmacyPurchaselist")}}},[t._m(3)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changerecord("record_billinglist")}}},[t._m(4)])])])])},fo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Records Search")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Transactions")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-info text-uppercase mb-1"},[t._v("Appointments")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Pharmacy Purchase Receipt")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-info shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-info text-uppercase mb-1"},[t._v("Billings")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])}],vo={methods:{changerecord:function(t){this.$router.push({name:t})}},mounted:function(){this.$store.dispatch("activenav","reportnav")}},go=vo,bo=(a("4092"),Object(m["a"])(go,ho,fo,!1,null,"06612c54",null)),_o=bo.exports,Co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("appointment_daily")}}},[t._m(2)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("appointment_monthly")}}},[t._m(3)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("appointment_yearly")}}},[t._m(4)])]),a("hr"),t._m(5),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("sale_daily")}}},[t._m(6)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("sale_monthly")}}},[t._m(7)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("sale_yearly")}}},[t._m(8)])]),a("hr"),t._m(9),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("pharmacy_daily")}}},[t._m(10)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("pharmacy_monthly")}}},[t._m(11)]),a("div",{staticClass:"col-xl-3 col-md-6 mb-4 reports",on:{click:function(e){return t.changesale("pharmacy_yearly")}}},[t._m(12)])]),a("hr")])])},yo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-dollar-sign"}),t._v(" Reports")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"reporttitle"},[a("span",{staticClass:"fa fa-calendar"}),t._v(" Appointments")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-warning shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-warning text-uppercase mb-1"},[t._v("Daily / Weekly (Date Range)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-warning shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-warning text-uppercase mb-1"},[t._v("Monthly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-warning shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-warning text-uppercase mb-1"},[t._v("Yearly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"reporttitle"},[a("span",{staticClass:"fa fa-wrench"}),t._v(" Treatments")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Daily / Weekly (Date Range)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Monthly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-success shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-success text-uppercase mb-1"},[t._v("Yearly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"reporttitle"},[a("span",{staticClass:"fa fa-medkit"}),t._v(" Pharmacy Earnings")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Daily / Weekly (Date Range)")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Monthly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row no-gutters align-items-center"},[a("div",{staticClass:"col mr-2"},[a("div",{staticClass:"text-lg font-weight-bold text-primary text-uppercase mb-1"},[t._v("Yearly")])]),a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-file-alt fa-2x text-gray-500"})])])])])}],wo={methods:{changesale:function(t){this.$router.push({name:t})}},mounted:function(){this.$store.dispatch("activenav","reportnav")}},xo=wo,ko=(a("7e67"),Object(m["a"])(xo,Co,yo,!1,null,"22cd3b4f",null)),So=ko.exports,$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"printdiv",staticStyle:{padding:"10px 0%"}},[a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Bill Reference No: "+t._s(t.billinfo.billrefNo))]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v("Print")]),a("hr",{staticClass:"noprint"}),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.billinfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.billinfo.Branch.address)+" ( Contact No: "+t._s(t.billinfo.Branch.contact)+" Email Address: "+t._s(t.billinfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.billinfo.Branch.tin))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._m(0),a("table",{staticClass:"table table-bordered table-condensed billtable"},[a("tr",[a("td",{staticStyle:{width:"50%"},attrs:{rowspan:"5"}},[a("span",{staticStyle:{"font-weight":"bold","font-size":"1.5em"}},[t._v(t._s(t.billinfo.customerName.toUpperCase()))]),a("br"),a("span",[t._v(t._s(t.billinfo.User.address.toUpperCase()))]),a("br"),a("span",[t._v(t._s(t.billinfo.User.email))])])]),t._m(1),a("tr",[a("td",[t._v(t._s(t.billinfo.billrefNo))]),a("td",[t._v(t._s(t.billdate))])]),t._m(2),a("tr",[a("td",[t._v(t._s(t.billinfo.Transaction.transactionNo))]),a("td",[t._v(t._s(t.billtype))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-bordered billtable",staticStyle:{width:"101%"}},[t._m(3),t._m(4),a("tr",[a("td",{staticClass:"itemvalue"},[t._v(t._s(t.billinfo.totalAmount))]),a("td",{staticClass:"itemvalue"},[0==t.billinfo.type?a("span",[t._v(t._s(t.billinfo.payment))]):t._e()]),a("td",{staticClass:"itemvalue"},[1==t.billinfo.type?a("span",[t._v(t._s(t.billinfo.payment))]):t._e()]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.billinfo.totalAmount-t.billinfo.payment))])])])]),a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-bordered billtable",staticStyle:{width:"100%"}},[t._m(5),a("tr",[a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.healthcardname))])]),a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.healthcardno))])])]),t._m(6),a("tr",[a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.accountname))])]),a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.accountNo))])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("span",{staticStyle:{"margin-left":"5px","font-size":"16pt","font-style":"italic"}},[t._v("Transaction Treatments")]),a("table",{staticClass:"border"},[t._m(7),t._l(t.billinfo.Transaction.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.actualAmount))]),a("td",{staticStyle:{width:"10%"}},["healthcard"==e.paymentmethod?a("span",[t._v(t._s(e.paymentmethod))]):t._e()])])})),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Total Transaction Amount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.totalAmount))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Discount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.Transaction.discount))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Grand Total Amount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.totalAmount-t.billinfo.Transaction.discount))])]),t._m(8),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Amount Received: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.payment+t.billinfo.change))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Change: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.change))])])],2)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("span",{staticStyle:{"margin-left":"5px","font-size":"16pt","font-style":"italic"}},[t._v("Previous Payments")]),a("table",{staticClass:"border billtable"},[t._m(9),t._l(this.previousPayments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.billrefNo))]),a("td",[t._v(t._s(t.dDatetime(e.createdAt)))]),a("td",[t._v(t._s(e.payment))]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("Healthcard")])]),a("td",[t._v(t._s(e.totalAmount-e.payment))])])})),t._m(10)],2)])]),a("div",[a("barcode",{attrs:{value:t.billinfo.billrefNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)])])])])},Eo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("PAYMENT RECEIPT")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%"}},[t._v("Billing Reference No")]),a("td",{staticClass:"itemtitle"},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle"},[t._v("Transaction Reference No")]),a("td",{staticClass:"itemtitle"},[t._v("Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","vertical-align":"middle","text-align":"center"},attrs:{rowspan:"2"}},[t._v("AMOUNT TO BE PAID")]),a("td",{staticClass:"itemtitle",staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("PAYMENT")]),a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","vertical-align":"middle","text-align":"center"},attrs:{rowspan:"2"}},[t._v("BALANCE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","text-align":"center"}},[t._v("CASH")]),a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","text-align":"center"}},[t._v("HEALTHCARD")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"50%"}},[t._v("HEALTHCARD NAME")]),a("td",{staticClass:"itemtitle"},[t._v("HEALTHCARD NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"50%"}},[t._v("ACCOUNT NAME")]),a("td",{staticClass:"itemtitle"},[t._v("ACCOUNT NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticStyle:{width:"10%"}},[t._v("#")]),a("td",[t._v("Treatment")]),a("td",[t._v("Price")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"4"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticStyle:{width:"10%"}},[t._v("#")]),a("td",[t._v("Reference No")]),a("td",[t._v("Date")]),a("td",[t._v("Payment")]),a("td",[t._v("Type")]),a("td",[t._v("Balance")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("-")]),a("td"),a("td"),a("td"),a("td"),a("td")])}],Do={components:{barcode:co.a},computed:Object(r["a"])({previousPayments:{get:function(){var t=this,e=this.billinfo.Transaction.Billings.filter((function(e){if(e.id<t.billinfo.id)return e}));return e}}},Object(l["d"])({billinfo:function(t){return t.transaction.billinfo}}),{billdate:{get:function(){return"".concat(Object(x["formatBdayDate"])(this.billinfo.createdAt)," ").concat(Object(x["format12Hour"])(this.billinfo.createdAt))}},billtype:{get:function(){return 0==this.billinfo.type?"CASH":"HEALTHCARD"}},totalAmount:{get:function(){var t=0;return this.billinfo.Transaction.Treatments.forEach((function(e){t+=parseFloat(e.actualAmount)})),t}},AlreadyPaidAmount:{get:function(){var t=0;return this.billinfo.Transaction.Billings.forEach((function(e){t+=+e.payment})),t}},AmountToBePaid:{get:function(){var t=0,e=this.totalAmount;return t=e-this.AlreadyPaidAmount,t}}}),methods:{dDatetime:function(t){return"".concat(Object(x["formatBdayDate"])(t)," ").concat(Object(x["format12Hour"])(t))},print:function(){window.print()}},mounted:function(){this.$store.dispatch("activenav","patientnav"),this.$store.dispatch("transaction/viewBill",this.$route.params.idno)}},Io=Do,To=(a("bcf7"),Object(m["a"])(Io,$o,Eo,!1,null,null,null)),No=To.exports,Ao=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid"},[t._m(0),s("hr"),s("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,a){return s("li",{key:a,staticClass:"nav-item"},[s("a",0==a?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(a)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(a)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),s("table",{staticClass:"table table-condensed table-striped"},[t._m(1),s("tbody",t._l(t.feedbackFinal,(function(e,n){return s("tr",{key:n},[s("td",[t._v(t._s(t.dDate(e.createdAt)+" "+t.dHour(e.createdAt)))]),s("td",t._l(e.stararray,(function(t,e){return s("img",{key:e,staticStyle:{height:"20px",width:"20px"},attrs:{src:a("026f")}})})),0),s("td",{staticStyle:{padding:"0"}},[s("div",{staticStyle:{display:"inline",float:"left","margin-right":"20px"}},[s("img",{staticStyle:{"border-radius":"50%",padding:"0",height:"50px",width:"50px"},attrs:{src:t.imgUrl+"/"+e.User.img}})]),s("div",{staticStyle:{display:"inline",float:"left"}},[s("span",[t._v(t._s(e.User.fullname)),s("br"),s("small",[t._v(t._s(e.User.email))])])])]),s("td",[t._v(t._s(e.message))])])})),0)])])])},Oo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-star"}),t._v(" Patient(s) Feedbacks for this month")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#3B61D1",color:"white"}},[a("th",{staticStyle:{width:"20%"}},[t._v("Date")]),a("th",[t._v("Rating")]),a("th",[t._v("Patient")]),a("th",[t._v("Comment")])])])}],Po={data:function(){return{activeIndexBranch:0,imgUrl:this.$store.state.imgUrl}},methods:{dHour:function(t){return Object(x["format12Hour"])(t)},dDate:function(t){return Object(x["formatBdayDate"])(t)},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activeIndexBranch=t,this.$store.dispatch("feedback/adminget",this.branches[this.activeIndexBranch].id)}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches}}),{},Object(l["c"])("feedback",["feedbackFinal"])),mounted:function(){var t=this;this.$store.dispatch("activenav","backendfeedbacknav"),this.$store.dispatch("branch/getList").then((function(){return t.$store.dispatch("feedback/adminget",t.branches[t.activeIndexBranch].id)})).then((function(){})).catch((function(t){return console.log(t)}))}},Mo=Po,jo=Object(m["a"])(Mo,Ao,Oo,!1,null,null,null),Ro=jo.exports,Uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("button",{staticClass:"noprint float-left",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v(" Print")]),a("hr",{staticClass:"noprint"}),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body",staticStyle:{padding:"10px 5%"}},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.transactionInfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.transactionInfo.Branch.address)+" ( Contact No: "+t._s(t.transactionInfo.Branch.contact)+" Email Address: "+t._s(t.transactionInfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.transactionInfo.Branch.tin))])]),t._m(0),a("hr"),a("span",{staticClass:"medmessage"},[t._v("To whom it may concern: ")]),a("br"),a("div",{staticStyle:{margin:"30px 0px"}},[a("span",{staticClass:"medmessage",staticStyle:{"margin-left":"4rem"}},[t._v("This is to certify that Mr. / Mrs. / Ms. "),a("strong",[t._v(t._s(t.transactionInfo.User.fullname))]),t._v(" was examined / treated at Anza - Yap Dental clinic ("+t._s(t.transactionInfo.Branch.branch)+") on "+t._s(t.formatBdayDate(t.transactionInfo.transactionDate))+". ")])]),a("hr"),a("span",{staticClass:"medmessage"},[t._v("TREATMENTS")]),a("table",{staticClass:"table table-condensed"},[t._m(1),a("tbody",t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[a("span",{staticClass:"medmessage"},[t._v(t._s(s+1))])]),a("td",[a("span",{staticClass:"medmessage"},[t._v(t._s(e.service))])])])})),0)]),a("br"),a("span",{staticClass:"medmessage"},[t._v("REMARKS: "+t._s(t.transactionInfo.medRemarks))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transactionInfo.medRemarks,expression:"transactionInfo.medRemarks"}],staticClass:"form-control noprint",domProps:{value:t.transactionInfo.medRemarks},on:{change:function(e){return t.updateremarks()},input:function(e){e.target.composing||t.$set(t.transactionInfo,"medRemarks",e.target.value)}}}),a("div",{staticStyle:{margin:"30px 0px"}},[a("span",{staticClass:"medmessage",staticStyle:{"margin-left":"4rem"}},[t._v("This was issued upon the request of Mr. / Mrs. / Ms. "),a("strong",[t._v(t._s(t.transactionInfo.User.fullname))]),t._v(" for whatever purpose it may serve. ")])]),a("div",{staticStyle:{"margin-top":"120px"}},[a("span",{staticClass:"medmessage"},[t._v("Dentist : "+t._s(t.transactionInfo.Dentist.fullname))]),a("br"),a("span",{staticClass:"medmessage"},[t._v("Lic No : "+t._s(t.transactionInfo.Dentist.licence))]),a("br"),a("span",{staticClass:"medmessage"},[t._v("PTR : "+t._s(t.transactionInfo.Dentist.ptr))]),a("br")])])])])])},Fo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("MEDICAL CERTIFICATE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"15%"}},[a("span",{staticClass:"medmessage"},[t._v("#")])]),a("th",[a("span",{staticClass:"medmessage"},[t._v("Treatment")])])])])}],Lo={data:function(){return{doneTypingInterval:500,typingTimer:""}},watch:{"transactionInfo.medRemarks":function(t,e){var a=this;clearTimeout(this.typingTimer),t!=e&&(this.typingTimer=setTimeout((function(){a.$store.dispatch("transaction/saveMedRemarks",{message:t,id:a.$route.params.idno})}),this.doneTypingInterval))}},methods:Object(r["a"])({},Object(l["b"])("transaction",["getTransaction"]),{print:function(){window.print()},back:function(){this.$router.go(-1)},formatBdayDate:function(t){return Object(x["formatBdayDate"])(t)}}),computed:Object(r["a"])({},Object(l["d"])({transactionInfo:function(t){return t.transaction.transactionInfo}})),mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("activenav","patientnav"),e.next=3,t.getTransaction(t.$route.params.idno);case 3:case"end":return e.stop()}}),e)})))()}},Bo=Lo,zo=(a("1e2f"),Object(m["a"])(Bo,Uo,Fo,!1,null,"0a6e4846",null)),Ho=zo.exports,Yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"printdiv",staticStyle:{padding:"10px 0%"}},[a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Transaction No: "+t._s(t.transactionInfo.transactionNo))]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v("Print")]),a("hr",{staticClass:"noprint"}),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.transactionInfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.transactionInfo.Branch.address)+" ( Contact No: "+t._s(t.transactionInfo.Branch.contact)+" Email Address: "+t._s(t.transactionInfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.transactionInfo.Branch.tin))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._m(0),a("table",{staticClass:"border"},[t._m(1),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("FULLNAME")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.fullname))]),a("td",{staticClass:"itemtitle"},[t._v("EMAIL ADDRESS")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.email))]),a("td",{staticClass:"itemtitle"},[t._v("CONTACT NO")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.contact))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("BIRTHDAY")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.bday))]),a("td",{staticClass:"itemtitle"},[t._v("AGE")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.age))]),a("td",{staticClass:"itemtitle"},[t._v("GENDER")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.gender))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("ADDRESS")]),a("td",{staticClass:"itemvalue",attrs:{colspan:"5"}},[t._v(t._s(t.transactionInfo.User.address))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("MEDICAL HISTORY")]),a("td",{staticClass:"itemvalue",attrs:{colspan:"5"}},[t._v(t._s(t.transactionInfo.User.history))])])]),a("table",{staticClass:"border",staticStyle:{"margin-top":"20px"}},[t._m(2),a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("TRANSACTION NO")]),a("td",{staticClass:"itemvalue",staticStyle:{width:"15%"}},[t._v(t._s(t.transactionInfo.transactionNo))]),a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("TRANSACTION DATE")]),a("td",{staticClass:"itemvalue",staticStyle:{width:"15%"}},[t._v(t._s(t.tdate))]),a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("DENTIST")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.Dentist.fullname))])])]),a("hr"),a("span",{staticStyle:{"font-size":"16pt"}},[t._v("TREATMENTS")]),a("table",{staticClass:"table table-condensed table-bordered"},[t._m(3),a("tbody",[t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service)+" "),a("br"),t._v("Price: P "+t._s(e.actualAmount)+" ")]),a("td",[a("table",{staticClass:"table table-condensed"},[t._m(4,!0),t._l(e.Actions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t.hour(e.starttime)))]),a("td",[t._v(t._s(t.hour(e.endtime)))]),a("td",{domProps:{innerHTML:t._s(e.diagnosis)}}),a("td",[t._v(t._s(e.actiontaken))]),a("td",{staticStyle:{"text-align":"center"}},[t._l(e.teeths,(function(e,s){return a("span",{key:s},[0==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])})),a("hr"),t._l(e.teeths,(function(e,s){return a("span",{key:s},[1==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])}))],2)])}))],2)])])})),a("tr",[a("td",{staticStyle:{"font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Total Amount: P "+t._s(t.getTotalAmount)+" "),a("br"),t._v("Discount Amount: P "+t._s(t.transactionInfo.discount)+" "),a("br"),t._v("Grand Total Amount: P "+t._s(t.getTotalAmount-t.transactionInfo.discount))])])],2)]),a("hr"),a("span",{staticStyle:{"font-size":"16pt"}},[t._v("PAYMENTS")]),a("table",{staticClass:"table table-condensed"},[t._m(5),a("tbody",[t._l(t.transactionInfo.Billings,(function(e,s){return a("tr",{key:s},[a("td",[a("a",{attrs:{href:"../../bill/"+e.id,target:"_blank"}},[t._v(t._s(e.billrefNo))])]),a("td",[t._v(t._s(e.date)+" "+t._s(t.hour(e.createdAt)))]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("HealthCard")])]),a("td",[t._v(t._s(e.payment))])])})),a("tr",[a("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v("Total:")]),a("td",[t._v(t._s(t.paymentTotal))])])],2)])])]),a("div",[a("barcode",{attrs:{value:t.transactionInfo.transactionNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)])])])])},qo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("TRANSACTION FORM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticClass:"itemtitle",attrs:{colspan:"6"}},[t._v("PATIENT INFORMATIONS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticClass:"itemtitle",attrs:{colspan:"6"}},[t._v("TRANSACTION INFORMATIONS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("Treatment")]),a("th",[t._v("Action Taken")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"silver"}},[a("td",[t._v("Date")]),a("td",{staticStyle:{width:"20px"}},[t._v("StartTime")]),a("td",{staticStyle:{width:"20px"}},[t._v("EndTime")]),a("td",[t._v("Diagnosis")]),a("td",[t._v("Action")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("Tooth No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Referrence No")]),a("th",[t._v("Date")]),a("th",[t._v("Type")]),a("th",[t._v("Payment")])])])}],Vo={components:{barcode:co.a},methods:{print:function(){window.print()},hour:function(t){return this.$helper.formatHour(t)}},computed:Object(r["a"])({},Object(l["d"])({transactionInfo:function(t){return t.transaction.transactionInfo}}),{age:{get:function(){return this.$helper.calculateAge(this.transactionInfo.User.bday)}},bday:{get:function(){return this.$helper.formatBdayDate(this.transactionInfo.User.bday)}},tdate:{get:function(){return this.$helper.formatBdayDate(this.transactionInfo.transactionDate)}},getTotalAmount:{get:function(){var t=0;return this.transactionInfo.Treatments.forEach((function(e){t+=parseFloat(e.actualAmount)})),t}},paymentTotal:{get:function(){var t=0;return this.transactionInfo.Billings.forEach((function(e){t+=parseFloat(e.payment)})),t}}}),mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("activenav","patientnav"),e.next=3,t.$store.dispatch("transaction/getTransaction",t.$route.params.idno);case 3:case"end":return e.stop()}}),e)})))()}},Go=Vo,Jo=Object(m["a"])(Go,Yo,qo,!1,null,null,null),Wo=Jo.exports,Zo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("button",{staticClass:"btn btn-danger float-right",staticStyle:{"margin-right":"20px"},on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.dentist,expression:"search.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"dentist",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"All"}},[t._v("All")]),t._l(t.branches[t.activebranchIndex].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])}))],2)])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.status,expression:"search.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"All"}},[t._v("All")]),a("option",{attrs:{value:"0"}},[t._v("On-Going")]),a("option",{attrs:{value:"1"}},[t._v("For Followup")]),a("option",{attrs:{value:"2"}},[t._v("Done")]),a("option",{attrs:{value:"3"}},[t._v("Cancelled")])])])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.transactionNo,expression:"search.transactionNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.transactionNo},on:{input:function(e){e.target.composing||t.$set(t.search,"transactionNo",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(6),a("tbody",t._l(t.transactions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.transactionNo))]),a("td",[t._v(t._s(e.transactionDate))]),a("td",[t._v(t._s(e.User.fullname))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[t._v(t._s(t.getStatus(e.status)))]),a("td",[a("a",{attrs:{target:"_blank",href:"../../transaction/"+e.id+"/form"}},[t._v("Transaction Form")])]),a("td",[a("a",{attrs:{target:"_blank",href:"../../transaction/"+e.id}},[t._v("Proceed")])])])})),0)])])])])])},Qo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Records Search - Transaction")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Transaction No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Reference No")]),a("th",[t._v("Date")]),a("th",[t._v("Patient")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th"),a("th")])])}],Ko={data:function(){return{activebranchIndex:0,search:{start:"",end:"",transactionNo:"",branch:"",dentist:"All",status:"All"}}},methods:{findDentistName:function(t){var e=this.branches[this.activebranchIndex].Dentists.filter((function(e){if(e.id==t)return e})),a=this.branches[this.activebranchIndex].Dentists.indexOf(e[0]);return this.branches[this.activebranchIndex].Dentists[a].fullname},printPDF:function(){var t=this,e=this.transactions.map((function(e){return[e.transactionNo,e.transactionDate,e.User.fullname,e.Dentist.fullname,t.getStatus(e.status)]}));e.sort(),e.unshift(["REFERENCE NO","DATE","PATIENT","DENTIST","STATUS"]);var a="All"==this.search.status?"All":this.getStatus(parseInt(this.search.status)),s="All"==this.search.dentist?"All":this.findDentistName(parseInt(this.search.dentist)),n={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"portrait",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Transaction Records"),alignment:"center",margin:[0,0,0,20]},{columns:[{text:"Start Date: ".concat(this.$helper.formatBdayDate(this.search.start))},{text:"Dentist: ".concat(s)}]},{columns:[{text:"End Date: ".concat(this.$helper.formatBdayDate(this.search.end))},{text:"Status: ".concat(a)}]},"\n",{table:{widths:["auto","auto","*","*","auto"],body:e}}]};this.$pdfMake.createPdf(n).open()},back:function(){this.$router.go(-1)},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,console.log(this.search),this.$store.dispatch("report/getRecords",this.search)},dHour:function(t){return Object(x["format12Hour"])(t)},searchProceed:function(){console.log(this.search),this.$store.dispatch("report/getRecords",this.search)}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},transactions:function(t){return t.report.transactions}})),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getListDentist").then((function(){var e=new Date;t.search.start=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,console.log(t.search),t.$store.dispatch("report/getRecords",t.search)})).catch((function(t){return console.log(t)}))}},Xo=Ko,tc=Object(m["a"])(Xo,Zo,Qo,!1,null,null,null),ec=tc.exports,ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("button",{staticClass:"btn btn-danger float-right",staticStyle:{"margin-right":"20px"},on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.refno,expression:"search.refno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.refno},on:{input:function(e){e.target.composing||t.$set(t.search,"refno",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(4),a("tbody",t._l(t.billings,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.billrefNo))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.Transaction.transactionNo))]),a("td",[t._v(t._s(e.User.fullname))]),a("td",[t._v(t._s(e.payment))]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("Healthcard")])]),a("td",[t._v(t._s(e.Transaction.Dentist.fullname))]),a("td",[a("a",{attrs:{target:"_blank",href:"../../bill/"+e.id}},[a("span",{staticClass:"fa fa-print"}),t._v(" Payment Receipt")])])])})),0)])])])])])},sc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Records Search - Billing")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Reference No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Reference No")]),a("th",[t._v("Date")]),a("th",[t._v("Transaction No")]),a("th",[t._v("Patient")]),a("th",[t._v("Payment")]),a("th",[t._v("Type")]),a("th",[t._v("Dentist")]),a("th")])])}],nc={data:function(){return{activebranchIndex:0,search:{start:"",end:"",refno:"",branch:""}}},methods:{printPDF:function(){var t=this.billings.map((function(t){var e=0==t.type?"Cash":"Healthcard";return[t.billrefNo,t.date,t.Transaction.transactionNo,t.User.fullname,t.payment,e,t.Transaction.Dentist.fullname]}));t.sort(),t.unshift(["REFERENCE NO","DATE","TRANSACTION NO","PATIENT","PAYMENT","TYPE","DENTIST"]);var e={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Billing Treatment Records From ").concat(this.$helper.formatBdayDate(this.search.start)," To ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","auto","*","auto","auto","*"],body:t}}]};this.$pdfMake.createPdf(e).open()},back:function(){this.$router.go(-1)},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.$store.dispatch("report/billingRecords",this.search)},dHour:function(t){return Object(x["format12Hour"])(t)},searchProceed:function(){this.$store.dispatch("report/billingRecords",this.search)}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},billings:function(t){return t.report.billings}})),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.$store.dispatch("report/billingRecords",t.search)})).catch((function(t){return console.log(t)}))}},ic=nc,rc=Object(m["a"])(ic,ac,sc,!1,null,null,null),oc=rc.exports,cc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("button",{staticClass:"btn btn-danger float-right",staticStyle:{"margin-right":"20px"},on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.refno,expression:"search.refno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.refno},on:{input:function(e){e.target.composing||t.$set(t.search,"refno",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(4),a("tbody",t._l(t.purchases,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.billrefNo))]),a("td",[t._v(t._s(t.dDate(e.createdAt)))]),a("td",[t._v(t._s(e.modifiedBy))]),a("td",[t._v(t._s(t.subtotal(e.Billitems)))]),a("td",[t._v(t._s(e.discount))]),a("td",[t._v(t._s(t.subtotal(e.Billitems)-e.discount))]),a("td",[a("router-link",{attrs:{to:{name:"invoiceInfo",params:{idno:e.id}}}},[t._v("purchase receipt")])],1)])})),0)])])])])])},lc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Records Search - Pharmarcy Purchase Receipt")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Receipt Reference No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Reference No")]),a("th",[t._v("Date Time")]),a("th",[t._v("Staff")]),a("th",[t._v("SubTotal Amount")]),a("th",[t._v("Discount")]),a("th",[t._v("Total Amount")]),a("th")])])}],dc={data:function(){return{activebranchIndex:0,search:{start:"",end:"",refno:"",branch:""}}},methods:{printPDF:function(){var t=this,e=this.purchases.map((function(e){return[e.billrefNo,t.dDate(e.createdAt),e.modifiedBy,t.subtotal(e.Billitems),e.discount,t.subtotal(e.Billitems)-e.discount]}));e.sort(),e.unshift(["REFERENCE NO","DATE TIME","STAFF","SUB TOTAL","DISCOUNT","TOTAL AMOUNT"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Pharmacy Sales Records From ").concat(this.$helper.formatBdayDate(this.search.start)," To ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","*","auto","auto","auto"],body:e}}]};this.$pdfMake.createPdf(a).open()},back:function(){this.$router.go(-1)},subtotal:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.amount)})),e},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},dHour:function(t){return Object(x["format12Hour"])(t)},dDate:function(t){return"".concat(this.$helper.formatDate(t)," ").concat(this.$helper.format12Hour(t))},searchProceed:function(){this.$store.dispatch("report/pharmacyPurchaseRecords",this.search)}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},purchases:function(t){return t.report.purchases}})),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},uc=dc,mc=Object(m["a"])(uc,cc,lc,!1,null,null,null),pc=mc.exports,hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr",{staticClass:"noprint"}),a("ul",{staticClass:"nav nav-tabs noprint"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card noprint"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("EARNINGS FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SERVICE DONE BASED ON TRANSACTION DATE FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(4),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{"font-weight":"bold",color:"#696972","font-size":"14pt"}},[t._v("DETAILED TRANSACTION DATA PER DENTIST FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},t._l(t.sales.dentistdata,(function(e,s){return a("tbody",{key:s},[a("tr",{staticStyle:{background:"dimgray",color:"white"}},[a("td",{attrs:{colspan:"8"}},[t._v(t._s(e.fullname))])]),t._m(5,!0),t._l(e.Transactions,(function(e){return a("tr",{key:e.id},[a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getYear(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getMonth(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionDate))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionNo))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.User.fullname))]),a("td",{staticStyle:{"font-size":"11pt"}},[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(t._s(e.service))])})),0)]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getStatus(e.status)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.TotalAmount(e.Billings)))])])}))],2)})),0)])])],1)])},fc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Daily ( Date Range ) - Treatment")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Payment Date")]),a("th",[t._v("Earnings")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Service")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"white",color:"black"}},[a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("YEAR")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("MONTH")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION DATE")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION NO")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("PATIENT")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TREATMENTS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("STATUS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("AMOUNT PAID")])])}],vc={data:function(){return{activebranchIndex:0,search:{start:"",end:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]},pieOptionsMostEarn:{data:[]},months:[{index:1,des:"JAN"},{index:2,des:"FEB"},{index:3,des:"MAR"},{index:4,des:"APR"},{index:5,des:"MAY"},{index:6,des:"JUN"},{index:7,des:"JUL"},{index:8,des:"AUG"},{index:9,des:"SEP"},{index:10,des:"OCT"},{index:11,des:"NOV"},{index:12,des:"DEC"}]}},methods:{getMonth:function(t){var e=new Date(t);return this.months[e.getMonth()].des},getYear:function(t){var e=new Date(t);return e.getFullYear()},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},TotalAmount:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.payment)})),e},back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/sales_daily",this.search).then((function(){var e=[];t.sales.graph.forEach((function(t){e.push([t.date,t.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.service,t.totalcount])})),t.pieOptionsMostAvail.data=e,e=[],t.sales.serviceMostEarn.forEach((function(t){e.push([t.service,t.totalearn])})),t.pieOptionsMostEarn.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},gc=vc,bc=Object(m["a"])(gc,hc,fc,!1,null,null,null),_c=bc.exports,Cc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.startmonth,expression:"search.startmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"startmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.endmonth,expression:"search.endmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"endmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("EARNINGS FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(5),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(t.months[e.monthname-1].des+" "+e.yearname))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SERVICE DONE BASED ON TRANSACTION DATE FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(6),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{"font-weight":"bold",color:"#696972","font-size":"14pt"}},[t._v("DETAILED TRANSACTION DATA PER DENTIST FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},t._l(t.sales.dentistdata,(function(e,s){return a("tbody",{key:s},[a("tr",{staticStyle:{background:"dimgray",color:"white"}},[a("td",{attrs:{colspan:"8"}},[t._v(t._s(e.fullname))])]),t._m(7,!0),t._l(e.Transactions,(function(e){return a("tr",{key:e.id},[a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getYear(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getMonth(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionDate))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionNo))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.User.fullname))]),a("td",{staticStyle:{"font-size":"11pt"}},[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(t._s(e.service))])})),0)]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getStatus(e.status)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.TotalAmount(e.Billings)))])])}))],2)})),0)])])],1)])},yc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Monthly - Treatment")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Date")]),a("th",[t._v("Earnings")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Service")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"white",color:"black"}},[a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("YEAR")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("MONTH")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION DATE")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION NO")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("PATIENT")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TREATMENTS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("STATUS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("AMOUNT PAID")])])}],wc={data:function(){return{activebranchIndex:0,search:{startmonth:1,startyear:"",endmonth:"",endyear:"",branch:""},months:[{index:1,des:"JAN"},{index:2,des:"FEB"},{index:3,des:"MAR"},{index:4,des:"APR"},{index:5,des:"MAY"},{index:6,des:"JUN"},{index:7,des:"JUL"},{index:8,des:"AUG"},{index:9,des:"SEP"},{index:10,des:"OCT"},{index:11,des:"NOV"},{index:12,des:"DEC"}],graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]}}},methods:{getMonth:function(t){var e=new Date(t);return this.months[e.getMonth()].des},getYear:function(t){var e=new Date(t);return e.getFullYear()},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},TotalAmount:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.payment)})),e},back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/sales_monthly",this.search).then((function(){var e=[];t.sales.graph.forEach((function(a){e.push(["".concat(t.months[a.monthname-1].des," ").concat(a.yearname),a.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.service,t.totalcount])})),t.pieOptionsMostAvail.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.endmonth=e.getMonth()+1,t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},xc=wc,kc=Object(m["a"])(xc,Cc,yc,!1,null,null,null),Sc=kc.exports,$c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("EARNINGS FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.yearname))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SERVICE DONE BASED ON TRANSACTION DATE FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(4),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{"font-weight":"bold",color:"#696972","font-size":"14pt"}},[t._v("DETAILED TRANSACTION DATA PER DENTIST FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},t._l(t.sales.dentistdata,(function(e,s){return a("tbody",{key:s},[a("tr",{staticStyle:{background:"dimgray",color:"white"}},[a("td",{attrs:{colspan:"8"}},[t._v(t._s(e.fullname))])]),t._m(5,!0),t._l(e.Transactions,(function(e){return a("tr",{key:e.id},[a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getYear(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getMonth(e.transactionDate)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionDate))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.transactionNo))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(e.User.fullname))]),a("td",{staticStyle:{"font-size":"11pt"}},[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(t._s(e.service))])})),0)]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.getStatus(e.status)))]),a("td",{staticStyle:{"font-size":"11pt"}},[t._v(t._s(t.TotalAmount(e.Billings)))])])}))],2)})),0)])])],1)])},Ec=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Yearly - Treatment")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Date")]),a("th",[t._v("Earnings")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Service")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"white",color:"black"}},[a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("YEAR")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("MONTH")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION DATE")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TRANSACTION NO")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("PATIENT")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("TREATMENTS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("STATUS")]),a("td",{staticStyle:{"font-weight":"bold","font-size":"12pt"}},[t._v("AMOUNT PAID")])])}],Dc={data:function(){return{activebranchIndex:0,search:{startyear:"",endyear:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]},months:[{index:1,des:"JAN"},{index:2,des:"FEB"},{index:3,des:"MAR"},{index:4,des:"APR"},{index:5,des:"MAY"},{index:6,des:"JUN"},{index:7,des:"JUL"},{index:8,des:"AUG"},{index:9,des:"SEP"},{index:10,des:"OCT"},{index:11,des:"NOV"},{index:12,des:"DEC"}]}},methods:{getMonth:function(t){var e=new Date(t);return this.months[e.getMonth()].des},getYear:function(t){var e=new Date(t);return e.getFullYear()},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},TotalAmount:function(t){var e=0;return t.forEach((function(t){e+=parseFloat(t.payment)})),e},back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/sales_yearly",this.search).then((function(){var e=[];t.sales.graph.forEach((function(t){e.push([t.yearname,t.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.service,t.totalcount])})),t.pieOptionsMostAvail.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},Ic=Dc,Tc=Object(m["a"])(Ic,$c,Ec,!1,null,null,null),Nc=Tc.exports,Ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr",{staticClass:"noprint"}),a("ul",{staticClass:"nav nav-tabs noprint"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card noprint"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("SALES FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SOLD ITEMS FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(4),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.item))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},Oc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Daily ( Date Range ) - Pharmacy")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Date")]),a("th",[t._v("Sales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Medicine")]),a("th")])])}],Pc={data:function(){return{activebranchIndex:0,search:{start:"",end:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]},pieOptionsMostEarn:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/pharmacy_daily",this.search).then((function(){var e=[];t.sales.graph.forEach((function(t){e.push([t.date,t.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.item,t.totalcount])})),t.pieOptionsMostAvail.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},Mc=Pc,jc=Object(m["a"])(Mc,Ac,Oc,!1,null,null,null),Rc=jc.exports,Uc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.startmonth,expression:"search.startmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"startmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.endmonth,expression:"search.endmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"endmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("SALES FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(5),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(t.months[e.monthname-1].des+" "+e.yearname))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SOLD ITEMS FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(6),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.item))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},Fc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Monthly - Pharmacy")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Date")]),a("th",[t._v("Sales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Medicine")]),a("th")])])}],Lc={data:function(){return{activebranchIndex:0,search:{startmonth:1,startyear:"",endmonth:"",endyear:"",branch:""},months:[{index:1,des:"JAN"},{index:2,des:"FEB"},{index:3,des:"MAR"},{index:4,des:"APR"},{index:5,des:"MAY"},{index:6,des:"JUN"},{index:7,des:"JUL"},{index:8,des:"AUG"},{index:9,des:"SEP"},{index:10,des:"OCT"},{index:11,des:"NOV"},{index:12,des:"DEC"}],graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/pharmacy_monthly",this.search).then((function(){var e=[];t.sales.graph.forEach((function(a){e.push(["".concat(t.months[a.monthname-1].des," ").concat(a.yearname),a.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.item,t.totalcount])})),t.pieOptionsMostAvail.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.endmonth=e.getMonth()+1,t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},Bc=Lc,zc=Object(m["a"])(Bc,Uc,Fc,!1,null,null,null),Hc=zc.exports,Yc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("SALES FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!1,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.sales.graph,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.yearname))]),a("td",[t._v(t._s(e.totalsales))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF SOLD ITEMS FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsMostAvail.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(4),a("tbody",t._l(t.sales.serviceMostavail,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.item))]),a("td",[t._v(t._s(e.totalcount)+" ")])])})),0)])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},qc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Yearly - Pharmacy")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Date")]),a("th",[t._v("Sales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",{staticStyle:{width:"50%"}},[t._v("Medicine")]),a("th")])])}],Vc={data:function(){return{activebranchIndex:0,search:{startyear:"",endyear:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsMostAvail:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/pharmacy_yearly",this.search).then((function(){var e=[];t.sales.graph.forEach((function(t){e.push([t.yearname,t.totalsales])})),t.graphOptions.data=e,e=[],t.sales.serviceMostavail.forEach((function(t){e.push([t.item,t.totalcount])})),t.pieOptionsMostAvail.data=e})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},sales:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0;return this.sales.graph.forEach((function(e){t+=parseFloat(e.totalsales)})),t}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},Gc=Vc,Jc=Object(m["a"])(Gc,Yc,qc,!1,null,null,null),Wc=Jc.exports,Zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr",{staticClass:"noprint"}),a("ul",{staticClass:"nav nav-tabs noprint"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card noprint"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF APPOINTMENTS FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!0,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.appointments.data,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.Approved))]),a("td",[t._v(t._s(e.Cancelled))]),a("td",[t._v(t._s(e.Reschedule))]),a("td",[t._v(t._s(e.totalcount))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal[0]))]),a("th",[t._v(t._s(t.computeTotal[1]))]),a("th",[t._v(t._s(t.computeTotal[2]))]),a("th",[t._v(t._s(t.computeTotal[3]))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("TOTAL NO. OF APPOINTMENTS FROM "+t._s(t.search.start)+" TO "+t._s(t.search.end))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsTotal.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"})]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},Qc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Daily ( Date Range ) - Appointments")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",[t._v("Date")]),a("th",[t._v("Approved")]),a("th",[t._v("Cancelled")]),a("th",[t._v("Reschedule")]),a("th",[t._v("Total")])])])}],Kc={data:function(){return{activebranchIndex:0,search:{start:"",end:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsTotal:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/appointment_daily",this.search).then((function(){t.graphOptions.data=[],t.graphOptions.data.push({name:"Approved",data:{}}),t.graphOptions.data.push({name:"Cancelled",data:{}}),t.graphOptions.data.push({name:"Reschedule",data:{}}),t.appointments.data.forEach((function(e){t.graphOptions.data[0].data["".concat(e.date)]=e.Approved,t.graphOptions.data[1].data["".concat(e.date)]=e.Cancelled,t.graphOptions.data[2].data["".concat(e.date)]=e.Reschedule})),t.pieOptionsTotal.data=[],t.pieOptionsTotal.data.push(["Approved",t.computeTotal[0]]),t.pieOptionsTotal.data.push(["Cancelled",t.computeTotal[1]]),t.pieOptionsTotal.data.push(["Reschedule",t.computeTotal[2]])})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},appointments:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0,e=0,a=0,s=0;return this.appointments.data.forEach((function(n){s+=parseFloat(n.totalcount),t+=parseFloat(n.Approved),e+=parseFloat(n.Cancelled),a+=parseFloat(n.Reschedule)})),[t,e,a,s]}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},Xc=Kc,tl=Object(m["a"])(Xc,Zc,Qc,!1,null,null,null),el=tl.exports,al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.startmonth,expression:"search.startmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"startmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.endmonth,expression:"search.endmonth"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"endmonth",e.target.multiple?a:a[0])}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:e.index}},[t._v(t._s(e.des))])})),0)])]),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF APPOINTMENTS FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!0,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(5),a("tbody",t._l(t.appointments.data,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(t.months[e.monthname-1].des+" "+e.yearname))]),a("td",[t._v(t._s(e.Approved))]),a("td",[t._v(t._s(e.Cancelled))]),a("td",[t._v(t._s(e.Reschedule))]),a("td",[t._v(t._s(e.totalcount))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal[0]))]),a("th",[t._v(t._s(t.computeTotal[1]))]),a("th",[t._v(t._s(t.computeTotal[2]))]),a("th",[t._v(t._s(t.computeTotal[3]))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("TOTAL NO. OF APPOINTMENTS FROM "+t._s(t.months[t.search.startmonth-1].des)+" "+t._s(t.search.startyear)+" TO "+t._s(t.months[t.search.endmonth-1].des)+" "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsTotal.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"})]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},sl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Monthly - Appointments")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Month")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",[t._v("Date")]),a("th",[t._v("Approved")]),a("th",[t._v("Cancelled")]),a("th",[t._v("Reschedule")]),a("th",[t._v("Total")])])])}],nl={data:function(){return{activebranchIndex:0,search:{startmonth:1,startyear:"",endmonth:"",endyear:"",branch:""},months:[{index:1,des:"JAN"},{index:2,des:"FEB"},{index:3,des:"MAR"},{index:4,des:"APR"},{index:5,des:"MAY"},{index:6,des:"JUN"},{index:7,des:"JUL"},{index:8,des:"AUG"},{index:9,des:"SEP"},{index:10,des:"OCT"},{index:11,des:"NOV"},{index:12,des:"DEC"}],graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsTotal:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/appointment_monthly",this.search).then((function(){t.graphOptions.data=[],t.graphOptions.data.push({name:"Approved",data:{}}),t.graphOptions.data.push({name:"Cancelled",data:{}}),t.graphOptions.data.push({name:"Reschedule",data:{}}),t.appointments.data.forEach((function(e){t.graphOptions.data[0].data["".concat(t.months[e.monthname-1].des," ").concat(e.yearname)]=e.Approved,t.graphOptions.data[1].data["".concat(t.months[e.monthname-1].des," ").concat(e.yearname)]=e.Cancelled,t.graphOptions.data[2].data["".concat(t.months[e.monthname-1].des," ").concat(e.yearname)]=e.Reschedule})),t.pieOptionsTotal.data=[],t.pieOptionsTotal.data.push(["Approved",t.computeTotal[0]]),t.pieOptionsTotal.data.push(["Cancelled",t.computeTotal[1]]),t.pieOptionsTotal.data.push(["Reschedule",t.computeTotal[2]])})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},appointments:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0,e=0,a=0,s=0;return this.appointments.data.forEach((function(n){s+=parseFloat(n.totalcount),t+=parseFloat(n.Approved),e+=parseFloat(n.Cancelled),a+=parseFloat(n.Reschedule)})),[t,e,a,s]}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.endmonth=e.getMonth()+1,t.search.start=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=t.$helper.formatDate(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},il=nl,rl=Object(m["a"])(il,al,sl,!1,null,null,null),ol=rl.exports,cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[a("span",{staticClass:"fa fa-times"})]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.startyear,expression:"search.startyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.startyear},on:{input:function(e){e.target.composing||t.$set(t.search,"startyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.endyear,expression:"search.endyear"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.endyear},on:{input:function(e){e.target.composing||t.$set(t.search,"endyear",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Generate")])])])])]),a("br"),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("NO. OF APPOINTMENTS FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("column-chart",{attrs:{stacked:t.graphOptions.stacked,legend:!0,download:!0,data:t.graphOptions.data}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[t._m(3),a("tbody",t._l(t.appointments.data,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.yearname))]),a("td",[t._v(t._s(e.Approved))]),a("td",[t._v(t._s(e.Cancelled))]),a("td",[t._v(t._s(e.Reschedule))]),a("td",[t._v(t._s(e.totalcount))])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th",[t._v(t._s(t.computeTotal[0]))]),a("th",[t._v(t._s(t.computeTotal[1]))]),a("th",[t._v(t._s(t.computeTotal[2]))]),a("th",[t._v(t._s(t.computeTotal[3]))])])])])])]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}}),a("div",{staticStyle:{"text-align":"center",color:"dimgray","font-size":"14pt","font-weight":"bold"}},[a("span",[t._v("TOTAL NO. OF APPOINTMENTS FROM "+t._s(t.search.startyear)+" TO "+t._s(t.search.endyear))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("pie-chart",{attrs:{download:!0,width:"100%",height:"500px",data:t.pieOptionsTotal.data}})],1),a("div",{staticClass:"col-md-10 offset-md-1"})]),a("div",{staticStyle:{width:"100%",height:"10px",background:"#3A61D0","margin-bottom":"50px"}})],1)])},ll=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-calendar"}),t._v(" Yearly - Appointments")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("th",[t._v("Date")]),a("th",[t._v("Approved")]),a("th",[t._v("Cancelled")]),a("th",[t._v("Reschedule")]),a("th",[t._v("Total")])])])}],dl={data:function(){return{activebranchIndex:0,search:{startyear:"",endyear:"",branch:""},graphOptions:{stacked:!1,colors:["#b00","#666"],data:[]},pieOptionsTotal:{data:[]}}},methods:{back:function(){this.$router.go(-1)},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,this.searchProceed()},searchProceed:function(){var t=this;this.$store.dispatch("report/appointment_yearly",this.search).then((function(){t.graphOptions.data=[],t.graphOptions.data.push({name:"Approved",data:{}}),t.graphOptions.data.push({name:"Cancelled",data:{}}),t.graphOptions.data.push({name:"Reschedule",data:{}}),t.appointments.data.forEach((function(e){t.graphOptions.data[0].data["".concat(e.yearname)]=e.Approved,t.graphOptions.data[1].data["".concat(e.yearname)]=e.Cancelled,t.graphOptions.data[2].data["".concat(e.yearname)]=e.Reschedule})),t.pieOptionsTotal.data=[],t.pieOptionsTotal.data.push(["Approved",t.computeTotal[0]]),t.pieOptionsTotal.data.push(["Cancelled",t.computeTotal[1]]),t.pieOptionsTotal.data.push(["Reschedule",t.computeTotal[2]])})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},appointments:function(t){return t.report.sales}}),{computeTotal:{get:function(){var t=0,e=0,a=0,s=0;return this.appointments.data.forEach((function(n){s+=parseFloat(n.totalcount),t+=parseFloat(n.Approved),e+=parseFloat(n.Cancelled),a+=parseFloat(n.Reschedule)})),[t,e,a,s]}}}),mounted:function(){var t=this;this.$store.dispatch("activenav","reportnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.startyear=t.search.endyear=e.getFullYear(),t.search.branch=t.branches[t.activebranchIndex].id,t.searchProceed()})).catch((function(t){return console.log(t)}))}},ul=dl,ml=Object(m["a"])(ul,cl,ll,!1,null,null,null),pl=ml.exports,hl=function(t,e,a){var s=JSON.parse(localStorage.getItem("userinfo"));2==s.usertype?a({path:"/patient"}):a()},fl=function(t,e,a){var s=JSON.parse(localStorage.getItem("userinfo"));2==s.usertype?a():a({path:"/backend"})},vl=[{path:"/",component:rt,name:"landingPage"},{path:"/setpassword/:token",component:mt,name:"setPassword"},{path:"/backend",component:xt,beforeEnter:hl,name:"dashboard"},{path:"/backend/settings",component:Mt,beforeEnter:hl,name:"settings"},{path:"/backend/stafflist",component:ie,beforeEnter:hl,name:"stafflist"},{path:"/backend/adminlist",component:ue,beforeEnter:hl,name:"adminlist"},{path:"/backend/superadminlist",component:Ie,beforeEnter:hl,name:"superadminlist"},{path:"/backend/servicelist",component:Ge,beforeEnter:hl,name:"servicelist"},{path:"/backend/dentistlist",component:ua,beforeEnter:hl,name:"dentistlist"},{path:"/backend/medicinelist/:type",component:Ia,beforeEnter:hl,name:"medicinelist"},{path:"/backend/medicinelist/stocksin/:branch/:type",component:za,beforeEnter:hl,name:"stocksin"},{path:"/backend/medicinelist/item/:idno",component:Ja,beforeEnter:hl,name:"viewItemDetails"},{path:"/backend/patient/list",component:ks,beforeEnter:hl,name:"listPatient"},{path:"/backend/patient/new",component:bs,beforeEnter:hl,name:"newPatient"},{path:"/backend/patient/info/:idno",component:js,beforeEnter:hl,name:"patientinfo"},{path:"/backend/transaction/:idno",component:Jn,beforeEnter:hl,name:"transactioninfo"},{path:"/backend/transaction/:idno/medicalCertificate",component:Ho,beforeEnter:hl,name:"medicalCertificate"},{path:"/backend/transaction/:idno/form",component:Wo,beforeEnter:hl,name:"transactionform"},{path:"/backend/branchlist",component:ms,beforeEnter:hl,name:"branchlist"},{path:"/backend/appointment",component:zi,beforeEnter:hl,name:"appointment"},{path:"/backend/transaction/prescript/:idno",component:ti,beforeEnter:hl,name:"prescriptPrint"},{path:"/backend/reservation/pending",component:Ji,beforeEnter:hl,name:"pendingReservation"},{path:"/backend/reservation/:idno",component:vr,beforeEnter:hl,name:"viewReservation"},{path:"/backend/reservation/list",component:Dr,beforeEnter:hl,name:"listReservation"},{path:"/backend/reservation/data/list",component:Pr,beforeEnter:hl,name:"dataReservationList"},{path:"/backend/pharmacy/sale",component:no,beforeEnter:hl,name:"pharmacySale"},{path:"/backend/pharmacy/sale/invoice/:idno",component:po,beforeEnter:hl,name:"invoiceInfo"},{path:"/backend/reports/records",component:_o,beforeEnter:hl,name:"report_records"},{path:"/backend/reports/sales",component:So,beforeEnter:hl,name:"report_sales"},{path:"/backend/bill/:idno",component:No,beforeEnter:hl,name:"billinfo"},{path:"/backend/feedbacks",component:Ro,beforeEnter:hl,name:"backendfeedback"},{path:"/backend/reports/records/transaction",component:ec,beforeEnter:hl,name:"record_transactionlist"},{path:"/backend/reports/records/billing",component:oc,beforeEnter:hl,name:"record_billinglist"},{path:"/backend/reports/records/pharmacy/purchase",component:pc,beforeEnter:hl,name:"record_pharmacyPurchaselist"},{path:"/backend/reports/sales/daily",component:_c,beforeEnter:hl,name:"sale_daily"},{path:"/backend/reports/sales/monthly",component:Sc,beforeEnter:hl,name:"sale_monthly"},{path:"/backend/reports/sales/yearly",component:Nc,beforeEnter:hl,name:"sale_yearly"},{path:"/backend/reports/pharmacy/daily",component:Rc,beforeEnter:hl,name:"pharmacy_daily"},{path:"/backend/reports/pharmacy/monthly",component:Hc,beforeEnter:hl,name:"pharmacy_monthly"},{path:"/backend/reports/pharmacy/yearly",component:Wc,beforeEnter:hl,name:"pharmacy_yearly"},{path:"/backend/reports/appointments/daily",component:el,beforeEnter:hl,name:"appointment_daily"},{path:"/backend/reports/appointments/monthly",component:ol,beforeEnter:hl,name:"appointment_monthly"},{path:"/backend/reports/appointments/yearly",component:pl,beforeEnter:hl,name:"appointment_yearly"}],gl={routes:vl},bl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid"},[t._m(0),s("hr"),t.showeditModal?s("editModal",{attrs:{editInfo:t.editInfo},on:{closemodal:function(e){return t.closemodal()},refreshData:t.refreshData}}):t._e(),t.showchangepicModal?s("picModal",{attrs:{oldimg:t.user.img},on:{closemodal:t.closemodal,refreshData:t.refreshData}}):t._e(),t.showChangePassModal?s("div",{ref:"changePassModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[t._m(1),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showChangePassModal=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("div",{ref:"errormessage2",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,a){return s("span",{key:a},t._l(e,(function(e,a){return s("span",{key:a},[t._v(t._s(e)),e.length>1?s("br"):t._e()])})),0)})),0),s("div",{staticClass:"form-group"},[s("label",[t._v("Old Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userchangepass.oldpass,expression:"userchangepass.oldpass"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.userchangepass.oldpass},on:{input:function(e){e.target.composing||t.$set(t.userchangepass,"oldpass",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("New Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userchangepass.password,expression:"userchangepass.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.userchangepass.password},on:{input:function(e){e.target.composing||t.$set(t.userchangepass,"password",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Confirm Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userchangepass.password_confirmation,expression:"userchangepass.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.userchangepass.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.userchangepass,"password_confirmation",e.target.value)}}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",on:{click:t.changepass}},[s("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])]):t._e(),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[t._v("Information(s) "),s("button",{staticClass:"float-right btn btn-default",staticStyle:{color:"white"},on:{click:t.edit}},[s("span",{staticClass:"fa fa-pen"})])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"col col-md-3",staticStyle:{position:"relative"}},[null==t.user.img?s("img",{ref:"userimg",staticStyle:{height:"20em",width:"100%"},attrs:{src:a("113c")}}):s("img",{ref:"userimg",staticStyle:{height:"20em",width:"100%"},attrs:{src:t.imgUrl+"/"+t.user.img}}),s("button",{staticClass:"form-control",on:{click:function(e){t.showchangepicModal=!0}}},[s("span",{staticClass:"fa fa-user"}),t._v(" Change Profile Picture")]),s("button",{staticClass:"form-control",on:{click:function(e){t.showChangePassModal=!0}}},[s("span",{staticClass:"fa fa-lock"}),t._v(" Change Password")])]),s("div",{staticClass:"col col-md-9"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("First name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstname,expression:"user.firstname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.firstname},on:{input:function(e){e.target.composing||t.$set(t.user,"firstname",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Middle name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.middlename,expression:"user.middlename"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.middlename},on:{input:function(e){e.target.composing||t.$set(t.user,"middlename",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Last name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastname,expression:"user.lastname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.lastname},on:{input:function(e){e.target.composing||t.$set(t.user,"lastname",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"email",readonly:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Birthday")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bday,expression:"bday"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.bday},on:{input:function(e){e.target.composing||(t.bday=e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Contact No")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.contact,expression:"user.contact"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.contact},on:{input:function(e){e.target.composing||t.$set(t.user,"contact",e.target.value)}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Gender")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.gender},on:{input:function(e){e.target.composing||t.$set(t.user,"gender",e.target.value)}}})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}})])])]),s("div",{staticClass:"col-md-9",staticStyle:{padding:"0px 30px"}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Medical History")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.history,expression:"user.history"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.user.history},on:{input:function(e){e.target.composing||t.$set(t.user,"history",e.target.value)}}})])])])])],1),s("br"),s("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[s("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row no-gutters align-items-center"},[s("div",{staticClass:"col mr-2"},[s("div",{staticClass:"text-xs font-weight-bold text-primary text-uppercase mb-1"},[t._v("Pending Reservations")]),s("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v(t._s(t.pendingReservation))])]),t._m(2)])])])]),s("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[s("div",{staticClass:"card border-left-danger shadow h-100 py-2"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row no-gutters align-items-center"},[s("div",{staticClass:"col mr-2"},[s("div",{staticClass:"text-xs font-weight-bold text-danger text-uppercase mb-1"},[t._v("No of Records")]),s("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v(t._s(t.doneTransaction))])]),t._m(3)])])])]),s("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[s("div",{staticClass:"card border-left-success shadow h-100 py-2"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row no-gutters align-items-center"},[s("div",{staticClass:"col mr-2"},[s("div",{staticClass:"text-xs font-weight-bold text-success text-uppercase mb-1"},[t._v("Followup Transaction")]),s("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v(t._s(t.followupTransaction))])]),t._m(4)])])])]),s("div",{staticClass:"col-xl-3 col-md-6 mb-4"},[s("div",{staticClass:"card border-left-info shadow h-100 py-2"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row no-gutters align-items-center"},[s("div",{staticClass:"col mr-2"},[s("div",{staticClass:"text-xs font-weight-bold text-info text-uppercase mb-1"},[t._v("Appointment Today")]),s("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v(t._s(t.appointmentToday))])]),t._m(5)])])])])])},_l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-user"}),t._v(" My Profile")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-lock"}),t._v(" Change Password")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-times fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-edit fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-check fa-2x text-gray-300"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"fas fa-clock fa-2x text-gray-300"})])}],Cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.firstname,expression:"staff.firstname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.firstname},on:{input:function(e){e.target.composing||t.$set(t.staff,"firstname",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.middlename,expression:"staff.middlename"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.middlename},on:{input:function(e){e.target.composing||t.$set(t.staff,"middlename",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.lastname,expression:"staff.lastname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.lastname},on:{input:function(e){e.target.composing||t.$set(t.staff,"lastname",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.email,expression:"staff.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.staff.email},on:{input:function(e){e.target.composing||t.$set(t.staff,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Birthday")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.bday,expression:"staff.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.staff.bday},on:{input:function(e){e.target.composing||t.$set(t.staff,"bday",e.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Contact No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.contact,expression:"staff.contact"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.contact},on:{input:function(e){e.target.composing||t.$set(t.staff,"contact",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.staff.gender,expression:"staff.gender"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staff,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.address,expression:"staff.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.address},on:{input:function(e){e.target.composing||t.$set(t.staff,"address",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.staff.usertype,expression:"staff.usertype!=2"}],staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Employee No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.staff.employeeNo,expression:"staff.employeeNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.employeeNo},on:{input:function(e){e.target.composing||t.$set(t.staff,"employeeNo",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.staff.usertype,expression:"staff.usertype==2"}],staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Medical History")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.staff.history,expression:"staff.history"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.staff.history},on:{input:function(e){e.target.composing||t.$set(t.staff,"history",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},yl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user"}),t._v(" Update User Information")])}],wl={props:{editInfo:{type:Object,required:!0}},data:function(){return{staff:JSON.parse(JSON.stringify(this.editInfo)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.staff.oldemail=this.editInfo.email,this.$store.dispatch("user/updateUser",this.staff).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal.fire("Profile has been updated","","success"),t.closethis(),t.$emit("refreshData"))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.staff.bday=Object(x["formatDate"])(this.staff.bday)}},xl=wl,kl=Object(m["a"])(xl,Cl,yl,!1,null,null,null),Sl=kl.exports,$l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("img",{style:t.imgstyle,attrs:{src:t.img},on:{click:function(e){return t.showuploadfile()}}}),a("input",{ref:"imgupload",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:function(e){return t.onFileChange(e)}}})]),a("div",{staticClass:"modal-footer"},[null!=t.imgfile?a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")]):t._e()])])])])},El=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-user"}),t._v(" Change Picture")])}],Dl={props:{oldimg:{type:String,required:!0}},data:function(){return{errormsg:[],imgstyle:{height:"200px",width:"200px"},img:"".concat(this.$store.state.apiUrl,"/public/images/default.png"),imgfile:null}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("user/changepic",{imgfile:this.imgfile,oldimg:this.oldimg,convert:0}).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.closethis(),t.$emit("refreshData"))}))},showuploadfile:function(){this.$refs.imgupload.click()},onFileChange:function(t){var e=this,a=t.target.files;if(0==a.length)console.log("empty");else{var s=new FileReader;s.onload=function(t){e.img=t.target.result},s.readAsDataURL(a[0])}this.imgfile=t.target.files[0]}},mounted:function(){}},Il=Dl,Tl=Object(m["a"])(Il,$l,El,!1,null,null,null),Nl=Tl.exports,Al={data:function(){return{editInfo:{},showeditModal:!1,showChangePassModal:!1,showchangepicModal:!1,userchangepass:{oldpass:"",password:"",password_confirmation:""},errormsg:[],imgUrl:this.$store.state.imgUrl}},methods:Object(r["a"])({closemodal:function(){this.showeditModal=!1,this.showchangepicModal=!1},edit:function(t){this.editInfo=this.user,this.editInfo.index=t,this.showeditModal=!0},refreshData:function(){this.getUserinfo(this.userlogin.id)}},Object(l["b"])("user",["getUserinfo"]),{changepass:function(){var t=this;this.$store.dispatch("user/changepass",this.userchangepass).then((function(e){console.log(t.userchangepass),e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage2.classList.add("show")):(t.$swal.fire("Your password has been changed!","","success"),t.showChangePassModal=!1,t.userchangepass={oldpass:"",password:"",password_confirmation:""})})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage2.classList.add("show"))}))}}),computed:Object(r["a"])({},Object(l["d"])({user:function(t){return t.user.userinfo},userlogin:function(t){return JSON.parse(t.userinfo)}}),{bday:{get:function(){return Object(x["formatBdayDate"])(this.user.bday)}},doneTransaction:{get:function(){var t=this.user.Transactions.filter((function(t){if(2==t.status)return t}));return null==t[0]?"None":t.length}},followupTransaction:{get:function(){var t=this.user.Transactions.filter((function(t){if(1==t.status)return t}));return null==t[0]?"None":t.length}},pendingReservation:{get:function(){var t=this.user.Reservations.filter((function(t){if(0==t.status)return t}));return null==t[0]?"None":t.length}},appointmentToday:{get:function(){var t=Object(x["formatDate"])(new Date),e=this.user.Reservations.filter((function(e){if((1==e.status||4==e.status)&&String(t)==String(e.date))return e}));return null==e[0]?"None":e.length}}}),mounted:function(){this.getUserinfo(this.userlogin.id),this.$store.dispatch("activenav","dashboardnav")},components:{editModal:Sl,picModal:Nl}},Ol=Al,Pl=(a("d1d8"),Object(m["a"])(Ol,bl,_l,!1,null,"4746b19b",null)),Ml=Pl.exports,jl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)])])])},Rl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-handshake"}),t._v(" Appointment List")])}],Ul={components:{FullCalendar:en["a"]},data:function(){return{calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"prev,next"},footerToolbar:{left:"today dayGridMonth,timeGridWeek,timeGridDay,listWeek"},contentHeight:"auto",height:"auto",navLinks:!0,initialView:"dayGridMonth",initialEvents:Xi,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventRemove:this.removeEvent,selectConstraint:{start:new Date,end:(new Date).setDate((new Date).getDate()+8)},customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}},currentEvents:[],calendarApi:null}},methods:{removeEvent:function(){alert("removed")},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect:function(t){var e=new Date(t.start),a=new Date,s=(new Date).setDate(a.getDate()+7);s=new Date(s),e>s||e<=a?alert("bawal lumabas"):alert("yehey");var n=prompt("Please enter a new title for your event"),i=t.view.calendar;i.unselect(),n&&i.addEvent({id:tr(),title:n,start:t.startStr,end:t.endStr,allDay:t.allDay,display:"background",color:"#ff9f89"})},handleEventClick:function(t){confirm("Are you sure you want to delete the event '".concat(t.event.title,"'"))&&t.event.remove()},handleEvents:function(t){this.currentEvents=t}},mounted:function(){this.$store.dispatch("activenav","reservationnav"),this.calendarApi=this.$refs.fullCalendar.getApi();var t=new Date,e=(new Date).setDate(t.getDate()+7),a=(new Date).setDate(t.getDate()+1);e=new Date(e),a=new Date(a),console.log(a),console.log(e)}},Fl=Ul,Ll=Object(m["a"])(Fl,jl,Rl,!1,null,null,null),Bl=Ll.exports,zl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{position:"relative"}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-6"},[a("span",{staticClass:"float-right",staticStyle:{"font-size":"16pt","font-weight":"bold",color:"dimgray"}},[t._v(" Check dates from "+t._s(t.formatDdate(t.startDate)))])])]),t._m(1),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)]),a("hr"),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-default",staticStyle:{background:"#343A40",color:"white"}},[t._v("Table List "),a("button",{staticClass:"btn btn-danger float-right",on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.reservationNo,expression:"search.reservationNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.reservationNo},on:{input:function(e){e.target.composing||t.$set(t.search,"reservationNo",e.target.value)}}})])]),a("div",{staticClass:"col col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterBranch,expression:"filterBranch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterBranch=e.target.multiple?a:a[0]}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.manualTableSearch()}}},[a("span",{staticClass:"fa fa-search"}),t._v(" Filter")])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(6),a("tbody",t._l(t.reservationsList,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.reservationNo))]),a("td",[t._v(t._s(e.date))]),a("td",[0==e.type?a("span",[t._v("New")]):a("span",[t._v("Followup")])]),a("td",[t._v(t._s(t.DHour(e.Start)))]),a("td",[t._v(t._s(t.DHour(e.End)))]),a("td",[t._v(t._s(t.getStatus(e.status)))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(" "+t._s(e.service))])})),0)]),a("td",[a("router-link",{attrs:{to:{name:"patientViewReservation",params:{idno:e.id}}}},[t._v("View Reservation Form")])],1)])})),0)])])])]),t.showAddModal?a("addModal",{attrs:{ActiveBranchIndex:t.ActiveBranchIndex,schedules:t.schedules,selectedDate:t.selectedDate},on:{closemodal:t.closemodal,init:t.init}}):t._e()],1)},Hl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("ul",{staticClass:"legends"},[a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#36B9CC"},attrs:{disabled:""}}),t._v(" Pending")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#1CC88A"},attrs:{disabled:""}}),t._v(" Approved")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#9F29E0"},attrs:{disabled:""}}),t._v(" Reschedule")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"maroon"},attrs:{disabled:""}}),t._v(" Denied")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"dimgray"},attrs:{disabled:""}}),t._v(" Cancelled")]),a("li",[a("button",{staticStyle:{height:"20px",width:"20px",background:"#385ECE"},attrs:{disabled:""}}),t._v(" Confirmed")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("For Emergency or Rush Appointment Please Contact Branch Helpdesk Hotline Number")]),a("li",[t._v("Failure to show after 15 minutes on scheduled time will cancel your reservation slot.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Appointment No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Branch")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"silver"}},[a("th",{staticStyle:{width:"10%"}},[t._v("AppointmentNo")]),a("th",{staticStyle:{width:"10%"}},[t._v("Date")]),a("th",[t._v("Type")]),a("th",{staticStyle:{width:"5%x"}},[t._v("Start")]),a("th",{staticStyle:{width:"10%"}},[t._v("End")]),a("th",{staticStyle:{width:"10%"}},[t._v("Status")]),a("th",{staticStyle:{width:"15%"}},[t._v("Dentist")]),a("th"),a("th",{staticStyle:{width:"12%"}})])])}],Yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bankModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"fa fa-plus"}),t._v(" Create Reservation "+t._s(t.formatDate(t.selectedDate))+" ( opening: "+t._s(t.opening)+" closing: "+t._s(t.closing)+" )")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closethis()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("span",{key:s},t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e)),e.length>1?a("br"):t._e()])})),0)})),0),a("div",{staticClass:"input-group mb-3",staticStyle:{display:"none"}},[t._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:t.reservation.branch,expression:"reservation.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reservation,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)]),a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.branchname,expression:"branchname"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"text",readonly:""},domProps:{value:t.branchname},on:{input:function(e){e.target.composing||(t.branchname=e.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[t._m(2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.reservation.type,expression:"reservation.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reservation,"type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("New Transaction")]),a("option",{attrs:{value:"1"}},[t._v("Followup")])])]),"1"==t.reservation.type?a("table",{staticClass:"table table-condensed"},[t._m(3),a("tbody",t._l(t.followups,(function(e,s){return a("tr",{key:s,ref:"followuptransaction",refInFor:!0,staticStyle:{cursor:"pointer"},on:{click:function(e){return t.selectedTransaction(s)}}},[a("td",[t._v(t._s(e.transactionNo))]),a("td",[t._v(t._s(e.transactionDate))]),a("td",[t._v(t._s(e.dentist))]),a("td",[a("ul",t._l(e.Treatments,(function(e){return a("li",{key:e.id},[t._v(t._s(e.service))])})),0)])])})),0)]):t._e(),1==t.reservation.type?a("div",{staticStyle:{"text-align":"center"}},[0==t.followups.length?a("span",{staticStyle:{color:"dimgray","font-weight":"bold","font-size":"16pt"}},[t._v("NO ACTIVE FOLLOWUP TRANSACTIONS")]):t._e()]):t._e(),"0"==t.reservation.type?a("div",{staticClass:"input-group mb-3"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.reservation.dentist,expression:"reservation.dentist"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reservation,"dentist",e.target.multiple?a:a[0])}}},t._l(t.branches[t.ActiveBranchIndex].Dentists,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.fullname))])})),0)]):t._e(),""!=t.reservation.dentist?a("div",{staticClass:"input-group mb-3"},[t._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:t.reservation.start,expression:"reservation.start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reservation,"start",e.target.multiple?a:a[0])}}},t._l(t.scheduletime,(function(e,s){return a("option",{key:s,attrs:{disabled:1==e.active},domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]):t._e(),"0"==t.reservation.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-10"},[a("div",{staticClass:"form-group"},[a("Select2",{attrs:{placeholder:t.ph,options:t.serviceOptions},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)]),a("div",{staticClass:"col col-md-2"},[a("button",{staticStyle:{width:"100%"},on:{click:t.add}},[a("span",{staticClass:"fa fa-plus"}),t._v(" Add")])])]):t._e(),"0"==t.reservation.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("table",{staticClass:"table table-condensed"},[t._m(6),a("tbody",t._l(t.reservation.servicelist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"list.price"}],staticClass:"form-control",staticStyle:{background:"white"},attrs:{type:"number",readonly:""},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})]),a("td",[a("button",{staticStyle:{background:"transparent",border:"none",color:"maroon"},on:{click:function(e){return t.removeserviceList(s)}}},[a("span",{staticClass:"fa fa-minus"})])])])})),0)])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:0==t.followups.length&&1==t.reservation.type},on:{click:t.save}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},ql=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Branch")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Branch")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Transaction No")]),a("th",[t._v("Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Treatments")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Dentist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Time")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Service")]),a("th",[t._v("Amount")]),a("th")])])}],Vl={components:{Select2:Pa["a"]},props:{ActiveBranchIndex:{type:Number,required:!0},selectedDate:{type:String,required:!0},schedules:{type:Array,required:!0}},watch:{"reservation.dentist":function(t){this.refreshscheduletime(),this.filtertimedata.dentist=t,this.blockapprovedTime()},"reservation.branch":function(t){var e=this.branches.filter((function(e){if(e.id==t)return e})),a=this.branches.indexOf(e[0]);this.ActiveBranchIndex=a,this.refreshscheduletime()}},data:function(){return{errormsg:[],branchname:"",reservation:{branch:"",type:"",start:"",dentist:"",transaction:"",servicelist:[],selectedDate:this.selectedDate},dayindex:"",scheduletoday:{},scheduletime:[],opening:"",closing:"",schedulestring:["12:00 am","01:00 am","02:00 am","03:00 am","04:00 am","05:00 am","06:00 am","07:00 am","08:00 am","09:00 am","10:00 am","11:00 am","12:00 pm","01:00 pm","02:00 pm","03:00 pm","04:00 pm","05:00 pm","06:00 pm","07:00 pm","08:00 pm","09:00 pm","10:00 pm","11:00 pm"],myValue:"",ph:"Service List",filtertimedata:{dentist:"",date:this.selectedDate}}},methods:Object(r["a"])({refreshscheduletime:function(){var t=this;this.reservation.branch=this.branches[this.ActiveBranchIndex].id;var e=new Date(this.selectedDate),a=e.getDay();this.dayindex=a;var s=this.branches[this.ActiveBranchIndex].Schedules.filter((function(e){if(e.index==t.dayindex)return e}));this.scheduletoday=s[0];var n=parseInt(this.scheduletoday.start.split(":")[0]),i=parseInt(this.scheduletoday.end.split(":")[0]);for(this.opening=Object(x["formatraw12Hour"])(this.scheduletoday.start),this.closing=Object(x["formatraw12Hour"])(this.scheduletoday.end),this.scheduletime=[],n;n<i;n++)this.scheduletime.push({active:0,index:n,value:"".concat(n,":00"),text:this.schedulestring[n]})},blockapprovedTime:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("reservation/getApprovedTimeDay",this.filtertimedata);case 2:this.getReserveTime.forEach((function(t){e.scheduletime.forEach((function(a){a.index==t.index&&(a.active=1,a.text="".concat(e.schedulestring[a.index]," - Unavailable"))}))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectedTransaction:function(t){var e=this.$refs.followuptransaction[t];"silver"==e.style.background?(this.reservation.transaction="",this.reservation.dentist="",e.style.background="white"):(this.reservation.transaction=this.followups[t].id,this.reservation.dentist=this.followups[t].dentistId,e.style.background="silver")},closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("reservation/save",this.reservation).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$emit("init"),t.closethis(),t.$mysocket.emit("reservationCreated",e.data.data),t.$mysocket.emit("notificationCreated"),t.$swal.fire("Reservation has been created!","","success"))})).catch((function(t){return console.log(t)}))}},Object(l["b"])("dentist",["getList"]),{},Object(l["b"])("reservation",["getUserTransaction"]),{},Object(l["b"])("service",{getService:"getList"}),{formatDate:function(t){return Object(x["formatBdayDate"])(t)},add:function(){var t={id:this.branches[this.ActiveBranchIndex].Services[this.myValue].id,service:this.branches[this.ActiveBranchIndex].Services[this.myValue].service,price:this.branches[this.ActiveBranchIndex].Services[this.myValue].regularPrice};if(0==this.reservation.servicelist.length)this.reservation.servicelist.push(t);else{for(var e=0,a=0;a<this.reservation.servicelist.length;a++)if(this.reservation.servicelist[a].id==t.id){e=1;break}0==e&&this.reservation.servicelist.push(t)}this.myValue=""},removeserviceList:function(t){this.reservation.servicelist.splice(t,1)},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("branch/getListAllInfo");case 2:this.reservation.branch=this.branches[this.ActiveBranchIndex].id,this.branchname=this.branches[this.ActiveBranchIndex].branch,this.getList(),this.getUserTransaction({status:1,branch:this.reservation.branch}),this.getService();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(r["a"])({},Object(l["d"])({dentists:function(t){return t.dentist.dentists},followups:function(t){return t.reservation.followupTransactions},services:function(t){return t.service.services},approvedTimes:function(t){return t.reservation.approvedTimes},branches:function(t){return t.branch.branches}}),{},Object(l["c"])("reservation",["getReserveTime"]),{serviceOptions:{get:function(){var t=-1;return this.branches[this.ActiveBranchIndex].Services.map((function(e){return t++,{id:t,text:"".concat(e.service," ( ").concat(e.description," ) - Estimated Price: P ").concat(e.regularPrice)}}))}}}),mounted:function(){this.init()}},Gl=Vl,Jl=Object(m["a"])(Gl,Yl,ql,!1,null,null,null),Wl=Jl.exports,Zl={components:{FullCalendar:en["a"],addModal:Wl},data:function(){return{search:{start:"",end:"",reservationNo:""},ActiveBranchIndex:0,filterBranch:"",startDate:"",endDate:"",calendarOptions:{plugins:[an["b"],sn["a"],rn["a"],nn["a"]],headerToolbar:{left:"title",right:"prev,next"},footerToolbar:{left:"today dayGridMonth,timeGridDay,listWeek"},contentHeight:"auto",height:"auto",navLinks:!0,allDaySlot:!1,slotDuration:"00:10:00",slotMinTime:"00:00:00",slotMaxTime:"00:00:00",initialView:"dayGridMonth",events:this.getReservationEvents,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,eventContent:this.eventRender,datesSet:this.rendernewDates,eventRemove:this.removeEvent,selectConstraint:{},hiddenDays:[],customButtons:{custom1:{text:"custom 1",click:function(){alert("clicked custom button 1!")}}}},currentEvents:[],calendarApi:null,showAddModal:!1,changeeventwatcher:"",changeNum:0}},watch:{changeeventwatcher:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("gg"),e=this.$refs.fullCalendar.getApi(),t.next=4,this.getPatientReservations({start:e.view.activeStart,end:e.view.activeEnd,branchid:this.branches[this.ActiveBranchIndex].id,reservationNo:this.search.reservationNo});case 4:this.calendarOptions.events=this.getReservationEvents;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterBranch:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=this.branches.filter((function(t){if(t.id==e)return t})),s=this.branches.indexOf(a[0]),this.ActiveBranchIndex=s,n=document.getElementsByClassName("navbranch"),i=0;i<n.length;i++)n[i].classList.remove("active");return n[s].classList.add("active"),r=this.$refs.fullCalendar.getApi(),t.next=9,this.getPatientReservations({start:r.view.activeStart,end:r.view.activeEnd,branchid:this.branches[this.ActiveBranchIndex].id,reservationNo:this.search.reservationNo});case 9:this.calendarOptions.events=this.getReservationEvents,this.resetScheduledDate();case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},methods:Object(r["a"])({printPDF:function(){var t=this,e=this.reservationsList.map((function(e){var a=0==e.type?"New":"Followup",s="";return e.Treatments.forEach((function(t){s+="* ".concat(t.service)})),[e.reservationNo,e.date,a,t.DHour(e.Start),t.DHour(e.End),t.getStatus(e.status),e.Dentist.fullname,s]}));e.sort(),e.unshift(["APPOINTMENT NO","DATE","TYPE","START","END","STATUS","DENTIST","TREATMENTS"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"landscape",content:[{text:"".concat(this.branches[this.ActiveBranchIndex].branch," Appointments From ").concat(this.$helper.formatBdayDate(this.search.start)," To ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["*","auto","auto","auto","auto","auto","*","*"],body:e}}]};this.$pdfMake.createPdf(a).open()},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.ActiveBranchIndex=t,this.filterBranch=this.branches[this.ActiveBranchIndex].id},assignPossibleDates:function(){var t=(new Date).setDate((new Date).getDate()+8),e=this.checkifnooperation(t);0==this.ActiveReservation.length&&this.getReservationEvents.push({start:Object(x["formatDate"])(e),end:Object(x["formatDate"])(e.setDate(e.getDate()+1)),overlap:!1,display:"background",color:"#DEF5DA",customRender:!1,extendedProps:{status:10,dentist:"",branch:""}})},rendernewDates:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPatientReservations({start:e.start,end:e.end,branchid:this.branches[this.ActiveBranchIndex].id,reservationNo:this.search.reservationNo});case 2:this.assignPossibleDates(),this.calendarOptions.events=this.getReservationEvents;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),eventRender:function(t){var e,a="",s="white";switch(t.event.extendedProps.status){case 0:e="#36B9CC";break;case 1:e="#1CC88A";break;case 2:e="maroon";break;case 3:e="dimgray";break;default:e="#385ECE";break}return 1==t.event.extendedProps.isResched&&1==t.event.extendedProps.status&&(e="#9F29E0"),a='<div style="background: '.concat(e,";color:").concat(s,';height:100%;width:100%;position: relative;padding:10px;"><span style="font-weight:bold">').concat(t.event.title,"</span>\n            <br/>\n            <span>").concat(this.formatDHour(t.event.start)," - ").concat(this.formatDHour(t.event.end),"</span>\n            <br/>\n            <span>Dentist: ").concat(t.event.extendedProps.dentist,"</span>\n            <br/>\n            <span>Branch: ").concat(t.event.extendedProps.branch,"</span></div>"),t.event.title||(a=""),{html:a}},changEvent:function(){console.log("changed")},addEvent:function(){console.log("add")},removeEvent:function(){console.log("removed")},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect:function(t){this.showAddModal=!0,this.selectedDate=t.startStr},handleEventClick:function(t){10!=t.event.extendedProps.status&&this.$router.push({name:"patientViewReservation",params:{idno:t.event.id}})},handleEvents:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.currentEvents=e,a=this.$refs.fullCalendar.getApi(),s=new Date(a.getDate()),s=s.getDay(),this.calendarOptions.slotMinTime="".concat(this.branches[this.ActiveBranchIndex].Schedules[s].start,":00"),this.calendarOptions.slotMaxTime="".concat(this.branches[this.ActiveBranchIndex].Schedules[s].end,":00");case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),DHour:function(t){return this.$helper.formatraw12Hour(t)},formatDHour:function(t){return Object(x["format12Hour"])(t)},formatDdate:function(t){return Object(x["formatBdayDate"])(t)}},Object(l["b"])(["getSchedules"]),{},Object(l["b"])("reservation",["getPatientReservations"]),{closemodal:function(){this.showAddModal=!1},getStatus:function(t){var e;switch(t){case 0:e="Pending";break;case 1:e="Approved";break;case 2:e="Denied";break;case 3:e="Cancelled";break;default:e="Confirmed";break}return e},checkifnooperation:function(t){var e=new Date(t),a=e.getDay(),s=this.InactiveSchedules().indexOf(a);return-1!=s&&(e=e.setDate(e.getDate()+1),this.checkifnooperation(e)),new Date(e)},init:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("branch/getListAllInfo");case 2:return this.filterBranch=this.branches[this.ActiveBranchIndex].id,e=this.$refs.fullCalendar.getApi(),a=new Date(e.getDate()),a=a.getDay(),this.calendarOptions.slotMinTime="".concat(this.branches[this.ActiveBranchIndex].Schedules[a].start,":00"),this.calendarOptions.slotMaxTime="".concat(this.branches[this.ActiveBranchIndex].Schedules[a].end,":00"),this.search.start=this.$helper.formatDate(e.view.activeStart),this.search.end=this.$helper.formatDate(e.view.activeEnd),t.next=12,this.getPatientReservations({start:e.view.activeStart,end:e.view.activeEnd,branchid:this.branches[this.ActiveBranchIndex].id,reservationNo:this.search.reservationNo});case 12:this.calendarOptions.events=this.getReservationEvents,this.resetScheduledDate();case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetScheduledDate:function(){var t=(new Date).setDate((new Date).getDate()+8),e=this.checkifnooperation(t);this.calendarOptions.selectConstraint.start=new Date("".concat(Object(x["formatDate"])(e.setDate(e.getDate()-1))," 23:59:00")),this.calendarOptions.selectConstraint.end=0==this.ActiveReservation.length?new Date(e.setDate(e.getDate()+2)):new Date(e.setDate(e.getDate()+1)),this.startDate=new Date(e.setDate(e.getDate()-1)),this.assignPossibleDates()},manualTableSearch:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPatientReservations({start:this.search.start,end:this.search.end,branchid:this.branches[this.ActiveBranchIndex].id,reservationNo:this.search.reservationNo});case 2:this.calendarOptions.events=this.getReservationEvents;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),InactiveSchedules:function(){var t=[];return this.branches[this.ActiveBranchIndex].Schedules.filter((function(e){0==e.active&&t.push(e.index)})),t}}),computed:Object(r["a"])({userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},Object(l["d"])({schedules:function(t){return t.schedules},reservations:function(t){return t.reservation.reservations},reservationsList:function(t){return t.reservation.reservationsList},branches:function(t){return t.branch.branches}}),{},Object(l["c"])("reservation",["getReservationEvents"]),{ActiveReservation:{get:function(){var t=this.getReservationEvents.filter((function(t){if(1==t.extendedProps.status)return t}));return t}}}),mounted:function(){var t=this;this.$store.dispatch("reservation/getNextAppointment"),this.$store.dispatch("activenav","reservationnav"),this.init();var e=this.$refs.fullCalendar.getApi();this.$mysocket.emit("listenPrivate","patient_".concat(this.userinfo.id)),this.$mysocket.on("updatePatientNotification",Object(j["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getPatientReservations({start:e.view.activeStart,end:e.view.activeEnd,branchid:t.branches[t.ActiveBranchIndex].id,reservationNo:t.search.reservationNo});case 2:t.calendarOptions.events=t.getReservationEvents,s=(new Date).setDate((new Date).getDate()+8),n=t.checkifnooperation(s),t.calendarOptions.selectConstraint.start=new Date("".concat(Object(x["formatDate"])(n.setDate(n.getDate()-1))," 23:59:00")),t.calendarOptions.selectConstraint.end=0==t.ActiveReservation.length?new Date(n.setDate(n.getDate()+2)):new Date(n.setDate(n.getDate()+1)),t.assignPossibleDates();case 8:case"end":return a.stop()}}),a)}))))}},Ql=Zl,Kl=(a("4de0"),Object(m["a"])(Ql,zl,Hl,!1,null,"1662f8c5",null)),Xl=Kl.exports,td=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"printdiv",staticStyle:{padding:"10px 5%",position:"relative"}},[a("div",{staticStyle:{"text-align":"center",position:"relative","margin-bottom":"50px"}},[a("button",{staticClass:"noprint float-left",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[a("span",{staticClass:"fa fa-times"}),t._v("Close")]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v("Print")]),a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.reservationInfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.reservationInfo.Branch.address)+" ( Contact No: "+t._s(t.reservationInfo.Branch.contact)+" Email Address: "+t._s(t.reservationInfo.Branch.email)+" )")])]),t._m(0),a("table",{staticClass:"noborder",attrs:{width:"100%"}},[a("tr",{staticStyle:{background:"#FFFFFF"}},[a("td",{staticClass:"itemtitle",staticStyle:{width:"20%"}},[t._v("RESERVATION NO")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.reservationNo))]),a("td",{staticClass:"itemtitle",staticStyle:{width:"20%"}},[t._v("DATE")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.date))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("START TIME")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.start))]),a("td",{staticClass:"itemtitle"},[t._v("END TIME")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.end))])]),a("tr",{staticStyle:{background:"#FFFFFF"}},[a("td",{staticClass:"itemtitle"},[t._v("PATIENT NAME")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.User.fullname))]),a("td",{staticClass:"itemtitle"},[t._v("EMAIL")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.User.email))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("CONTACT")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.User.contact))]),a("td",{staticClass:"itemtitle"},[t._v("AGE")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.Age))])]),a("tr",{staticStyle:{background:"#FFFFFF"}},[a("td",{staticClass:"itemtitle"},[t._v("STATUS")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.status))]),a("td",{staticClass:"itemtitle"},[t._v("DENTIST")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.reservationInfo.Dentist.fullname))])])]),a("table",{staticClass:"border",staticStyle:{margin:"50px 0px"},attrs:{width:"100%"}},[t._m(1),t._l(t.reservationInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.amount))])])})),t._m(2),t._m(3),t._m(4),a("tr",[a("td",{staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{colspan:"2"}},[t._v("Estimated Total Amount")]),a("td",{staticStyle:{background:"white"}},[t._v(t._s(t.totalAmount))])])],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("table",{staticClass:"border",staticStyle:{margin:"0px",width:"100%"}},[t._m(5),t._l(t.reservationInfo.Branch.Schedules,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.day))]),a("td",[1==e.active?a("span",[t._v(t._s(t.dDate(e.start))+" to "+t._s(t.dDate(e.end)))]):a("span",[t._v("No Operation")])])])}))],2)]),a("div",{staticClass:"col-md-8",staticStyle:{"text-align":"center"}},[a("barcode",{attrs:{value:t.reservationInfo.reservationNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)]),a("br"),0==t.reservationInfo.status?a("div",{staticClass:"col-md-4 noprint"},[a("button",{staticClass:"btn btn-danger form-control float-left",on:{click:t.deletereservation}},[a("span",{staticClass:"fa fa-times"}),t._v(" Delete")])]):t._e()])},ed=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[t._v("RESERVATION FORM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticStyle:{width:"10%"}},[t._v("#")]),a("td",[t._v("Treatment")]),a("td",{staticStyle:{width:"20%"}},[t._v("Estimated Price")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{attrs:{colspan:"2"}},[t._v("Clinic Schedules")])])}],ad={components:{barcode:co.a},computed:Object(r["a"])({},Object(l["d"])({reservationInfo:function(t){return t.reservation.reservationInfo}}),{Age:{get:function(){return Object(x["calculateAge"])(this.reservationInfo.User.bday)}},totalAmount:{get:function(){var t=0;return this.reservationInfo.Treatments.forEach((function(e){t+=parseFloat(e.amount)})),t}},start:{get:function(){return this.$helper.formatraw12Hour(this.reservationInfo.Start)}},end:{get:function(){return this.$helper.formatraw12Hour(this.reservationInfo.End)}},status:{get:function(){var t,e=this.reservationInfo.status;switch(e){case 0:t="Pending";break;case 1:t="Approved";break;case 2:t="Denied";break;case 3:t="Cancelled";break;default:t="Confirmed";break}return t}}}),methods:Object(r["a"])({dDate:function(t){return Object(x["formatraw12Hour"])(t)},print:function(){window.print()},close:function(){this.$router.go(-1)}},Object(l["b"])("notification",["markasReadpatient"]),{deletereservation:function(){var t=this;this.$swal({title:"Are you sure you want to delete this reservation?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!",cancelButtonText:"No"}).then((function(e){e.value&&t.$store.dispatch("reservation/deleteReservation",t.$route.params.idno).then((function(){return t.$router.push({name:"patientReservation"})})).catch((function(t){return console.log(t)}))}))}}),mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("activenav","reservationnav"),e.next=3,t.$store.dispatch("reservation/getReservationInfo",t.$route.params.idno);case 3:return e.next=5,t.markasReadpatient(t.$route.params.idno);case 5:case"end":return e.stop()}}),e)})))()}},sd=ad,nd=(a("f094"),Object(m["a"])(sd,td,ed,!1,null,"17f1ff35",null)),id=nd.exports,rd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid"},[t._m(0),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"col-md-12",staticStyle:{padding:"0","margin-bottom":"10px"}},t._l(t.feedback.stars,(function(e,n){return s("div",{key:n,staticStyle:{position:"inline",float:"left"},on:{click:function(e){return t.ratestar(n)}}},[0==e.check?s("img",{ref:"ratestar",refInFor:!0,staticStyle:{cursor:"pointer",height:"50px",width:"50px",margin:"5px"},attrs:{src:a("258b")}}):s("img",{ref:"ratestar",refInFor:!0,staticStyle:{cursor:"pointer",height:"50px",width:"50px",margin:"5px"},attrs:{src:a("026f")}})])})),0),s("div",{staticClass:"input-group mb-3"},[t._m(1),s("select",{directives:[{name:"model",rawName:"v-model",value:t.feedback.branch,expression:"feedback.branch"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.feedback,"branch",e.target.multiple?a:a[0])}}},t._l(t.branches,(function(e,a){return s("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.branch))])})),0)]),s("div",{staticClass:"input-group mb-3"},[t._m(2),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feedback.comment,expression:"feedback.comment"}],staticClass:"form-control",attrs:{rows:"10"},domProps:{value:t.feedback.comment},on:{input:function(e){e.target.composing||t.$set(t.feedback,"comment",e.target.value)}}})]),s("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,a){return s("span",{key:a},t._l(e,(function(e,a){return s("span",{key:a},[t._v(t._s(e)),e.length>1?s("br"):t._e()])})),0)})),0),s("button",{staticClass:"btn btn-primary form-control",on:{click:function(e){return t.save()}}},[s("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])]),s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,a){return s("li",{key:a,staticClass:"nav-item"},[s("a",0==a?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(a)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changeFilterbranch(a)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),s("table",{staticClass:"table table-condensed table-striped"},[t._m(3),s("tbody",t._l(t.feedbackFinal,(function(e,n){return s("tr",{key:n},[s("td",[t._v(t._s(t.dDate(e.createdAt)+" "+t.dHour(e.createdAt)))]),s("td",t._l(e.stararray,(function(t,e){return s("img",{key:e,staticStyle:{height:"20px",width:"20px"},attrs:{src:a("026f")}})})),0),s("td",[t._v(t._s(e.message))]),s("td",[s("button",{staticStyle:{color:"maroon",border:"none",background:"transparent"},on:{click:function(a){return t.removecomment(e.id,n)}}},[s("span",{staticClass:"fa fa-times"})])])])})),0)])])])])])])])},od=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-star"}),t._v(" Clinic Feedbacks")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Branch")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Comment")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#3B61D1",color:"white"}},[a("th",{staticStyle:{width:"20%"}},[t._v("Date")]),a("th",[t._v("Rating")]),a("th",[t._v("Comment")]),a("th",{staticStyle:{width:"20px"}})])])}],cd={data:function(){return{feedback:{branch:"",comment:"",stars:[{check:1},{check:0},{check:0},{check:0},{check:0}]},activeIndexBranch:0,errormsg:[]}},methods:{dHour:function(t){return Object(x["format12Hour"])(t)},dDate:function(t){return Object(x["formatBdayDate"])(t)},ratestar:function(t){if(0==this.feedback.stars[t].check)for(var e=t+1;e>0;e--){var a=e-1;this.feedback.stars[a].check=1}else for(var s=t+1;s<this.feedback.stars.length;s++)this.feedback.stars[s].check=0},removecomment:function(t,e){var a=this;this.$swal({title:"Remove this feedback?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(s){s.value&&a.$store.dispatch("feedback/remove",{id:t,index:e})}))},changeFilterbranch:function(t){for(var e=document.getElementsByClassName("navbranch"),a=0;a<e.length;a++)e[a].classList.remove("active");e[t].classList.add("active"),this.activeIndexBranch=t,this.$store.dispatch("feedback/patientget",this.branches[this.activeIndexBranch].id)},save:function(){var t=this;this.$store.dispatch("feedback/save",this.feedback).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):(t.$swal("Feedback has been created","","success"),t.errormsg=[],t.$refs.errormessage.classList.remove("show"),t.feedback={branch:"",comment:"",stars:[{check:1},{check:0},{check:0},{check:0},{check:0}]}),t.$store.dispatch("feedback/patientget",t.branches[t.activeIndexBranch].id)})).catch((function(t){return console.log(t)}))}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},feedbacks:function(t){return t.feedback.feedbacks}}),{},Object(l["c"])("feedback",["feedbackFinal"])),mounted:function(){var t=this;this.$store.dispatch("activenav","feedbacknav"),this.$store.dispatch("branch/getList").then((function(){return t.$store.dispatch("feedback/patientget",t.branches[t.activeIndexBranch].id)})).then((function(){})).catch((function(t){return console.log(t)}))}},ld=cd,dd=Object(m["a"])(ld,rd,od,!1,null,null,null),ud=dd.exports,md=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("button",{staticClass:"btn btn-danger float-right",on:{click:t.printPDF}},[a("span",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf")]),a("hr"),a("ul",{staticClass:"nav nav-tabs"},t._l(t.branches,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",0==s?{staticClass:"active navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}}:{staticClass:"navbranch nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.changeFilterbranch(e.id,s)}}},[t._v(" "+t._s(e.branch)+" ")])])})),0),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.start,expression:"search.start"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.start},on:{input:function(e){e.target.composing||t.$set(t.search,"start",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.end,expression:"search.end"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.search.end},on:{input:function(e){e.target.composing||t.$set(t.search,"end",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.transactionNo,expression:"search.transactionNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.transactionNo},on:{input:function(e){e.target.composing||t.$set(t.search,"transactionNo",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"form-control btn btn-primary",on:{click:t.searchProceed}},[a("span",{staticClass:"fa fa-search"}),t._v(" Search")])])]),a("table",{staticClass:"table table-condensed table-striped"},[t._m(4),a("tbody",t._l(t.transactions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.transactionNo))]),a("td",[t._v(t._s(e.transactionDate))]),a("td",[t._v(t._s(e.Dentist.fullname))]),a("td",[t._v(t._s(t.getStatus(e.status)))]),a("td",[a("a",{attrs:{target:"_blank",href:"./transaction/"+e.id+"/form"}},[t._v("View Details")])])])})),0)])])])])])},pd=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" My Transactions")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[t._v("Transaction No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Reference No")]),a("th",[t._v("Date")]),a("th",[t._v("Dentist")]),a("th",[t._v("Status")]),a("th")])])}],hd={data:function(){return{activebranchIndex:0,search:{start:"",end:"",transactionNo:"",branch:"",dentist:"All",status:"All"}}},methods:{printPDF:function(){var t=this,e=this.transactions.map((function(e){return[e.transactionNo,e.transactionDate,e.Dentist.fullname,t.getStatus(e.status)]}));e.sort(),e.unshift(["REFERENCE NO","DATE","DENTIST","STATUS"]);var a={watermark:{text:"AnzaYap Dental Clinic",color:"blue",opacity:.1,bold:!0,italics:!1},footer:function(t,e){return{text:t.toString()+" of "+e,alignment:"center"}},pageOrientation:"portrait",content:[{text:"".concat(this.branches[this.activebranchIndex].branch," Transaction Records From ").concat(this.$helper.formatBdayDate(this.search.start)," To ").concat(this.$helper.formatBdayDate(this.search.end)),alignment:"center",margin:[0,0,0,20]},{table:{widths:["auto","auto","*","auto"],body:e}}]};this.$pdfMake.createPdf(a).open()},getStatus:function(t){var e="";switch(t){case 0:e="On-Going";break;case 1:e="For Followup";break;case 2:e="Done";break;default:e="Cancelled";break}return e},changeFilterbranch:function(t,e){for(var a=document.getElementsByClassName("navbranch"),s=0;s<a.length;s++)a[s].classList.remove("active");a[e].classList.add("active"),this.activebranchIndex=e,this.search.branch=this.branches[this.activebranchIndex].id,console.log(this.search),this.$store.dispatch("transaction/getRecords",this.search)},dHour:function(t){return Object(x["format12Hour"])(t)},searchProceed:function(){console.log(this.search),this.$store.dispatch("transaction/getRecords",this.search)}},computed:Object(r["a"])({},Object(l["d"])({branches:function(t){return t.branch.branches},transactions:function(t){return t.transaction.usertransactions}})),mounted:function(){var t=this;this.$store.dispatch("activenav","recordnav"),this.$store.dispatch("branch/getList").then((function(){var e=new Date;t.search.start=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth(),1)),t.search.end=Object(x["formatDate"])(new Date(e.getFullYear(),e.getMonth()+1,0)),t.search.branch=t.branches[t.activebranchIndex].id,console.log(t.search),t.$store.dispatch("transaction/getRecords",t.search)})).catch((function(t){return console.log(t)}))}},fd=hd,vd=Object(m["a"])(fd,md,pd,!1,null,null,null),gd=vd.exports,bd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"printdiv",staticStyle:{padding:"10px 0%"}},[a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Transaction No: "+t._s(t.transactionInfo.transactionNo))]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v("Print")]),a("hr",{staticClass:"noprint"}),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.transactionInfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.transactionInfo.Branch.address)+" ( Contact No: "+t._s(t.transactionInfo.Branch.contact)+" Email Address: "+t._s(t.transactionInfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.transactionInfo.Branch.tin))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._m(0),a("table",{staticClass:"border"},[t._m(1),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("FULLNAME")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.fullname))]),a("td",{staticClass:"itemtitle"},[t._v("EMAIL ADDRESS")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.email))]),a("td",{staticClass:"itemtitle"},[t._v("CONTACT NO")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.contact))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("BIRTHDAY")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.bday))]),a("td",{staticClass:"itemtitle"},[t._v("AGE")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.age))]),a("td",{staticClass:"itemtitle"},[t._v("GENDER")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.User.gender))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("ADDRESS")]),a("td",{staticClass:"itemvalue",attrs:{colspan:"5"}},[t._v(t._s(t.transactionInfo.User.address))])]),a("tr",[a("td",{staticClass:"itemtitle"},[t._v("MEDICAL HISTORY")]),a("td",{staticClass:"itemvalue",attrs:{colspan:"5"}},[t._v(t._s(t.transactionInfo.User.history))])])]),a("table",{staticClass:"border",staticStyle:{"margin-top":"20px"}},[t._m(2),a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("TRANSACTION NO")]),a("td",{staticClass:"itemvalue",staticStyle:{width:"15%"}},[t._v(t._s(t.transactionInfo.transactionNo))]),a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("TRANSACTION DATE")]),a("td",{staticClass:"itemvalue",staticStyle:{width:"15%"}},[t._v(t._s(t.tdate))]),a("td",{staticClass:"itemtitle",staticStyle:{width:"15%"}},[t._v("DENTIST")]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.transactionInfo.Dentist.fullname))])])]),a("hr"),a("span",{staticStyle:{"font-size":"16pt"}},[t._v("TREATMENTS")]),a("table",{staticClass:"table table-condensed table-bordered"},[t._m(3),a("tbody",[t._l(t.transactionInfo.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.service)+" "),a("br"),t._v("Price: P "+t._s(e.actualAmount)+" ")]),a("td",[a("table",{staticClass:"table table-condensed"},[t._m(4,!0),t._l(e.Actions,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t.hour(e.starttime)))]),a("td",[t._v(t._s(t.hour(e.endtime)))]),a("td",{domProps:{innerHTML:t._s(e.diagnosis)}}),a("td",[t._v(t._s(e.actiontaken))]),a("td",{staticStyle:{"text-align":"center"}},[t._l(e.teeths,(function(e,s){return a("span",{key:s},[0==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])})),a("hr"),t._l(e.teeths,(function(e,s){return a("span",{key:s},[1==e.flag?a("span",[t._v(t._s(e.orderNo)+" ")]):t._e()])}))],2)])}))],2)])])})),a("tr",[a("td",{staticStyle:{"font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Total Amount: P "+t._s(t.getTotalAmount)+" "),a("br"),t._v("Discount Amount: P "+t._s(t.transactionInfo.discount)+" "),a("br"),t._v("Grand Total Amount: P "+t._s(t.getTotalAmount-t.transactionInfo.discount))])])],2)]),a("hr"),a("span",{staticStyle:{"font-size":"16pt"}},[t._v("PAYMENTS")]),a("table",{staticClass:"table table-condensed"},[t._m(5),a("tbody",[t._l(t.transactionInfo.Billings,(function(e,s){return a("tr",{key:s},[a("td",[a("a",{attrs:{href:"../bill/"+e.id,target:"_blank"}},[t._v(t._s(e.billrefNo))])]),a("td",[t._v(t._s(e.date)+" "+t._s(t.hour(e.createdAt)))]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("HealthCard")])]),a("td",[t._v(t._s(e.payment))])])})),a("tr",[a("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v("Total:")]),a("td",[t._v(t._s(t.paymentTotal))])])],2)])])]),a("div",[a("barcode",{attrs:{value:t.transactionInfo.transactionNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)])])])])},_d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("TRANSACTION FORM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticClass:"itemtitle",attrs:{colspan:"6"}},[t._v("PATIENT INFORMATIONS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticClass:"itemtitle",attrs:{colspan:"6"}},[t._v("TRANSACTION INFORMATIONS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("Treatment")]),a("th",[t._v("Action Taken")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"silver"}},[a("td",[t._v("Date")]),a("td",{staticStyle:{width:"20px"}},[t._v("StartTime")]),a("td",{staticStyle:{width:"20px"}},[t._v("EndTime")]),a("td",[t._v("Diagnosis")]),a("td",[t._v("Action")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("Tooth No")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Referrence No")]),a("th",[t._v("Date")]),a("th",[t._v("Type")]),a("th",[t._v("Payment")])])])}],Cd={components:{barcode:co.a},methods:{print:function(){window.print()},hour:function(t){return this.$helper.formatHour(t)}},computed:Object(r["a"])({},Object(l["d"])({transactionInfo:function(t){return t.transaction.transactionInfo}}),{age:{get:function(){return this.$helper.calculateAge(this.transactionInfo.User.bday)}},bday:{get:function(){return this.$helper.formatBdayDate(this.transactionInfo.User.bday)}},tdate:{get:function(){return this.$helper.formatBdayDate(this.transactionInfo.transactionDate)}},getTotalAmount:{get:function(){var t=0;return this.transactionInfo.Treatments.forEach((function(e){t+=parseFloat(e.actualAmount)})),t}},paymentTotal:{get:function(){var t=0;return this.transactionInfo.Billings.forEach((function(e){t+=parseFloat(e.payment)})),t}}}),mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("activenav","recordnav"),t.$store.dispatch("transaction/getTransaction",t.$route.params.idno);case 2:case"end":return e.stop()}}),e)})))()}},yd=Cd,wd=Object(m["a"])(yd,bd,_d,!1,null,null,null),xd=wd.exports,kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"printdiv",staticStyle:{padding:"10px 0%"}},[a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-file-alt"}),t._v(" Bill Reference No: "+t._s(t.billinfo.billrefNo))]),a("button",{staticClass:"noprint float-right",attrs:{type:"button"},on:{click:function(e){return t.print()}}},[a("span",{staticClass:"fa fa-print"}),t._v("Print")]),a("hr",{staticClass:"noprint"}),a("div",{staticClass:"card",staticStyle:{border:"none","box-shadow":"none !important"}},[a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px",position:"relative"}},[a("span",{staticStyle:{"text-align":"center","font-size":"28pt","font-weight":"bold"}},[a("span",{staticStyle:{color:"#4167D6"}},[t._v("Anza")]),t._v("-"),a("span",{staticStyle:{color:"orange"}},[t._v("Yap")]),t._v(" "),a("span",{staticStyle:{color:"#083D55"}},[t._v("Dental Clinic")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"22pt"}},[t._v(" - "+t._s(t.billinfo.Branch.branch))])]),a("br"),a("small",[t._v(t._s(t.billinfo.Branch.address)+" ( Contact No: "+t._s(t.billinfo.Branch.contact)+" Email Address: "+t._s(t.billinfo.Branch.email)+" )")]),a("br"),a("small",[t._v("VAT Reg. TIN: "+t._s(t.billinfo.Branch.tin))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._m(0),a("table",{staticClass:"table table-bordered table-condensed billtable"},[a("tr",[a("td",{staticStyle:{width:"50%"},attrs:{rowspan:"5"}},[a("span",{staticStyle:{"font-weight":"bold","font-size":"1.5em"}},[t._v(t._s(t.billinfo.customerName.toUpperCase()))]),a("br"),a("span",[t._v(t._s(t.billinfo.User.address.toUpperCase()))]),a("br"),a("span",[t._v(t._s(t.billinfo.User.email))])])]),t._m(1),a("tr",[a("td",[t._v(t._s(t.billinfo.billrefNo))]),a("td",[t._v(t._s(t.billdate))])]),t._m(2),a("tr",[a("td",[t._v(t._s(t.billinfo.Transaction.transactionNo))]),a("td",[t._v(t._s(t.billtype))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-bordered billtable",staticStyle:{width:"101%"}},[t._m(3),t._m(4),a("tr",[a("td",{staticClass:"itemvalue"},[t._v(t._s(t.billinfo.totalAmount))]),a("td",{staticClass:"itemvalue"},[0==t.billinfo.type?a("span",[t._v(t._s(t.billinfo.payment))]):t._e()]),a("td",{staticClass:"itemvalue"},[1==t.billinfo.type?a("span",[t._v(t._s(t.billinfo.payment))]):t._e()]),a("td",{staticClass:"itemvalue"},[t._v(t._s(t.billinfo.totalAmount-t.billinfo.payment))])])])]),a("div",{staticClass:"col-md-6"},[a("table",{staticClass:"table table-bordered billtable",staticStyle:{width:"100%"}},[t._m(5),a("tr",[a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.healthcardname))])]),a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.healthcardno))])])]),t._m(6),a("tr",[a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.accountname))])]),a("td",[0==t.billinfo.type?a("span",[t._v("-")]):a("span",[t._v(t._s(t.billinfo.Healthcard.accountNo))])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("span",{staticStyle:{"margin-left":"5px","font-size":"16pt","font-style":"italic"}},[t._v("Transaction Treatments")]),a("table",{staticClass:"border"},[t._m(7),t._l(t.billinfo.Transaction.Treatments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.service))]),a("td",[t._v(t._s(e.actualAmount))]),a("td",{staticStyle:{width:"10%"}},["healthcard"==e.paymentmethod?a("span",[t._v(t._s(e.paymentmethod))]):t._e()])])})),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Total Transaction Amount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.totalAmount))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Discount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.Transaction.discount))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Grand Total Amount: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.totalAmount-t.billinfo.Transaction.discount))])]),t._m(8),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Amount Received: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.payment+t.billinfo.change))])]),a("tr",[a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","text-align":"right","font-weight":"bold","font-size":"16pt"},attrs:{colspan:"2"}},[t._v("Change: ")]),a("td",{staticStyle:{"padding-top":"0","padding-bottom":"0","font-weight":"bold","font-size":"16pt",background:"#F8F7DA"},attrs:{colspan:"2"}},[t._v(t._s(t.billinfo.change))])])],2)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("span",{staticStyle:{"margin-left":"5px","font-size":"16pt","font-style":"italic"}},[t._v("Previous Payments")]),a("table",{staticClass:"border billtable"},[t._m(9),t._l(this.previousPayments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.billrefNo))]),a("td",[t._v(t._s(t.dDatetime(e.createdAt)))]),a("td",[t._v(t._s(e.payment))]),a("td",[0==e.type?a("span",[t._v("Cash")]):a("span",[t._v("Healthcard")])]),a("td",[t._v(t._s(e.totalAmount-e.payment))])])})),t._m(10)],2)])]),a("div",[a("barcode",{attrs:{value:t.billinfo.billrefNo,width:4,height:70,lineColor:"dimgray"}},[t._v(" Show this if the rendering fails. ")])],1)])])])])},Sd=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px","font-size":"14pt"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("PAYMENT RECEIPT")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%"}},[t._v("Billing Reference No")]),a("td",{staticClass:"itemtitle"},[t._v("Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle"},[t._v("Transaction Reference No")]),a("td",{staticClass:"itemtitle"},[t._v("Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","vertical-align":"middle","text-align":"center"},attrs:{rowspan:"2"}},[t._v("AMOUNT TO BE PAID")]),a("td",{staticClass:"itemtitle",staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("PAYMENT")]),a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","vertical-align":"middle","text-align":"center"},attrs:{rowspan:"2"}},[t._v("BALANCE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","text-align":"center"}},[t._v("CASH")]),a("td",{staticClass:"itemtitle",staticStyle:{width:"25%","text-align":"center"}},[t._v("HEALTHCARD")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"50%"}},[t._v("HEALTHCARD NAME")]),a("td",{staticClass:"itemtitle"},[t._v("HEALTHCARD NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"itemtitle",staticStyle:{width:"50%"}},[t._v("ACCOUNT NAME")]),a("td",{staticClass:"itemtitle"},[t._v("ACCOUNT NO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticStyle:{width:"10%"}},[t._v("#")]),a("td",[t._v("Treatment")]),a("td",[t._v("Price")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"4"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticStyle:{background:"#343A40",color:"white"}},[a("td",{staticStyle:{width:"10%"}},[t._v("#")]),a("td",[t._v("Reference No")]),a("td",[t._v("Date")]),a("td",[t._v("Payment")]),a("td",[t._v("Type")]),a("td",[t._v("Balance")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("-")]),a("td"),a("td"),a("td"),a("td"),a("td")])}],$d={components:{barcode:co.a},computed:Object(r["a"])({previousPayments:{get:function(){var t=this,e=this.billinfo.Transaction.Billings.filter((function(e){if(e.id<t.billinfo.id)return e}));return e}}},Object(l["d"])({billinfo:function(t){return t.transaction.billinfo}}),{billdate:{get:function(){return"".concat(Object(x["formatBdayDate"])(this.billinfo.createdAt)," ").concat(Object(x["format12Hour"])(this.billinfo.createdAt))}},billtype:{get:function(){return 0==this.billinfo.type?"CASH":"HEALTHCARD"}},totalAmount:{get:function(){var t=0;return this.billinfo.Transaction.Treatments.forEach((function(e){t+=parseFloat(e.actualAmount)})),t}},AlreadyPaidAmount:{get:function(){var t=0;return this.billinfo.Transaction.Billings.forEach((function(e){t+=+e.payment})),t}},AmountToBePaid:{get:function(){var t=0,e=this.totalAmount;return t=e-this.AlreadyPaidAmount,t}}}),methods:{dDatetime:function(t){return"".concat(Object(x["formatBdayDate"])(t)," ").concat(Object(x["format12Hour"])(t))},print:function(){window.print()}},mounted:function(){this.$store.dispatch("activenav","recordnav"),this.$store.dispatch("transaction/viewBill",this.$route.params.idno),this.$JsBarcode("#bcode",this.billinfo.billrefNo,{format:"CODE128",lineColor:"dimgray",width:3,height:50,displayValue:!0})}},Ed=$d,Dd=(a("b3da"),Object(m["a"])(Ed,kd,Sd,!1,null,null,null)),Id=Dd.exports,Td=[{path:"/",component:rt,name:"landingPage"},{path:"/patient",component:Ml,beforeEnter:fl,name:"patientdashboard"},{path:"/patient/appointment",component:Bl,beforeEnter:fl,name:"patientAppointment"},{path:"/patient/reservation",component:Xl,beforeEnter:fl,name:"patientReservation"},{path:"/patient/reservation/:idno",component:id,beforeEnter:fl,name:"patientViewReservation"},{path:"/patient/feedbacks",component:ud,beforeEnter:fl,name:"patientfeedback"},{path:"/patient/transactions",component:gd,beforeEnter:fl,name:"patienttransaction"},{path:"/patient/transaction/:idno/form",component:xd,beforeEnter:fl,name:"patientTransactionform"},{path:"/patient/transaction/bill/:idno",component:Id,beforeEnter:fl,name:"patientViewBill"}],Nd={routes:Td},Ad=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Od=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("ERROR 404 || PAGE NOT FOUND")]),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("BACK")])])}],Pd={name:"notfound"},Md=Pd,jd=(a("f8b1"),Object(m["a"])(Md,Ad,Od,!1,null,"15d41b7a",null)),Rd=jd.exports;s["a"].use(gt["a"]);var Ud=[];gl.routes.forEach((function(t){Ud.push(t)})),Nd.routes.forEach((function(t){Ud.push(t)})),Ud.push({path:"*",component:Rd});var Fd=new gt["a"]({mode:"history",hash:!1,routes:Ud}),Ld=a("bc3a"),Bd=a.n(Ld),zd={namespaced:!0,state:{users:[],userinfo:{},patients:[]},actions:{getUsers:function(t,e){var a=e.usertype;Bd.a.get("".concat(t.rootState.apiUrl,"/api/user/list/").concat(a),t.rootState.headerconfig).then((function(e){t.commit("setuser",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getUserinfo:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/user/details/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setUserinfo",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},searchUser:function(t,e){return new Promise((function(a,s){setTimeout((function(){Bd.a.get("".concat(t.rootState.apiUrl,"/api/user/getList/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setuser",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},addpatient:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/addpatient"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},saveuser:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},saveuser_superadmin:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/saveuser_superadmin"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},registeruser:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/register"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeUser:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/user/archive/").concat(e.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeUser",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},changepassEmployee:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/user/changepassEmployee/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},changepass:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/user/changepass/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},changepic:function(t,e){var a=JSON.parse(t.rootState.userinfo),s=new FormData;s.append("imgfile",e.imgfile),s.append("id",a.id),s.append("oldimg",e.oldimg);var n={headers:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.accesstoken)}};return new Promise((function(e,a){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/changepic"),s,n).then((function(t){return t})).then((function(){Bd.a.post("https://dentalthesisphotostorage.000webhostapp.com/dentalPublic/upload.php",s,{headers:{"content-type":"multipart/form-data",Accept:"application/json"}}).then((function(t){e(t)}))})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),a(e)}))}))},updateUser:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/user/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},updateuser_superadmin:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/user/updateuser_superadmin/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},searchPatient:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/searchPatient"),e,t.rootState.headerconfig).then((function(e){t.commit("setPatient",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},search:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/search"),e,t.rootState.headerconfig).then((function(a){t.commit("branch/setUsers",{data:a.data.data,index:e.branchindex},{root:!0})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},searchSuperadmin:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/user/search"),e,t.rootState.headerconfig).then((function(e){t.commit("setuser",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{users:function(t){return t.users},pendingTransaction:function(t){var e=[];return t.userinfo.Transactions.forEach((function(t){0!=t.status&&1!=t.status||e.push(t)})),e},doneTransaction:function(t){var e=[];return t.userinfo.Transactions.forEach((function(t){0!=t.status&&1!=t.status&&e.push(t)})),e},activeReservation:function(t){var e=[];return t.userinfo.Reservations.forEach((function(t){1==t.status&&e.push(t)})),e}},mutations:{setuser:function(t,e){t.users=e},setUserinfo:function(t,e){t.userinfo=e},updateList:function(t,e){t.users.push(e)},removeUser:function(t,e){t.users.splice(e,1)},updateUser:function(t,e){t.users[e.index]=e.user},setPatient:function(t,e){t.patients=e}}},Hd={namespaced:!0,state:{data:{},dentistTransactions:[]},actions:{dentistTransaction:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/dashboard/dentistTransaction/").concat(e),t.rootState.headerconfig).then((function(t){a(t.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},getData:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/dashboard/getData/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setData",e.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))}},getters:{getData:function(t){return t.data}},mutations:{setData:function(t,e){t.data=e},setDentistTransaction:function(t,e){t.dentistTransactions=e}}},Yd={namespaced:!0,state:{branches:[],branch:{}},actions:{search:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/search/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setList",e.data.data),a(e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getPublicList:function(t){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/publicList"),t.rootState.headerconfig).then((function(e){t.commit("setList",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getList:function(t){return new Promise((function(e,a){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/list"),t.rootState.headerconfig).then((function(a){t.commit("setList",a.data.data),e(a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),a(e))}))}))},getListUser:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getListUser/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setList",e.data.data),a(e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getListService:function(t){return new Promise((function(e,a){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getListService"),t.rootState.headerconfig).then((function(a){t.commit("setList",a.data.data),e(a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),a(e))}))}))},getListDentist:function(t){return new Promise((function(e,a){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getListDentist"),t.rootState.headerconfig).then((function(a){t.commit("setList",a.data.data),e(a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),a(e))}))}))},getListMedicine:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getListMedicine/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setList",e.data.data),a(e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getListAllInfo:function(t){return new Promise((function(e,a){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getListAllInfo"),t.rootState.headerconfig).then((function(a){t.commit("setList",a.data.data),e(a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),a(e))}))}))},getInfo:function(t,e){var a=e.idno,s=e.type;return new Promise((function(e,n){Bd.a.get("".concat(t.rootState.apiUrl,"/api/branch/getInfo/").concat(a,"/").concat(s),t.rootState.headerconfig).then((function(a){t.commit("setBranch",a.data.data),e(a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),n(e))}))}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/branch/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("addList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},remove:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/branch/remove"),e,t.rootState.headerconfig).then((function(){t.commit("removeList",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},update:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/branch/update"),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateList",e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))}},getters:{},mutations:{setDentists:function(t,e){var a=e.data,s=e.index;t.branches[s].Dentists=a},setItems:function(t,e){var a=e.data,s=e.index;t.branches[s].Medicines=a},setService:function(t,e){var a=e.data,s=e.index;t.branches[s].Services=a},setUsers:function(t,e){var a=e.data,s=e.index;t.branches[s].Users=a},setList:function(t,e){t.branches=e},addList:function(t,e){t.branches.push(e)},updateList:function(t,e){t.branches[e.index]=e},removeList:function(t,e){t.branches.splice(e,1)},setBranch:function(t,e){t.branch=e[0]}}},qd={modules:{branch:Yd},namespaced:!0,state:{services:[]},actions:{getList:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/service/list/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setservice",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/service/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeList:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/service/archive/").concat(e.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeList",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},update:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/service/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateEdit",{data:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},search:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/service/search"),e,t.rootState.headerconfig).then((function(a){t.commit("branch/setService",{data:a.data.data,index:e.branchindex})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{},mutations:{setservice:function(t,e){t.services=e},updateList:function(t,e){t.services.push(e)},removeList:function(t,e){t.services.splice(e,1)},updateEdit:function(t,e){var a=e.data,s=e.index;t.services[s]=a}}},Vd={namespaced:!0,state:{dentists:[]},actions:{search:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/dentist/search"),e,t.rootState.headerconfig).then((function(a){t.commit("branch/setDentists",{data:a.data.data,index:e.branchindex},{root:!0})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getList:function(t){Bd.a.get("".concat(t.rootState.apiUrl,"/api/dentist/list"),t.rootState.headerconfig).then((function(e){t.commit("setdentist",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/dentist/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeList:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/dentist/archive/").concat(e.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeList",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},update:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/dentist/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateEdit",{data:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))}},getters:{},mutations:{setdentist:function(t,e){t.dentists=e},updateList:function(t,e){t.dentists.push(e)},removeList:function(t,e){t.dentists.splice(e,1)},updateEdit:function(t,e){var a=e.data,s=e.index;t.dentists[s]=a}}},Gd={modules:{branch:Yd},namespaced:!0,state:{medicines:[],stocksin:[],medicine:{}},actions:{search:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/medicine/search"),e,t.rootState.headerconfig).then((function(s){a(s.data.data),t.commit("setmedicine",s.data.data),t.commit("branch/setItems",{data:s.data.data,index:e.branchindex})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},getStocksin:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/medicine/getStocksin"),e,t.rootState.headerconfig).then((function(e){t.commit("setStocksin",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},addstock:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/medicine/addstock"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},getList:function(t,e){var a=e.branch,s=e.type;Bd.a.get("".concat(t.rootState.apiUrl,"/api/medicine/list/").concat(a,"/").concat(s),t.rootState.headerconfig).then((function(e){t.commit("setmedicine",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/medicine/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeList:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/medicine/archive/").concat(e.id),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},update:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/medicine/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateEdit",{data:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getInfo:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/medicine/getInfo"),e,t.rootState.headerconfig).then((function(e){t.commit("setMedicineInfo",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{},mutations:{setMedicineInfo:function(t,e){t.medicine=e},setmedicine:function(t,e){t.medicines=e},updateList:function(t,e){t.medicines.push(e)},removeList:function(t,e){t.medicines.splice(e,1)},updateEdit:function(t,e){var a=e.data,s=e.index;t.medicines[s]=a},setStocksin:function(t,e){t.stocksin=e}}},Jd={namespaced:!0,state:{usertransactions:[],transactionInfo:{Branch:{},User:{},Dentist:{},Treatments:[],Billings:[]},prescriptInfo:{},billinfo:{User:{address:"",email:""},Branch:{},customerName:"",Transaction:{Treatments:[],Billings:[]},Healthcard:{}},pharmacyTransactions:[]},actions:{updateActualTreatmentAmount:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/updateActualTreatmentAmount"),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.dispatch("getTransaction",e.transactID)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/save"),e,t.rootState.headerconfig).then((function(e){e.data.errors||t.dispatch("user/getUserinfo",e.data.userid,{root:!0}),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getUserTransaction:function(t,e){var a=e.userid;Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/user/").concat(a),t.rootState.headerconfig).then((function(e){t.commit("setUserTransaction",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getTransaction:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("settransactionInfo",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},actionSave:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/action/save"),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.dispatch("getTransaction",e.transactionId)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeAction_:function(t,e){Bd.a.delete("".concat(t.rootState.apiUrl,"/api/transaction/action/remove/").concat(e.id),t.rootState.headerconfig).then((function(a){a.data.errors||t.dispatch("getTransaction",e.transactID)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},addMedicineused:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/action/addMedicineused"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactID),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},updateMedicineused:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/action/updateMedicineused"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactID),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},removeMedicineused:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/action/removeMedicineused"),e.info,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactID),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},actionUpdate:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/action/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactID),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},editStatus:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/editStatus"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},updateType:function(t,e){var a=e.tid,s=e.val;Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/editType/").concat(a),{val:s},t.rootState.headerconfig).then((function(){})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},createPrescription:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/savePrescription"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.tid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},createBillTreatment:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/createBillTreatment"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.transactID),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},viewBill:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/viewBill/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setBillInfo",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},additionalTreatment:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/additionalTreatment/").concat(e.tid),e.data,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.tid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removePrescription:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/removePrescription"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.tid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeTreatment:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/removeTreatment"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.tid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},updatePrescription:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/updatePrescription"),e,t.rootState.headerconfig).then((function(s){s.data.errors||t.dispatch("getTransaction",e.tid),a(s)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getPrescriptInfo:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/prescriptionInfo/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setPrescriptionInfo",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getPrescriptInfoByRef:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/prescriptInfoByRef/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setPrescriptionInfo",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},createBillPharmarcy:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/createBillPharmarcy"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getRecords:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/getRecords"),e,t.rootState.headerconfig).then((function(e){t.commit("setUserTransaction",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},saveMedRemarks:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/saveMedRemarks"),e,t.rootState.headerconfig).then((function(){})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},addDiscount:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/transaction/addDiscount"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},getPastListPharmacy:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/getPastListPharmacy"),e,t.rootState.headerconfig).then((function(e){t.commit("setpharmacyTransactions",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{topTeeth:function(t){var e=[];return t.transactionInfo.User.Teeth.map((function(t){0==t.flag&&e.push(t)})),1==t.transactionInfo.toothType&&e.splice(10,6),e},BottomTeeth:function(t){var e=[];return t.transactionInfo.User.Teeth.map((function(t){1==t.flag&&e.push(t)})),1==t.transactionInfo.toothType&&e.splice(10,6),e}},mutations:{setUserTransaction:function(t,e){t.usertransactions=e},settransactionInfo:function(t,e){t.transactionInfo=e},setPrescriptionInfo:function(t,e){t.prescriptInfo=e},setBillInfo:function(t,e){t.billinfo=e},setpharmacyTransactions:function(t,e){t.pharmacyTransactions=e}}},Wd={namespaced:!0,state:{reservations:[],followupTransactions:[],pendings:[],reservationInfo:{},activeList:[],reservationsList:[],approvedTimes:[],appointments:[],reservationFollowups:[],list:[],nextappointments:[]},actions:{getUserTransactionWalkIn:function(t,e){var a=e.status,s=e.branch,n=e.userid;Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/get/").concat(a,"/").concat(s,"/").concat(n),t.rootState.headerconfig).then((function(e){t.commit("setFollowupTransaction",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},createWalkInReservation:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/createWalkInReservation"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getUserTransaction:function(t,e){var a=e.status,s=e.branch;Bd.a.get("".concat(t.rootState.apiUrl,"/api/transaction/get/").concat(a,"/").concat(s),t.rootState.headerconfig).then((function(e){t.commit("setFollowupTransaction",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/create"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getPending:function(t){Bd.a.get("".concat(t.rootState.apiUrl,"/api/reservation/get/0"),t.rootState.headerconfig).then((function(e){t.commit("setPendingReservation",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getReservationInfo:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/reservation/info/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setReservationInfo",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},cancelReservation:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/reservation/cancel/").concat(e.id),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},denyReservation:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/reservation/deny/").concat(e.id),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},approvedReservation:function(t,e){return new Promise((function(a,s){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/reservation/confirm/").concat(e.id),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getApprovedListDay:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.rootState.apiUrl,"/api/reservation/activelist/").concat(e.date,"/").concat(e.dentist,"/").concat(e.branch),t.rootState.headerconfig).then((function(e){t.commit("setActiveList",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getPatientReservations:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/patient"),{start:Object(x["formatDate"])(e.start),end:Object(x["formatDate"])(e.end),branchid:e.branchid,reservation:e.reservationNo},t.rootState.headerconfig).then((function(e){t.commit("setReservations",e.data.data),t.commit("setReservationsList",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getApprovedTimeDay:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/getApprovedTimeDay"),e,t.rootState.headerconfig).then((function(e){t.commit("setApprovedTime",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getAppointments:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/appointments"),{start:Object(x["formatDate"])(e.start),end:Object(x["formatDate"])(e.end),branch:e.branch,dentist:e.dentist},t.rootState.headerconfig).then((function(e){t.commit("setAppointments",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},proceedTransaction:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/proceedTransaction"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},createFollowupReservation:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/createFollowupReservation"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},changeReservationDate:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/changeReservationDate"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getReservationFollowup:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/reservation/getReservationFollowup/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setReservationFollowup",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},deleteReservation:function(t,e){return new Promise((function(a,s){Bd.a.delete("".concat(t.rootState.apiUrl,"/api/reservation/deleteReservation/").concat(e),t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},list:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/list"),e,t.rootState.headerconfig).then((function(e){t.commit("setList",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},changeTimeReservation:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/changeTimeReservation"),e,t.rootState.headerconfig).then((function(t){a(t.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getNextAppointment:function(t){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reservation/getNextAppointment"),{},t.rootState.headerconfig).then((function(e){t.commit("setNextAppointment",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{getActiveEvents:function(t){var e=t.activeList.map((function(t){return{id:t.id,title:"Reservation No: ".concat(t.reservationNo),start:"".concat(t.date," ").concat(t.Start,":00"),end:"".concat(t.date," ").concat(t.End,":00"),customRender:!0,extendedProps:{status:t.status,Start:t.Start,End:t.End,isResched:t.isResched}}}));return e},getApprovedAppointments:function(t){var e=t.appointments.map((function(t){return{id:t.id,title:"Reservation No: ".concat(t.reservationNo),start:"".concat(t.date," ").concat(t.Start,":00"),end:"".concat(t.date," ").concat(t.End,":00"),customRender:!0,extendedProps:{status:t.status,dentist:t.Dentist.fullname,treatments:t.Treatments,patient:t.User,reservationInfo:t,branch:t.Branch.branch,Start:t.Start,End:t.End,isResched:t.isResched}}}));return e},getReservationEvents:function(t){var e=t.reservations.map((function(t){return{id:t.id,title:"Reservation No: ".concat(t.reservationNo),start:"".concat(t.date," ").concat(t.Start,":00"),end:"".concat(t.date," ").concat(t.End,":00"),customRender:!0,extendedProps:{status:t.status,dentist:t.Dentist.fullname,branch:t.Branch.branch,Start:t.Start,End:t.End,isResched:t.isResched}}}));return e},getReserveTime:function(t){var e=[];return t.approvedTimes.forEach((function(t){var a=parseInt(t.Start.split(":")[0]),s=parseInt(t.End.split(":")[0]);for(a;a<=s;a++)e.push({active:0,index:a,value:"".concat(a,":00"),text:""})})),e}},mutations:{setFollowupTransaction:function(t,e){t.followupTransactions=e},setPendingReservation:function(t,e){t.pendings=e},setReservationInfo:function(t,e){t.reservationInfo=e},setActiveList:function(t,e){t.activeList=e},setReservations:function(t,e){t.reservations=e},setReservationsList:function(t,e){t.reservationsList=e},setApprovedTime:function(t,e){t.approvedTimes=e},setAppointments:function(t,e){t.appointments=e},setReservationFollowup:function(t,e){t.reservationFollowups=e},setList:function(t,e){t.list=e},setNextAppointment:function(t,e){t.nextappointments=e}}},Zd={namespaced:!0,state:{notifications:[]},actions:{createMessage:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/notification/message/create"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},getPendingNotification:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/notification/get/").concat(e.admin),t.rootState.headerconfig).then((function(e){t.commit("setNotifications",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},markasRead:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/notification/markasRead/").concat(e),{},t.rootState.headerconfig).then((function(){t.dispatch("getPendingNotification",{admin:1})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},markasReadpatient:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/notification/markasReadpatient/").concat(e),{},t.rootState.headerconfig).then((function(){t.dispatch("getPendingNotification",{admin:0})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},messageMarkasRead:function(t,e){Bd.a.patch("".concat(t.rootState.apiUrl,"/api/notification/messageMarkasRead/").concat(e),{},t.rootState.headerconfig).then((function(){t.dispatch("getPendingNotification",{admin:0})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{notifs:function(t){var e=t.notifications.filter((function(t){if(0==t.isAnnounce)return t}));return e},messages:function(t){var e=t.notifications.filter((function(t){if(1==t.isAnnounce)return t}));return e}},mutations:{setNotifications:function(t,e){t.notifications=e}}},Qd={namespaced:!0,state:{feedbacks:[]},actions:{save:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/feedback/save"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},patientget:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/feedback/patientget/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setFeedbacks",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},adminget:function(t,e){Bd.a.get("".concat(t.rootState.apiUrl,"/api/feedback/adminget/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setFeedbacks",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},remove:function(t,e){Bd.a.delete("".concat(t.rootState.apiUrl,"/api/feedback/remove/").concat(e.id),t.rootState.headerconfig).then((function(){t.commit("removeFeedbacks",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{feedbackFinal:function(t){var e=t.feedbacks.map((function(t){for(var e=[],a=0;a<t.star;a++)e.push({star:1});return t.stararray=e,t}));return e}},mutations:{setFeedbacks:function(t,e){t.feedbacks=e},removeFeedbacks:function(t,e){t.feedbacks.splice(e,1)}}},Kd={namespaced:!0,state:{transactions:[],billings:[],sales:[],purchases:[]},actions:{sales_yearly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/sales_yearly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},sales_monthly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/sales_monthly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},sales_daily:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/sales_daily"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},pharmacy_daily:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/pharmacy_daily"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},pharmacy_monthly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/pharmacy_monthly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},appointment_daily:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/appointment_daily"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},appointment_monthly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/appointment_monthly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},appointment_yearly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/appointment_yearly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},pharmacy_yearly:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/pharmacy_yearly"),e,t.rootState.headerconfig).then((function(e){t.commit("setSales",e.data),a(e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},getRecords:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/transaction/getRecords"),e,t.rootState.headerconfig).then((function(e){t.commit("setTransactions",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},billingRecords:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/billingRecords"),e,t.rootState.headerconfig).then((function(e){t.commit("setBillings",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},pharmacyPurchaseRecords:function(t,e){Bd.a.post("".concat(t.rootState.apiUrl,"/api/reports/pharmacyPurchaseRecords"),e,t.rootState.headerconfig).then((function(e){t.commit("setPharmacyPurchase",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{},mutations:{setTransactions:function(t,e){t.transactions=e},setBillings:function(t,e){t.billings=e},setSales:function(t,e){t.sales=e},setPharmacyPurchase:function(t,e){t.purchases=e}}};s["a"].use(l["a"]);var Xd=new l["a"].Store({modules:{user:zd,dashboard:Hd,service:qd,dentist:Vd,medicine:Gd,transaction:Jd,reservation:Wd,notification:Zd,branch:Yd,feedback:Qd,report:Kd},state:{islogin:localStorage.getItem("islogin")||!1,accesstoken:localStorage.getItem("accesstoken")||null,refreshtoken:localStorage.getItem("refreshtoken")||null,userinfo:localStorage.getItem("userinfo")||null,headerconfig:{headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accesstoken"))}},imgUrl:"http://localhost:8080/public/images/patients",apiUrl:"http://localhost:8080",schedules:[]},getters:{},actions:{activenav:function(t,e){var a=document.getElementsByClassName("nav-item");a.forEach((function(t){t.classList.remove("active")}));var s=document.getElementsByClassName("dropdownItem");s.forEach((function(t){t.style.background="white",t.style.color="#007BFF",t.style.fontWeight="normal"})),document.getElementById("".concat(e)).classList.add("active")},authenticated:function(t,e){localStorage.setItem("accesstoken",e.data.accesstoken),localStorage.setItem("refreshtoken",e.data.refreshtoken),localStorage.setItem("userinfo",JSON.stringify(e.data.user)),localStorage.setItem("islogin",!0),0==e.data.user.usertype&&localStorage.setItem("isadmin",!0),1==e.data.user.usertype&&localStorage.setItem("isstaff",!0),3==e.data.user.usertype&&localStorage.setItem("issuperadmin",!0),t.commit("changetokenstate",e.data),t.commit("changeislogin",{status:!0})},login:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.state.apiUrl,"/api/auth/login"),e).then((function(t){a(t)})).catch((function(t){return s(t)}))}))},logout:function(t){Bd.a.delete("".concat(t.state.apiUrl,"/api/auth/logout"),t.state.headerconfig).then((function(){localStorage.removeItem("accesstoken"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("userinfo"),localStorage.removeItem("islogin"),localStorage.removeItem("isadmin"),localStorage.removeItem("isstaff"),localStorage.removeItem("issuperadmin"),t.commit("changeislogin",{status:!1})})).catch((function(e){console.log(e),localStorage.removeItem("accesstoken"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("userinfo"),localStorage.removeItem("islogin"),localStorage.removeItem("isadmin"),localStorage.removeItem("isstaff"),localStorage.removeItem("issuperadmin"),t.commit("changeislogin",{status:!1})}))},refreshtoken:function(t){Bd.a.post("".concat(t.state.apiUrl,"/api/auth/refreshtoken"),{refreshtoken:t.state.refreshtoken}).then((function(e){console.log(e),t.dispatch("authenticated",e),window.location.reload()})).catch((function(e){403!=e.response.status&&401!=e.response.status||!e.response.data.msg||(t.dispatch("logout"),window.location.href="/")}))},sendreset:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.state.apiUrl,"/api/auth/sendResetLink"),e).then((function(t){a(t)})).catch((function(t){return s(t)}))}))},changepass:function(t,e){return new Promise((function(a,s){Bd.a.post("".concat(t.state.apiUrl,"/api/auth/changepass"),e).then((function(t){a(t)})).catch((function(t){return s(t)}))}))},getSchedules:function(t,e){return new Promise((function(a,s){Bd.a.get("".concat(t.state.apiUrl,"/api/getSchedules/").concat(e),t.state.headerconfig).then((function(e){t.commit("setSchedules",e.data.data),a(e)})).catch((function(t){s(t)}))}))},updateSchedule:function(t,e){Bd.a.post("".concat(t.state.apiUrl,"/api/updateSchedule"),e,t.state.headerconfig).then((function(){t.dispatch("getSchedules")})).catch((function(t){return console.log(t)}))}},mutations:{changeislogin:function(t,e){t.islogin=e.status},changetokenstate:function(t,e){t.accesstoken=e.accesstoken,t.refreshtoken=e.refreshtoken,t.headerconfig.headers.Authorization="Bearer ".concat(e.accesstoken),t.userinfo=JSON.stringify(e.user)},setSchedules:function(t,e){t.schedules=e}}}),tu=a("8055"),eu=a.n(tu),au=a("5886"),su=(a("4413"),a("d842")),nu=a("30ef"),iu=a.n(nu),ru=a("e499"),ou=a.n(ru),cu=a("4ebb"),lu=a.n(cu);a("ed18").config(),s["a"].prototype.$mysocket=eu()("".concat(Xd.state.apiUrl),{transport:["websocket"]}),s["a"].use(au["a"]),s["a"].use(Y.a),s["a"].use(su["a"].use(iu.a)),ou.a.vfs=lu.a.pdfMake.vfs,s["a"].prototype.$pdfMake=ou.a,s["a"].prototype.$helper={calculateAge:x["calculateAge"],formatBdayDate:x["formatBdayDate"],formatDate:x["formatDate"],roundToDecimal:x["roundToDecimal"],formatHour:x["formatHour"],format12Hour:x["format12Hour"],limitText:x["limitText"],formatraw12Hour:x["formatraw12Hour"],maskspace:x["maskspace"]},s["a"].config.productionTip=!1,new s["a"]({router:Fd,store:Xd,render:function(t){return t(vt)}}).$mount("#app")},"577a":function(t,e,a){},"60fd":function(t,e,a){t.exports=a.p+"img/proceedtoappointment.8cad16d7.svg"},"61a9":function(t,e,a){},"646b":function(t,e,a){a("99af"),a("fb6a"),a("ac1f"),a("1276");var s=function(t){var e,a=new Date,s=a.getFullYear(),n=a.getMonth(),i=a.getDate(),r=new Date(t),o=r.getFullYear(),c=r.getMonth(),l=r.getDate();return e=n<c||n==c&&i<l?s-o-1:s-o,e},n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=function(t){if(null==t)return"";var e=new Date(t);return"".concat(n[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},r=function(t){var e=new Date(t),a=e.getFullYear(),s="0".concat(e.getMonth()+1),n="0".concat(e.getDate());return"".concat(a,"-").concat(s.slice(-2),"-").concat(n.slice(-2))},o=function(t){if(null==t)return"00:00";var e=new Date(t),a=e,s="0".concat(a.getHours()),n="0".concat(a.getMinutes());return"".concat(s.slice(-2),":").concat(n.slice(-2))},c=function(t){var e,a=o(t),s=a.split(":");return 12==s[0]?"".concat(a," pm"):s[0]>12?(e=s[0]-12,"".concat(e,":").concat(s[1]," pm")):0==parseInt(s[0])?(e=12,"".concat(e,":").concat(s[1]," am")):"".concat(a," am")},l=function(t){if(null==t)return"00:00";var e,a=new Date(t),s=a,n="0".concat(s.getHours()),i="0".concat(s.getMinutes()),r="".concat(n.slice(-2),":").concat(i.slice(-2)),o=r.split(":");return 12==o[0]?"".concat(r," pm"):o[0]>12?(e=o[0]-12,"".concat(e,":").concat(o[1]," pm")):0==parseInt(o[0])?(e=12,"".concat(e,":").concat(o[1]," am")):"".concat(r," am")},d=function(t){var e,a=t.split(":");return 12==a[0]?"".concat(t," pm"):a[0]>12?(e=a[0]-12,"".concat(e,":").concat(a[1]," pm")):0==parseInt(a[0])?(e=12,"".concat(e,":").concat(a[1]," am")):"".concat(t," am")},u=function(t){return t.length>=70&&(t="".concat(t.slice(0,-3),"...")),t},m=function(t,e){return+(Math.round(t+"e+".concat(e))+"e-".concat(e))},p=function(t,e){for(var a=String(e).length,s=parseInt(t)-parseInt(a),n="",i=0;i<s;i++)n+=" ";return"".concat(e).concat(n)};t.exports={calculateAge:s,formatBdayDate:i,formatDate:r,roundToDecimal:m,formatHour:o,format12Hour:c,limitText:u,formatraw12Hour:d,maskspace:p,format12HourNewServer:l}},"707a":function(t,e,a){t.exports=a.p+"img/Orthodontics.1a2518c1.jpg"},"718b":function(t,e,a){t.exports=a.p+"img/Periodontics.d82f44a7.jpg"},"72d8":function(t,e,a){},7449:function(t,e,a){},"7ba6":function(t,e,a){},"7d7a":function(t,e,a){},"7e67":function(t,e,a){"use strict";var s=a("056b"),n=a.n(s);n.a},"7e7d":function(t,e,a){},8472:function(t,e,a){},"85ec":function(t,e,a){},"8b09":function(t,e,a){"use strict";var s=a("3721"),n=a.n(s);n.a},"8e97":function(t,e,a){t.exports=a.p+"img/logoraw.cf744a90.jpg"},"90e4":function(t,e,a){t.exports=a.p+"img/xray.4874a0a6.jpg"},9285:function(t,e,a){t.exports=a.p+"img/waitConfirm.3d4173a7.svg"},"932e":function(t,e,a){},"9f65":function(t,e,a){},a20f:function(t,e,a){"use strict";var s=a("4ef2"),n=a.n(s);n.a},a415:function(t,e,a){"use strict";var s=a("3990"),n=a.n(s);n.a},a940:function(t,e,a){"use strict";var s=a("577a"),n=a.n(s);n.a},b3da:function(t,e,a){"use strict";var s=a("1f4b"),n=a.n(s);n.a},b49c:function(t,e,a){},b640:function(t,e,a){t.exports=a.p+"img/logo.8a62b9ee.jpg"},bcf7:function(t,e,a){"use strict";var s=a("932e"),n=a.n(s);n.a},bf0f:function(t,e,a){},cdc8:function(t,e,a){t.exports=a.p+"img/preventive.a154f51f.jpg"},d12b:function(t,e,a){"use strict";var s=a("9f65"),n=a.n(s);n.a},d1d8:function(t,e,a){"use strict";var s=a("72d8"),n=a.n(s);n.a},d246:function(t,e,a){},d2ad:function(t,e,a){"use strict";var s=a("0f0e"),n=a.n(s);n.a},d952:function(t,e,a){},e219:function(t,e,a){t.exports=a.p+"img/fb.8bd7944b.png"},e4d7:function(t,e,a){t.exports=a.p+"img/twitter.b757f2bc.png"},ee42:function(t,e,a){t.exports=a.p+"img/setdate.2aa9d48f.svg"},f094:function(t,e,a){"use strict";var s=a("61a9"),n=a.n(s);n.a},f392:function(t,e,a){"use strict";var s=a("7d7a"),n=a.n(s);n.a},f8b1:function(t,e,a){"use strict";var s=a("d246"),n=a.n(s);n.a},fa5e:function(t,e,a){t.exports=a.p+"img/loader.dc22777d.gif"},faf8:function(t,e,a){t.exports=a.p+"img/oral.fe958237.jpg"}});